/**
 * [GF_logistics]{@link https://github.com/CHANTXU64/Girls-Frontline}
 *
 * @namespace GF_logistics
 * @version v1_0_1
 * @author ChantXu64 [chantxu@outlook.com]
 * @copyright ChantXu64
 * @license MIT
 */
"use strict";function s(e,t,a){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:s(i,t,a)}if("value"in n)return n.value;var l=n.get;return void 0!==l?l.call(a):void 0}var e=function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e};function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}window.onerror=function(e,t,a,n,i){console.error("错误信息："+e+", 出错文件："+t+", 出错文件："+t+", 出错行号："+a+", 出错列号："+n+", 错误详情："+i)};var g=void 0,i={lang:"zh-Hans",title:"少女前线-后勤组合排序器",HTML:{header:"后勤组合排序器 ",Config_text:"全局数据",description_text:"计算结果只和资源（或契约）之间的比例有关。计算结果为均值。",neverShowAgain_description:"[&times;]<u>不再显示</u>",localstorageDoesNotWork:"因某些原因，Web存储无法工作，需要手动导出配置",localstorageWarning_text:"网页使用Web存储，清除浏览器缓存会导致数据清除，请定期手动导出并保存你的数据。",neverShowAgain_localstorageWarning:"[&times;]<u>不再显示</u>",setting:"设置",Tab_Anytime_name:"连续后勤",Tab_Timetable_name:"时间计划表",tab_Anytime_time:"后勤总时长",tab_Anytime_hour:"小时",tab_Anytime_minute:"分钟",tab_Anytime_MinimumIntervalTime:"最短间隔时间",tab_Anytime_MinimumIntervalTime_minute:"分钟",tab_Timetable_time:"后勤总时长",tab_Timetable_hour:"小时",tab_Timetable_minute:"分钟",tab_Timetable_addtimeh5:"新添加一个收取后勤时间点:",tab_Timetable_new_hour:"小时",tab_Timetable_new_minute:"分钟",h4GreatSuccessRate:"后勤队伍平均大成功概率",GreatSuccessRateUp_text:"后勤大成功UP",h4ChapterLimit:"章节解锁",Display_PerHour_text:"以每小时显示",Display_Total_text:"以总计显示",ContractWeight_notImportant:"契约不重要",ContractWeight_Important:"契约重要",start_ranking:"开始排序",clear_ranking:"清除排序结果",result:"排序结果",Manp:"人力",Ammu:"弹药",Rati:"口粮",Part:"零件",TPro:"人形",Equi:"装备",QPro:"快建",QRes:"快修",setTarget_HG:"手枪HG",setTarget_SMG:"冲锋枪SMG",setTarget_RF:"步枪RF",setTarget_AR:"突击步枪AR",setTarget_MG:"机枪MG",setTarget_SG:"霰弹枪SG",setTarget_2221:"均衡",setTarget_Clear:"清零",MissionTableTitle:"关卡",MissionTable_head_Mission:"关卡",MissionTable_head_Manp:"人力",MissionTable_head_Ammu:"弹药",MissionTable_head_Rati:"口粮",MissionTable_head_Part:"零件",MissionTable_head_TPro:"人形",MissionTable_head_Equi:"装备",MissionTable_head_QPro:"快建",MissionTable_head_QRes:"快修",MissionTable_head_Time:"时间",PlanDetailsTitle:"方案详情",PlanDetails_Mission:"关卡",PlanDetails_Manp:"人力",PlanDetails_Ammu:"弹药",PlanDetails_Rati:"口粮",PlanDetails_Part:"零件",PlanDetails_TPro:"人形",PlanDetails_Equi:"装备",PlanDetails_QPro:"快建",PlanDetails_QRes:"快修",PlanDetails_Time:"时间",savePlan:"保存方案",Capture:"捕获",PlanDetails_InputStartTime_label:"后勤开始时间",PlanDetails_InputExecutionTimes_label:"后勤执行次数",Saved_Title:"已保存的",NoSaved:"空",start_ranking_html:'点击 <span style="color:#165399">开始排序</span> 按钮，排序前十六的结果将在这里显示',permanentAddress:"永久地址: ",calcTargetValueTool_title:"计算需求量工具",calcTargetValueTool_text_ResourceContract:"资源契约",calcTargetValueTool_Manp_text:"人力",calcTargetValueTool_Ammu_text:"弹药",calcTargetValueTool_Rati_text:"口粮",calcTargetValueTool_Part_text:"零件",calcTargetValueTool_TPro_text:"人形",calcTargetValueTool_Equi_text:"装备",calcTargetValueTool_QPro_text:"快建",calcTargetValueTool_QRes_text:"快修",calcTargetValueTool_text_target:"目标值",calcTargetValueTool_text_current:"现值",calcTargetValueTool_text_result:"结果",calcTargetValueTool_InputExecutionTimes_label:"后勤执行次数",calcTargetValueTool_clear:"重置",calcTargetValueTool_startCalc:"计算",calcTargetValueTool_apply_text:"应用",OfflineVersion:"下载离线版本"},HTMLJS:{placeholder:{Config_importInput:"导出或导入的配置",Time_Anytime_hours:"总时长小时数",Time_Anytime_minutes:"总时长分钟数",Tab_Anytime_MinimumIntervalTime_minutes:"最小时间间隔分钟数",Time_Timetable_hours:"总时长小时数",Time_Timetable_minutes:"总时长分钟数",Tab_Timetable_new_hours:"新时间点小时数",Tab_Timetable_new_minutes:"新时间点分钟数",GreatSuccessRate:"大成功基础概率",MT:"人力需求量",AT:"弹药需求量",RT:"口粮需求量",PT:"零件需求量",TT:"人形需求量",ET:"装备需求量",QPT:"快建需求量",QRT:"快修需求量",importSaved_input:"导出或导入的数据",PlanDetails_InputExecutionTimes:"执行次数"},title:{Config_importButton:"导入全局数据",Config_export:"导出全局数据",tab_Timetable_deleteall:"删除全部时间点",Tab_Timetable_AddNewTimePoint:"添加一个收取后勤时间点",ChapterLimit:"最大已解锁的战役章节",ContractWeight:"契约权重",Target_minus_100_MT:"人力需求量减少100",Target_minus_10_MT:"人力需求量减少10",Target_plus_10_MT:"人力需求量增加10",Target_plus_100_MT:"人力需求量增加100",Target_minus_100_AT:"弹药需求量减少100",Target_minus_10_AT:"弹药需求量减少10",Target_plus_10_AT:"弹药需求量增加10",Target_plus_100_AT:"弹药需求量增加100",Target_minus_100_RT:"口粮需求量减少100",Target_minus_10_RT:"口粮需求量减少10",Target_plus_10_RT:"口粮需求量增加10",Target_plus_100_RT:"口粮需求量增加100",Target_minus_100_PT:"零件需求量减少100",Target_minus_10_PT:"零件需求量减少10",Target_plus_10_PT:"零件需求量增加10",Target_plus_100_PT:"零件需求量增加100",Target_minus_1_TT:"人形需求量减少1",Target_minus_01_TT:"人形需求量减少0.1",Target_plus_01_TT:"人形需求量增加0.1",Target_plus_1_TT:"人形需求量增加1",Target_minus_1_ET:"装备需求量减少1",Target_minus_01_ET:"装备需求量减少0.1",Target_plus_01_ET:"装备需求量增加0.1",Target_plus_1_ET:"装备需求量增加1",Target_minus_1_QPT:"快建需求量减少1",Target_minus_01_QPT:"快建需求量减少0.1",Target_plus_01_QPT:"快建需求量增加0.1",Target_plus_1_QPT:"快建需求量增加1",Target_minus_1_QRT:"快修需求量减少1",Target_minus_01_QRT:"快修需求量减少0.1",Target_plus_01_QRT:"快修需求量增加0.1",Target_plus_1_QRT:"快修需求量增加1",importSaved_importButton:"导入数据"},Demand_hour:"平均每小时需求量",Demand_total:"总需求量",Timetable_deletePoint:"删除这个时间点",SavedTable_apply:"应用方案",SavedTable_name:"方案名称",SavedTable_rename:"重命名方案",SavedTable_up:"往上移动",SavedTable_down:"往下移动",SavedTable_export:"导出方案",SavedTable_delete:"删除方案",FineTuning_minus:"减小需求量",FineTuning_plus:"增大需求量"},JS:{chapter_start:"第",chapter_end:"战役",number:function(e){for(var t=["零","一","二","三","四","五","六","七","八","九","十"],a=["","十","百","千","万","十万","百万","千万","亿"],n="",i=""+e,l=i.length,r=0;r<i.length;r++){var o=i[r]-"0",s=l-r-1;if(0==o){if("0"===i[r-1]||r===i.length-1)continue;n+=4<=s&&0==s%4?a[s]:t[o]}else n+=t[o],2===i.length&&"1"===i[0]&&0===r&&(n=""),n+=0==s%4?a[s]:a[s%4]}return n},Manp:"人力",Ammu:"弹药",Rati:"口粮",Part:"零件",TPro:"人形",Equi:"装备",QPro:"快建",QRes:"快修",FineTuningManp:"人力",FineTuningAmmu:"弹药",FineTuningRati:"口粮",FineTuningPart:"零件",FineTuningTPro:"人形",FineTuningEqui:"装备",FineTuningQPro:"快建",FineTuningQRes:"快修",FineTuningTool:"微调工具",TargetValue0_alert:"需求不能全为0！",tab_Anytime_alert1:"总时长不能为0！",tab_Timetable_alert1:"不需要在后勤开始点再添加收取时间点",tab_Timetable_alert2:"添加的收取时间点不能超过最大时限",tab_Timetable_alert3:"已经添加过这个收取时间点",tab_Timetable_alert4:"总时长不能为0！",Mission:"关卡",MinIntervalTime:"最短间隔",NoPlan:"没有合适的方案",NoMission:"没有可用的关卡",PlanDetails_calculateMethod:"计算方式",total_time:"总时长",total_greatSuccessRate:"大成功总概率",PerHour:"平均/h",Total:"总计",ExecutionTimes:"执行次数",plzInputPlanName:"请输入方案名称",planDefaultName:"自定义",deleteSavedWarning_1:"是否要删除这个名为",deleteSavedWarning_2:"的配置？",Saved_alert:"导入的数据有问题！",Saved_alert2:"保存的数量过多，不能再添加",config_alert:"这将会覆盖现有所有的数据，是否要继续？",FailedWindowLoadWarn:"可能由于Web存储数据不正确, 导致网页崩溃. 您可以将下面的数据报告到GitHub或发送邮件到chantxu@outlook.com"},CSS:{TargetValueSpan_Width:"55px",FineTuningButton_Width:"60%"}},l={lang:"zh-Hant",title:"少女前線-後勤組合排序器",HTML:{header:"後勤組合排序器 ",Config_text:"全局數據",description_text:"計算結果只和資源（或契約）之間的比例有關。計算結果為期望值。",neverShowAgain_description:"[&times;]<u>不再顯示</u>",localstorageDoesNotWork:"因某些原因，Web存儲無法工作，需要手動導出配置",localstorageWarning_text:"網頁使用Web存儲，清除瀏覽器緩存會導致數據清除，請定期手動導出並保存你的數據。",neverShowAgain_localstorageWarning:"[&times;]<u>不再顯示</u>",setting:"設置",Tab_Anytime_name:"連續後勤",Tab_Timetable_name:"時間計劃表",tab_Anytime_time:"後勤總時長",tab_Anytime_hour:"小時",tab_Anytime_minute:"分鐘",tab_Anytime_MinimumIntervalTime:"最短間隔時間",tab_Anytime_MinimumIntervalTime_minute:"分鐘",tab_Timetable_time:"後勤總時長",tab_Timetable_hour:"小時",tab_Timetable_minute:"分鐘",tab_Timetable_addtimeh5:"新添加一個收取後勤時間點:",tab_Timetable_new_hour:"小時",tab_Timetable_new_minute:"分鐘",h4GreatSuccessRate:"後勤隊伍平均大成功概率",GreatSuccessRateUp_text:"後勤大成功UP",h4ChapterLimit:"章節解鎖",Display_PerHour_text:"以每小時顯示",Display_Total_text:"以總計顯示",ContractWeight_notImportant:"契約不重要",ContractWeight_Important:"契約重要",start_ranking:"開始排序",clear_ranking:"清除排序結果",result:"排序結果",Manp:"人力",Ammu:"彈藥",Rati:"口糧",Part:"零件",TPro:"人形",Equi:"裝備",QPro:"快建",QRes:"快修",setTarget_HG:"手槍HG",setTarget_SMG:"衝鋒槍SMG",setTarget_RF:"步槍RF",setTarget_AR:"突擊步槍AR",setTarget_MG:"機槍MG",setTarget_SG:"霰彈槍SG",setTarget_2221:"均衡",setTarget_Clear:"清零",MissionTableTitle:"關卡",MissionTable_head_Mission:"關卡",MissionTable_head_Manp:"人力",MissionTable_head_Ammu:"彈藥",MissionTable_head_Rati:"口糧",MissionTable_head_Part:"零件",MissionTable_head_TPro:"人形",MissionTable_head_Equi:"裝備",MissionTable_head_QPro:"快建",MissionTable_head_QRes:"快修",MissionTable_head_Time:"時間",PlanDetailsTitle:"方案詳情",PlanDetails_Mission:"關卡",PlanDetails_Manp:"人力",PlanDetails_Ammu:"彈藥",PlanDetails_Rati:"口糧",PlanDetails_Part:"零件",PlanDetails_TPro:"人形",PlanDetails_Equi:"裝備",PlanDetails_QPro:"快建",PlanDetails_QRes:"快修",PlanDetails_Time:"時間",savePlan:"保存方案",Capture:"捕獲",PlanDetails_InputStartTime_label:"後勤開始時間",PlanDetails_InputExecutionTimes_label:"執行次數",Saved_Title:"已保存的",NoSaved:"空",start_ranking_html:'點擊 <span style="color:#165399">開始排序</span> 按鈕，排序前十六的結果將在這裡顯示',permanentAddress:"永久地址: ",calcTargetValueTool_title:"計算需求量工具",calcTargetValueTool_text_ResourceContract:"資源契約",calcTargetValueTool_Manp_text:"人力",calcTargetValueTool_Ammu_text:"彈藥",calcTargetValueTool_Rati_text:"口糧",calcTargetValueTool_Part_text:"零件",calcTargetValueTool_TPro_text:"人形",calcTargetValueTool_Equi_text:"裝備",calcTargetValueTool_QPro_text:"快建",calcTargetValueTool_QRes_text:"快修",calcTargetValueTool_text_target:"目標值",calcTargetValueTool_text_current:"現值",calcTargetValueTool_text_result:"結果",calcTargetValueTool_InputExecutionTimes_label:"後勤執行次數",calcTargetValueTool_clear:"重置",calcTargetValueTool_startCalc:"計算",calcTargetValueTool_apply_text:"應用",OfflineVersion:"下載離線版本"},HTMLJS:{placeholder:{Config_importInput:"導出或導入的數據",Time_Anytime_hours:"總時長小時數",Time_Anytime_minutes:"總時長分鐘數",Tab_Anytime_MinimumIntervalTime_minutes:"最小時間間隔分鐘數",Time_Timetable_hours:"總時長小時數",Time_Timetable_minutes:"總時長分鐘數",Tab_Timetable_new_hours:"新時間點小時數",Tab_Timetable_new_minutes:"新時間點分鐘數",GreatSuccessRate:"大成功基礎概率",MT:"人力需求量",AT:"彈藥需求量",RT:"口糧需求量",PT:"零件需求量",TT:"人形需求量",ET:"裝備需求量",QPT:"快建需求量",QRT:"快修需求量",importSaved_input:"導出或導入的數據",PlanDetails_InputExecutionTimes:"後勤執行次數"},title:{Config_importButton:"導入全局數據",Config_export:"導出全局數據",tab_Timetable_deleteall:"刪除全部時間點",Tab_Timetable_AddNewTimePoint:"添加一個收取後勤時間點",ChapterLimit:"最大已解鎖的戰役章節",ContractWeight:"契約權重",Target_minus_100_MT:"人力需求量減少100",Target_minus_10_MT:"人力需求量減少10",Target_plus_10_MT:"人力需求量增加10",Target_plus_100_MT:"人力需求量增加100",Target_minus_100_AT:"彈藥需求量減少100",Target_minus_10_AT:"彈藥需求量減少10",Target_plus_10_AT:"彈藥需求量增加10",Target_plus_100_AT:"彈藥需求量增加100",Target_minus_100_RT:"口糧需求量減少100",Target_minus_10_RT:"口糧需求量減少10",Target_plus_10_RT:"口糧需求量增加10",Target_plus_100_RT:"口糧需求量增加100",Target_minus_100_PT:"零件需求量減少100",Target_minus_10_PT:"零件需求量減少10",Target_plus_10_PT:"零件需求量增加10",Target_plus_100_PT:"零件需求量增加100",Target_minus_1_TT:"人形需求量減少1",Target_minus_01_TT:"人形需求量減少0.1",Target_plus_01_TT:"人形需求量增加0.1",Target_plus_1_TT:"人形需求量增加1",Target_minus_1_ET:"裝備需求量減少1",Target_minus_01_ET:"裝備需求量減少0.1",Target_plus_01_ET:"装备需求量增加0.1",Target_plus_1_ET:"装备需求量增加1",Target_minus_1_QPT:"快建需求量減少1",Target_minus_01_QPT:"快建需求量減少0.1",Target_plus_01_QPT:"快建需求量增加0.1",Target_plus_1_QPT:"快建需求量增加1",Target_minus_1_QRT:"快修需求量減少1",Target_minus_01_QRT:"快修需求量減少0.1",Target_plus_01_QRT:"快修需求量增加0.1",Target_plus_1_QRT:"快修需求量增加1",importSaved_importButton:"導入數據"},Demand_hour:"平均每小時需求量",Demand_total:"總需求量",Timetable_deletePoint:"刪除這個時間點",SavedTable_apply:"應用方案",SavedTable_name:"方案名稱",SavedTable_rename:"重命名方案",SavedTable_up:"往上移動",SavedTable_down:"往下移動",SavedTable_export:"導出方案",SavedTable_delete:"刪除方案",FineTuning_minus:"減小需求量",FineTuning_plus:"增大需求量"},JS:{chapter_start:"第",chapter_end:"戰役",number:function(e){for(var t=["零","一","二","三","四","五","六","七","八","九","十"],a=["","十","百","千","萬","十萬","百萬","千萬","億"],n="",i=""+e,l=i.length,r=0;r<i.length;r++){var o=i[r]-"0",s=l-r-1;if(0==o){if("0"===i[r-1]||r===i.length-1)continue;n+=4<=s&&0==s%4?a[s]:t[o]}else n+=t[o],2===i.length&&"1"===i[0]&&0===r&&(n=""),n+=0==s%4?a[s]:a[s%4]}return n},Manp:"人力",Ammu:"彈藥",Rati:"口糧",Part:"零件",TPro:"人形",Equi:"裝備",QPro:"快建",QRes:"快修",FineTuningManp:"人力",FineTuningAmmu:"彈藥",FineTuningRati:"口糧",FineTuningPart:"零件",FineTuningTPro:"人形",FineTuningEqui:"裝備",FineTuningQPro:"快建",FineTuningQRes:"快修",FineTuningTool:"微調工具",TargetValue0_alert:"需求不能全為0！",tab_Anytime_alert1:"總時長不能為0！",tab_Timetable_alert1:"不需要在後勤開始點再添加收取時間點",tab_Timetable_alert2:"添加的收取時間點不能超過最大時限",tab_Timetable_alert3:"已經添加過這個收取時間點",tab_Timetable_alert4:"總時長不能為0！",Mission:"關卡",MinIntervalTime:"最短間隔",NoPlan:"沒有合適的方案",NoMission:"沒有可用的關卡",PlanDetails_calculateMethod:"計算方式",total_time:"總時長",total_greatSuccessRate:"大成功總概率",PerHour:"平均/h",Total:"總計",ExecutionTimes:"執行次數",plzInputPlanName:"請輸入方案名稱",planDefaultName:"自定義",deleteSavedWarning_1:"是否要刪除這個名為",deleteSavedWarning_2:"的配置？",Saved_alert:"導入的數據有問題！",Saved_alert2:"保存的數量過多，不能再添加",config_alert:"這將會覆蓋現有所有的數據，是否要繼續？",FailedWindowLoadWarn:"可能由於Web存儲數據不正確, 導致網頁崩潰. 您可以將下面的數據報告到GitHub或發​​送郵件到chantxu@outlook.com"},CSS:{TargetValueSpan_Width:"55px",FineTuningButton_Width:"60%"}},r={lang:"en",title:"Girls' Frontline Logistics Combination Calculator",HTML:{header:"Logistics Combination Calculator ",Config_text:"All configurations",description_text:"The calculation results are only related to the ratio of resources (or contracts). The calculation results are expected value.",neverShowAgain_description:"[&times;] <u>never show again</u>",localstorageDoesNotWork:"For some reason, Web storage doesn't work, you need to manually export the configurations.",localstorageWarning_text:"The pages use Web storage. Clearing the browser cache will cause all data to be cleared. Please manually export and save your data regularly.",neverShowAgain_localstorageWarning:"[&times;] <u>never show again</u>",setting:"Setting",Tab_Anytime_name:"Continuous Logistics",Tab_Timetable_name:"Timetable",tab_Anytime_time:"Total Logistics Time",tab_Anytime_hour:"hr",tab_Anytime_minute:"min",tab_Anytime_MinimumIntervalTime:"Minimum Interval Time",tab_Anytime_MinimumIntervalTime_minute:"min",tab_Timetable_time:"Total Logistics Time",tab_Timetable_hour:"hr",tab_Timetable_minute:"min",tab_Timetable_addtimeh5:"Add a new deployment logistics time point:",tab_Timetable_new_hour:"hr",tab_Timetable_new_minute:"min",h4GreatSuccessRate:"Average Great Success Rate",GreatSuccessRateUp_text:"Great Success rate up",h4ChapterLimit:"Unlocked chapter",Display_PerHour_text:"Hourly",Display_Total_text:"Total",ContractWeight_notImportant:"Contract Weight: 0~100",ContractWeight_Important:"",start_ranking:"Start Ranking",clear_ranking:"Clear Ranking Results",result:"Ranking Results",Manp:"Mpwr",Ammu:"Ammo",Rati:"Ration",Part:"Parts",TPro:"T-Doll",Equi:"Eqpt",QPro:"QProd",QRes:"QRest",setTarget_HG:"Hand Gun",setTarget_SMG:"Sub-Machine Gun",setTarget_RF:"Rifle",setTarget_AR:"Assault Rifle",setTarget_MG:"Machine Gun",setTarget_SG:"Shotgun",setTarget_2221:"Balanced",setTarget_Clear:"Clear",MissionTableTitle:"Missions",MissionTable_head_Mission:"Mission",MissionTable_head_Manp:"Mpwr",MissionTable_head_Ammu:"Ammo",MissionTable_head_Rati:"Ration",MissionTable_head_Part:"Parts",MissionTable_head_TPro:"T-Doll",MissionTable_head_Equi:"Eqpt",MissionTable_head_QPro:"QProd",MissionTable_head_QRes:"QRest",MissionTable_head_Time:"Time",PlanDetailsTitle:"Plan Details",PlanDetails_Mission:"Mission",PlanDetails_Manp:"Mpwr",PlanDetails_Ammu:"Ammo",PlanDetails_Rati:"Ration",PlanDetails_Part:"Parts",PlanDetails_TPro:"T-Doll",PlanDetails_Equi:"Eqpt",PlanDetails_QPro:"QProd",PlanDetails_QRes:"QRest",PlanDetails_Time:"Time",savePlan:"Save Plan",Capture:"Capture",PlanDetails_InputStartTime_label:"Start Time",PlanDetails_InputExecutionTimes_label:"Execution Times",Saved_Title:"Saved Plan",NoSaved:"No Saved Plan",start_ranking_html:'Click <span style="color:#165399">Start Ranking</span> button, top sixteen results will display here',permanentAddress:"Address: ",calcTargetValueTool_title:"Calculate Demand Tool",calcTargetValueTool_text_ResourceContract:"Value",calcTargetValueTool_Manp_text:"Mpwr",calcTargetValueTool_Ammu_text:"Ammo",calcTargetValueTool_Rati_text:"Ration",calcTargetValueTool_Part_text:"Parts",calcTargetValueTool_TPro_text:"T-Doll",calcTargetValueTool_Equi_text:"Eqpt",calcTargetValueTool_QPro_text:"QProd",calcTargetValueTool_QRes_text:"QRest",calcTargetValueTool_text_target:"Target",calcTargetValueTool_text_current:"Current",calcTargetValueTool_text_result:"Result",calcTargetValueTool_InputExecutionTimes_label:"Execution Times",calcTargetValueTool_clear:"Clear",calcTargetValueTool_startCalc:"Calculate",calcTargetValueTool_apply_text:"Apply",OfflineVersion:"Download offline version"},HTMLJS:{placeholder:{Config_importInput:"Exported or imported configurations",Time_Anytime_hours:"Hours of total time",Time_Anytime_minutes:"Minutes of total time",Tab_Anytime_MinimumIntervalTime_minutes:"Minutes of minimum interval time",Time_Timetable_hours:"Hours of total time",Time_Timetable_minutes:"Minutes of total time",Tab_Timetable_new_hours:"Hours of new time point",Tab_Timetable_new_minutes:"Minutes of new time point",GreatSuccessRate:"Great Success base rate",MT:"Manpower demand",AT:"Ammunition demand",RT:"Ration demand",PT:"Parts demand",TT:"T-Doll Contract demand",ET:"Equipment Contract demand",QPT:"Quick Production Contract demand",QRT:"Quick Restoration Contract demand",importSaved_input:"Exported or imported data",PlanDetails_InputExecutionTimes:"Number of executions"},title:{Config_importButton:"Import configurations",Config_export:"Export configurations",tab_Timetable_deleteall:"Delete all points",Tab_Timetable_AddNewTimePoint:"Add a deployment logistics time point",ChapterLimit:"Maximum unlocked chapter",ContractWeight:"Contract Weight",Target_minus_100_MT:"Reduced Manpower demand by 100",Target_minus_10_MT:"Reduced Manpower demand by 10",Target_plus_10_MT:"Increase Manpower demand by 10",Target_plus_100_MT:"Increase Manpower demand by 100",Target_minus_100_AT:"Reduced Ammunition demand by 100",Target_minus_10_AT:"Reduced Ammunition demand by 10",Target_plus_10_AT:"Increase Ammunition demand by 10",Target_plus_100_AT:"Increase Ammunition demand by 100",Target_minus_100_RT:"Reduced Ration demand by 100",Target_minus_10_RT:"Reduced Ration demand by 10",Target_plus_10_RT:"Increase Ration demand by 10",Target_plus_100_RT:"Increase Ration demand by 100",Target_minus_100_PT:"Reduced Parts demand by 100",Target_minus_10_PT:"Reduced Parts demand by 10",Target_plus_10_PT:"Increase Parts demand by 10",Target_plus_100_PT:"Increase Parts demand by 100",Target_minus_1_TT:"Reduced T-Doll Contract demand by 1",Target_minus_01_TT:"Reduced T-Doll Contract demand by 0.1",Target_plus_01_TT:"Increase T-Doll Contract demand by 0.1",Target_plus_1_TT:"Increase T-Doll Contract demand by 1",Target_minus_1_ET:"Reduced Equipment Contract demand by 1",Target_minus_01_ET:"Reduced Equipment Contract demand by 0.1",Target_plus_01_ET:"Increase Equipment Contract demand by 0.1",Target_plus_1_ET:"Increase Equipment Contract demand by 1",Target_minus_1_QPT:"Reduced Quick Production Contract demand by 1",Target_minus_01_QPT:"Reduced Quick Production Contract demand by 0.1",Target_plus_01_QPT:"Increase Quick Production Contract demand by 0.1",Target_plus_1_QPT:"Increase Quick Production Contract demand by 1",Target_minus_1_QRT:"Reduced Quick Restoration Contract demand by 1",Target_minus_01_QRT:"Reduced Quick Restoration Contract demand by 0.1",Target_plus_01_QRT:"Increase Quick Restoration Contract demand by 0.1",Target_plus_1_QRT:"Increase Quick Restoration Contract demand by 1",importSaved_importButton:"Import Plan"},Demand_hour:"Hourly demand",Demand_total:"Total demand",Timetable_deletePoint:"Delete this point",SavedTable_apply:"Apply",SavedTable_name:"Plan Name",SavedTable_rename:"Rename",SavedTable_up:"Move Up",SavedTable_down:"Move Down",SavedTable_export:"Export Plan",SavedTable_delete:"Delete Plan",FineTuning_minus:"Reduce demand",FineTuning_plus:"Increase demand"},JS:{chapter_start:"Chapter ",chapter_end:"",number:function(e){return e},Manp:"Mpwr",Ammu:"Ammo",Rati:"Ration",Part:"Parts",TPro:"T-Doll",Equi:"Eqpt",QPro:"QProd",QRes:"QRest",FineTuningManp:"Manpower",FineTuningAmmu:"Ammunition",FineTuningRati:"Ration",FineTuningPart:"Parts",FineTuningTPro:"T-Doll",FineTuningEqui:"Equipment",FineTuningQPro:"Q-Production",FineTuningQRes:"Q-Restoration",FineTuningTool:"Fine Tuning Tool",TargetValue0_alert:"Demand cannot all be 0!",tab_Anytime_alert1:"Total time cannot be 0!",tab_Timetable_alert1:"Cannot add deployment time point at the beginning",tab_Timetable_alert2:"The deployment time point added cannot exceed the total time",tab_Timetable_alert3:"Already added this time point",tab_Timetable_alert4:"Total time cannot be 0!",Mission:"Missions",MinIntervalTime:"Min Intvl",NoPlan:"No suitable plan",NoMission:"No available missions",PlanDetails_calculateMethod:"Mode",total_time:"Total time",total_greatSuccessRate:"Great Success Rate",PerHour:"Hourly",Total:"Total",ExecutionTimes:"Executions",plzInputPlanName:"Please enter the plan name",planDefaultName:"Custom",deleteSavedWarning_1:"Do you want to delete this configuration named ",deleteSavedWarning_2:"?",Saved_alert:"There is a problem with the imported data!",Saved_alert2:"Too many saved plan, cannot add anymore",config_alert:"This operation will overwrite all configurations. Do you want to continue?",FailedWindowLoadWarn:"The webpage may crash due to incorrect web storage. You can report the following data to GitHub or send to chantxu@outlook.com"},CSS:{TargetValueSpan_Width:"66px",FineTuningButton_Width:"40%"}},_=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;u(this,e),this.start=t,this.end=a};function c(e){var t=new Array(e.length),a=0;for(t[a++]=new _(0,e.length-1);a;){var n=t[--a];if(!(n.start>=n.end)){for(var i=e[n.end],l=n.start,r=n.end-1;l<r;){for(;e[l]>i&&l<r;)l++;for(;e[r]<=i&&l<r;)r--;var o=[e[r],e[l]];e[l]=o[0],e[r]=o[1]}if(e[l]<=e[n.end]){var s=[e[n.end],e[l]];e[l]=s[0],e[n.end]=s[1]}else l++;t[a++]=new _(n.start,l-1),t[a++]=new _(l+1,n.end)}}}function d(e){var t=new Array(e.length),a=0;for(t[a++]=new _(0,e.length-1);a;){var n=t[--a];if(!(n.start>=n.end)){for(var i=e[n.end],l=n.start,r=n.end-1;l<r;){for(;e[l]<i&&l<r;)l++;for(;e[r]>=i&&l<r;)r--;var o=[e[r],e[l]];e[l]=o[0],e[r]=o[1]}if(e[l]>=e[n.end]){var s=[e[n.end],e[l]];e[l]=s[0],e[n.end]=s[1]}else l++;t[a++]=new _(n.start,l-1),t[a++]=new _(l+1,n.end)}}}function T(e,t){var a=new Array(e.length),n=0;for(a[n++]=new _(0,e.length-1);n;){var i=a[--n];if(!(i.start>=i.end)){for(var l=e[i.end][t],r=i.start,o=i.end-1;r<o;){for(;e[r][t]>=l&&r<o;)r++;for(;e[o][t]<l&&r<o;)o--;var s=[e[o],e[r]];e[r]=s[0],e[o]=s[1]}if(e[r][t]<e[i.end][t]){var u=[e[i.end],e[r]];e[r]=u[0],e[i.end]=u[1]}else r++;a[n++]=new _(i.start,r-1),a[n++]=new _(r+1,i.end)}}}function m(e,t){var a=new Array(e.length),n=0;for(a[n++]=new _(0,e.length-1);n;){var i=a[--n];if(!(i.start>=i.end)){for(var l=e[i.end][t],r=i.start,o=i.end-1;r<o;){for(;e[r][t]<=l&&r<o;)r++;for(;e[o][t]>l&&r<o;)o--;var s=[e[o],e[r]];e[r]=s[0],e[o]=s[1]}if(e[r][t]>e[i.end][t]){var u=[e[i.end],e[r]];e[r]=u[0],e[i.end]=u[1]}else r++;a[n++]=new _(i.start,r-1),a[n++]=new _(r+1,i.end)}}}function a(e,t){var a=new Array(e.length),n=0;for(a[n++]=new _(0,e.length-1);n;){var i=a[--n];if(!(i.start>=i.end)){for(var l=parseInt(e[i.end][t].replace(/[^0-9]/gi,"")),r=i.start,o=i.end-1;r<o;){for(;parseInt(e[r][t].replace(/[^0-9]/gi,""))<l&&r<o;)r++;for(;parseInt(e[o][t].replace(/[^0-9]/gi,""))>=l&&r<o;)o--;var s=[e[o],e[r]];e[r]=s[0],e[o]=s[1]}if(parseInt(e[r][t].replace(/[^0-9]/gi,""))>=parseInt(e[i.end][t].replace(/[^0-9]/gi,""))){var u=[e[i.end],e[r]];e[r]=u[0],e[i.end]=u[1]}else r++;a[n++]=new _(i.start,r-1),a[n++]=new _(r+1,i.end)}}}function h(e,t){var a=e.lastIndexOf("_");return void 0===t?e.slice(a+1):e.slice(a+1,t)}function p(e){return 100<e?Math.round(e):10<e?Math.round(10*e)/10:Math.round(100*e)/100}function v(e){e=Math.round(e);var t=parseInt(e/60),a=e%60;return(a+"").length<2&&(a="0"+a),t+":"+a}function P(e){return v((e=Math.round(e))%1440)}function b(e){return!!(""===e||isNaN(e)||e<0||"Infinity"===e)}function f(e,t){var a=1<arguments.length&&void 0!==t&&t,n=void 0;return n=b(e.val())?0:parseFloat(e.val()),a&&e.val(n),n}function y(e){for(var t=0,a=e.length,n=0;n<a;n++)t=t>e[n]?t:e[n];return t}function S(e){for(var t=e[0],a=e.length,n=0;n<a;n++)t=t<e[n]?t:e[n];return t}function M(e,t){return e-t}function C(e,t){return parseInt(e.replace(/[^0-9]/gi,""))-parseInt(t.replace(/[^0-9]/gi,""))}function w(){for(var e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod","KFAPWI"],a=!1,n=0;n<t.length;n++)if(-1!==e.indexOf(t[n])){a=!0;break}return a}Array.prototype.remove=function(e){for(var t=0;t<this.length;)this[t]===e?this.splice(t,1):t++},Array.prototype.remove_First=function(e){for(var t=0;t<this.length;){if(this[t]===e){this.splice(t,1);break}t++}};var V="";if(console){var x={log:console.log,info:console.info,debug:console.debug,warn:console.warn,error:console.error};console.log=function(e){var t=(new Date).toLocaleString()+" log: "+JSON.stringify(e)+"\n";V=R(V+=t);try{t=R(t=sessionStorage.getItem("GF_Logistics_console")+t),sessionStorage.setItem("GF_Logistics_console",t)}catch(e){}x.log.apply(this,Array.prototype.slice.call(arguments,0))},console.warn=function(e){var t=(new Date).toLocaleString()+" warn: "+JSON.stringify(data)+"\n";V=R(V+=t);try{t=R(t=sessionStorage.getItem("GF_Logistics_console")+t),sessionStorage.setItem("GF_Logistics_console",t)}catch(e){}x.warn.apply(this,Array.prototype.slice.call(arguments,0))},console.error=function(e){var t=(new Date).toLocaleString()+" error: "+JSON.stringify(e)+"\n";V=R(V+=t);try{t=R(t=sessionStorage.getItem("GF_Logistics_console")+t),sessionStorage.setItem("GF_Logistics_console",t)}catch(e){}x.error.apply(this,Array.prototype.slice.call(arguments,0))}}function R(e){var t=e.length;return 1e4<t?e.slice(t-1e4):e}Array.prototype.fill||Object.defineProperty(Array.prototype,"fill",{value:function(e,t,a){if(null==this)throw new TypeError("this is null or not defined");for(var n=Object(this),i=n.length>>>0,l=t>>0,r=l<0?Math.max(i+l,0):Math.min(l,i),o=void 0===a?i:a>>0,s=o<0?Math.max(i+o,0):Math.min(o,i);r<s;)n[r]=e,r++;return n}});var k=[["0-1",0,145,145,0,0,0,0,0,50],["0-2",550,0,0,350,0,0,0,0,180],["0-3",900,900,900,250,0,0,0,0,720],["0-4",0,1200,800,750,0,0,0,0,1440],["1-1",10,30,15,0,0,0,0,0,15],["1-2",0,40,60,0,0,0,0,0,30],["1-3",30,0,30,10,0,0,0,0,60],["1-4",160,160,0,0,0,0,0,0,120],["2-1",100,0,0,30,0,0,0,0,40],["2-2",60,200,80,0,0,0,0,0,90],["2-3",10,10,10,230,0,0,0,0,240],["2-4",0,250,600,60,0,0,0,0,360],["3-1",50,0,75,0,0,0,0,0,20],["3-2",0,120,70,30,0,0,0,0,45],["3-3",0,300,0,0,0,0,0,0,90],["3-4",0,0,300,300,0,0,0,0,300],["4-1",0,185,185,0,0,0,0,0,60],["4-2",0,0,0,210,0,0,0,0,120],["4-3",800,550,0,0,0,0,0,0,360],["4-4",400,400,400,150,0,0,0,0,480],["5-1",0,0,100,45,0,0,0,0,30],["5-2",0,600,300,0,0,0,0,0,150],["5-3",800,400,400,0,0,0,0,0,240],["5-4",100,0,0,700,0,0,0,0,420],["6-1",300,300,0,100,0,0,0,0,120],["6-2",0,200,550,100,0,0,0,0,180],["6-3",0,0,200,500,0,0,0,0,300],["6-4",800,800,800,0,0,0,0,0,720],["7-1",650,0,650,0,0,0,0,0,150],["7-2",0,650,0,300,0,0,0,0,240],["7-3",900,600,600,0,0,0,0,0,330],["7-4",250,250,250,600,0,0,0,0,480],["8-1",150,150,150,0,0,0,0,0,60],["8-2",0,0,0,450,0,0,0,0,180],["8-3",400,800,800,0,0,0,0,0,360],["8-4",1500,400,400,100,0,0,0,0,540],["9-1",0,0,100,50,0,0,0,0,30],["9-2",180,0,180,100,0,0,0,0,90],["9-3",750,750,0,0,0,0,0,0,270],["9-4",500,900,900,0,0,0,0,0,420],["10-1",140,200,0,0,0,0,0,0,40],["10-2",0,240,180,0,0,0,0,0,100],["10-3",0,480,480,300,0,0,0,0,320],["10-4",660,660,660,330,0,0,0,0,600],["11-1",350,1050,0,0,0,0,0,0,240],["11-2",360,540,540,0,0,0,0,0,240],["11-3",0,750,1500,250,0,0,0,0,480],["11-4",0,1650,0,900,0,0,0,0,600],["12-1",0,220,220,0,0,0,0,0,60],["12-2",360,0,0,120,0,0,0,0,90],["12-3",800,1200,1200,0,0,0,0,0,540],["12-4",1800,0,1800,0,0,0,0,0,720]];function I(e){var t=e/100;k[1][5]=A(50,50,t),k[7][5]=A(20,20,t),k[11][5]=A(80,80,t),k[15][5]=A(40,80,t),k[18][5]=.7,k[23][5]=A(40,40,t),k[29][5]=.6,k[35][5]=A(90,90,t),k[38][5]=A(70,70,t),k[41][5]=.75,k[44][5]=.5,k[45][5]=1,k[51][5]=1,k[2][6]=A(40,80,t),k[15][6]=A(40,80,t),k[16][6]=A(20,20,t),k[22][6]=A(50,50,t),k[26][6]=A(60,60,t),k[30][6]=A(70,70,t),k[32][6]=A(40,40,t),k[39][6]=1,k[43][6]=A(50,50,t),k[44][6]=.5,k[48][6]=A(60,60,t),k[0][7]=A(20,70,t),k[10][7]=.5,k[14][7]=A(40,85,t),k[17][7]=A(50,50,t),k[19][7]=1,k[25][7]=A(20,70,t),k[31][7]=A(80,80,t),k[34][7]=A(60,90,t),k[37][7]=A(25,25,t),k[41][7]=.25,k[42][7]=A(30,80,t),k[47][7]=1,k[50][7]=1,k[0][8]=A(50,70,t),k[2][8]=A(40,80,t),k[6][8]=A(60,60,t),k[9][8]=A(30,30,t),k[10][8]=.5,k[14][8]=A(45,85,t),k[18][8]=.3,k[21][8]=A(80,80,t),k[25][8]=A(50,70,t),k[29][8]=.4,k[33][8]=A(80,80,t),k[34][8]=A(30,90,t),k[42][8]=A(50,80,t),k[46][8]=A(50,50,t)}function A(e,t,a){return e/100+(e/t-e/100)*a}var E="1.0.1",L=void 0,Q="GF_Logistics_v"+E.slice(0,E.indexOf("."))+".x.x";function D(){!0!==(L=function(){try{var e=Math.random(),t=Math.random();localStorage.setItem("test_PzrJwG"+e,"Rx3IyFdmJMji0Alo"+t);var a=localStorage.getItem("test_PzrJwG"+e)=="Rx3IyFdmJMji0Alo"+t;return localStorage.removeItem("test_PzrJwG"+e),a}catch(e){return!1}}()&&function(){try{var e=Math.random(),t=Math.random();sessionStorage.setItem("test_QQ15L2X"+e,"MVQYqpFNO8WU6Flc"+t);var a=sessionStorage.getItem("test_QQ15L2X"+e)=="MVQYqpFNO8WU6Flc"+t;return sessionStorage.removeItem("test_QQ15L2X"+e),a}catch(e){return!1}}())?(L=!1,document.getElementById("localstorageWarning").style.display="none",document.getElementById("neverShowAgain_description").style.display="none"):(document.getElementById("localstorageDoesNotWork").style.display="none","failed"===sessionStorage.getItem("GF_Logistics_windowOnload")&&function(){var e=localStorage.getItem(Q),t=localStorage.getItem("GF_Logistics"),a={};a.userAgent=navigator.userAgent,a.appName=navigator.appName,a.appCodeName=navigator.appCodeName,a.appVersion=navigator.appVersion,a.appMinorVersion=navigator.appMinorVersion,a.platform=navigator.platform,a.cookieEnabled=navigator.cookieEnabled,a.onLine=navigator.onLine,a.language=navigator.language,a.localStorage_v0=t,a.localStorage_v1=e,a.console=sessionStorage.getItem("GF_Logistics_console");var n='<div class="alert alert-danger" style="color:#000000; cursor: default;">';n+=i.JS.FailedWindowLoadWarn+"<br>",n+=l.JS.FailedWindowLoadWarn+"<br>",n+=r.JS.FailedWindowLoadWarn+"<br>",n+='<br><code style="color:#000000; cursor:auto">',n+=JSON.stringify(a),n+="</code></div>",$("#description").before(n),sessionStorage.removeItem("GF_Logistics_windowOnload"),localStorage.removeItem(Q),localStorage.removeItem("GF_Logistics")}(),sessionStorage.setItem("GF_Logistics_windowOnload","failed"))}function F(){L&&null===localStorage.getItem(Q)&&function(){var e="GF_Logistics",t=localStorage.getItem(e);if(null===t)return;try{var a=JSON.parse(t);t=a}catch(e){console.error("v0storage, storage: "+t),t={}}var n={};n.Lang=t.lang,n.Description_Display=t.Description_Display,n.LocalstorageWarning_Display=t.LocalstorageWarning_Display,n.TabName=t.HTML_TAB,n.HourlyOrTotal=t.PerHourOrTotal,n.TabAnytimeCustom=t.TabAnytimeCustom,n.TabTimetableCustom=t.TabTimetableCustom,n.GreatSuccessRate=t.GreatSuccessRate,n.Is_GreatSuccessRateUP=t.is_GreatSuccessRateUP,n.ChapterLimit=t.SelectChapter,n.ContractWeight=t.ContractWeight,n.TargetValue=t.TargetValue,n.Saved=B(t.SAVED),n.IsSavedPanelShow=t.IsSavedShow,n.CalcTargetValueTool_Target=t.CalcTargetValueTool_Target,n.CalcTargetValueTool_Current=t.CalcTargetValueTool_Current,n.CalcTargetValueTool_ExecutionTimes=t.CalcTargetValueTool_ExecutionTimes;var i=JSON.stringify(n);localStorage.setItem("GF_Logistics_v1.x.x",i),localStorage.removeItem(e)}()}function B(e){for(var t=0<arguments.length&&void 0!==e?e:[],a=[],n=0;n<t.length;n++){var i=t[n].data,l={};l.name=i[0],l.TabName=i[1],l.GSRate=i[2],l.is_UP=i[3],l.Chapter=i[4],l.TabCustom=i[5],l.Missions=i[6],l.startTime=i[7],a.push(l)}return a}function H(e,t){if(L){var a=localStorage.getItem(Q);try{a=JSON.parse(a)}catch(e){console.error("storageGetItem, storage: "+a),a={}}null===a&&(a={}),a[e]=t,a.version=E,a=JSON.stringify(a),localStorage.setItem(Q,a)}}function G(e){if(L){var t=localStorage.getItem(Q);if(null===t)return"noStorage";try{t=JSON.parse(t)}catch(e){console.error("storageGetItem, storage: "+t),t={}}var a=t[e];return void 0===a?"noStorage":a}return"noStorage"}var J=[];function W(){var e=pe();4320<e&&ve(e=4320),document.getElementById("Tab_Timetable_range_tooltip_0_value").innerHTML=v(e),ze.print(),Je()}function N(e){(0===(J=e).length?j:Z)();var t=q(pe(),e);document.getElementById("Tab_Timetable_range").innerHTML=t}function O(e){var t='<div inverse-left style="width:70%;"></div><div inverse-right style="width:70%;"></div><div range style="left:0%;right:0%; background-color:#CCC;"></div>';return t+='<span thumb id="Tab_Timetable_range_thumb"style="left:100%; background-color:rgb(221, 155, 155); cursor:default;"></span>',t+='<div id="Tab_Timetable_range_tooltip"class="tooltip right custom-tooltip"style="right: -72px; top:-15px; cursor: default;">',t+='<div class="tooltip-arrow"></div><div id="Tab_Timetable_range_tooltip_0_value"class="tooltip-inner">',t+=v(e)+"</div></div>"}function q(e,t){for(var a=O(e),n=t.length,i=0;i<n;i++){var l=t[i]/e*100+"%",r=U(t[i],l);a+=r+=z(t[i],l,i)}return a}function U(e,t){var a='<button class="slider-button" id="Tab_Timetable_range_thumb_'+e+'"';return a+='style="left:'+t+';" title="'+g.HTMLJS.Timetable_deletePoint+'">',a+='<span class="glyphicon glyphicon-remove-circle" style="font-size: 22px;"></span></button>'}function z(e,t,a){var n='<div id="Tab_Timetable_range_tooltip_'+e+'"';return n+=a%2==0?'class="slider-Tooltip-top tooltip top custom-tooltip"':'class="slider-Tooltip-bottom tooltip bottom custom-tooltip"',n+='style="left:'+t+';">',n+='<div class="tooltip-arrow"></div><div class="tooltip-inner">',n+=v(e)+"</div></div>"}function j(){$("#Time_Timetable_hours").removeAttr("disabled"),$("#Time_Timetable_minutes").removeAttr("disabled")}function Z(){$("#Time_Timetable_hours").attr("disabled","true"),$("#Time_Timetable_minutes").attr("disabled","true")}function X(){return document.getElementById("Display_PerHour").checked}function Y(e){var t=0<arguments.length&&void 0!==e&&e,a=$("#GreatSuccessRate"),n=a.val();return n=b(n)||n<15?15:69<n?69:Math.round(n),t&&a.val(n),n}function K(e){$("#GreatSuccessRate").val(e),I(ne()),H("GreatSuccessRate",e)}function ee(){return!!document.getElementById("GreatSuccessRateUp").checked}function te(e){return["15","15","15","15","15","15","15","15","15","15","15","15","15","15","15","15 / 16","15 / 16","16","16","16 / 17","17","17 / 18","17 / 18","17 / 18","18 / 19","18 / 19","19","19","19 / 20","20","20 / 21","20 / 21","20 / 21","21 / 22","21 / 22","22","22","22 / 23","23","23 / 24","23 / 24","23 / 24","24 / 25","24 / 25","25","25","25 / 26","26","26 / 27","26 / 27","26 / 27","27 / 28","27 / 28","28","28","28 / 29","29","29 / 30","29 / 30","29 / 30","30 / 31","30 / 31","31","31","31 / 21","32","32 / 33","32 / 33","32","31"][e]}function ae(e){return ee()?parseInt(te(e).substr(0,2)):0}function ne(e){var t=Y(0<arguments.length&&void 0!==e&&e);return t+ae(t)}function ie(e,t){var a=!(1<arguments.length&&void 0!==t)||t,n=document.getElementById("GreatSuccessRateUp"),i=document.getElementById("Display_UPRate");if(!1===e)n.checked=!1,i.innerHTML="";else{n.checked=!0;var l=Y(a);i.innerHTML="+"+te(l)}I(ne()),H("Is_GreatSuccessRateUP",e)}function le(e,t){var a=0<arguments.length&&void 0!==e?e:[$("#MT"),$("#AT"),$("#RT"),$("#PT"),$("#TT"),$("#ET"),$("#QPT"),$("#QRT")],n=!(1<arguments.length&&void 0!==t)||t;return(Array.isArray(a)?re:f)(a,n)}function re(e,t){for(var a=[],n=0;n<e.length;n++)a.push(f(e[n],t));return a}function oe(e,t){var a=0<arguments.length&&void 0!==e?e:[0,0,0,0,0,0,0,0],n=1<arguments.length&&void 0!==t?t:[$("#MT"),$("#AT"),$("#RT"),$("#PT"),$("#TT"),$("#ET"),$("#QPT"),$("#QRT")];(Array.isArray(a)?se:ue)(a,n),H("TargetValue",le())}function se(e,t){for(var a=0;a<e.length;a++)ue(e[a],t[a])}function ue(e,t){e<0?t.val(0):t.val(Math.round(100*e)/100)}function _e(){return parseInt($("#ContractWeight").val())}function ce(e){var t=0<arguments.length&&void 0!==e?e:50;$("#ContractWeight").val(t);var a=_e();document.getElementById("ContractWeight_range").style.right=100-a+"%",document.getElementById("ContractWeight_thumb").style.left=a+"%",H("ContractWeight",a)}function de(){return parseInt($("#ChapterLimit").val())}function Te(e){var t=0<arguments.length&&void 0!==e?e:k.length/4-1;$("#ChapterLimit").val(t),null===$("#ChapterLimit").val()&&$("#ChapterLimit").val(k.length/4-1),H("ChapterLimit",de())}function me(e){var t=0<arguments.length&&void 0!==e&&e;return 60*function(e){var t=0<arguments.length&&void 0!==e&&e;return f($("#Time_Anytime_hours"),t)}(t)+function(e){var t=0<arguments.length&&void 0!==e&&e;return f($("#Time_Anytime_minutes"),t)}(t)}function ge(e){var t=0<arguments.length&&void 0!==e?e:960,a=t%60;!function(e){var t=0<arguments.length&&void 0!==e?e:16;$("#Time_Anytime_hours").val(t)}(parseInt(t/60)),function(e){var t=0<arguments.length&&void 0!==e?e:0;$("#Time_Anytime_minutes").val(t)}(a)}function he(e){var t=0<arguments.length&&void 0!==e&&e;return f($("#Tab_Anytime_MinimumIntervalTime_minutes"),t)}function pe(e){var t=0<arguments.length&&void 0!==e&&e;return 60*function(e){var t=0<arguments.length&&void 0!==e&&e;return f($("#Time_Timetable_hours"),t)}(t)+function(e){var t=0<arguments.length&&void 0!==e&&e;return f($("#Time_Timetable_minutes"),t)}(t)}function ve(e,t){var a=0<arguments.length&&void 0!==e?e:300;1<arguments.length&&void 0!==t&&!t||(document.getElementById("Tab_Timetable_range_tooltip_0_value").innerHTML=v(a));var n=a%60;!function(e){var t=0<arguments.length&&void 0!==e?e:5;$("#Time_Timetable_hours").val(t)}(parseInt(a/60)),function(e){var t=0<arguments.length&&void 0!==e?e:0;$("#Time_Timetable_minutes").val(t)}(n)}function be(e){var t=!(0<arguments.length&&void 0!==e)||e;return 60*function(e){var t=!(0<arguments.length&&void 0!==e)||e,a=f($("#Tab_Timetable_new_hours"),t);return t&&$("#Tab_Timetable_new_hours").val(""),a}(t)+function(e){var t=!(0<arguments.length&&void 0!==e)||e,a=f($("#Tab_Timetable_new_minutes"),t);return t&&$("#Tab_Timetable_new_minutes").val(""),a}(t)}function fe(){var e=$("#PlanDetails_InputStartTime").val(),t=parseFloat(e.substr(0,2));if(isNaN(t))return 0;var a=parseFloat(e.substr(3,2));return isNaN(a)&&(a=0),60*t+a}function ye(e){var t=0<arguments.length&&void 0!==e&&e,a=$("#PlanDetails_InputExecutionTimes"),n=a.val();return n=b(n)||n<1?1:999<n?999:Math.round(n),t&&a.val(n),n}function Se(e){var t=0<arguments.length&&void 0!==e&&e;return re([$("#calcTargetValueTool_Target_Manp"),$("#calcTargetValueTool_Target_Ammu"),$("#calcTargetValueTool_Target_Rati"),$("#calcTargetValueTool_Target_Part"),$("#calcTargetValueTool_Target_TPro"),$("#calcTargetValueTool_Target_Equi"),$("#calcTargetValueTool_Target_QPro"),$("#calcTargetValueTool_Target_QRes")],t)}function Pe(e){se(0<arguments.length&&void 0!==e?e:[0,0,0,0,0,0,0,0],[$("#calcTargetValueTool_Target_Manp"),$("#calcTargetValueTool_Target_Ammu"),$("#calcTargetValueTool_Target_Rati"),$("#calcTargetValueTool_Target_Part"),$("#calcTargetValueTool_Target_TPro"),$("#calcTargetValueTool_Target_Equi"),$("#calcTargetValueTool_Target_QPro"),$("#calcTargetValueTool_Target_QRes")]),H("CalcTargetValueTool_Target",Se())}function Me(e){var t=0<arguments.length&&void 0!==e&&e;return re([$("#calcTargetValueTool_Current_Manp"),$("#calcTargetValueTool_Current_Ammu"),$("#calcTargetValueTool_Current_Rati"),$("#calcTargetValueTool_Current_Part"),$("#calcTargetValueTool_Current_TPro"),$("#calcTargetValueTool_Current_Equi"),$("#calcTargetValueTool_Current_QPro"),$("#calcTargetValueTool_Current_QRes")],t)}function Ce(e){se(0<arguments.length&&void 0!==e?e:[0,0,0,0,0,0,0,0],[$("#calcTargetValueTool_Current_Manp"),$("#calcTargetValueTool_Current_Ammu"),$("#calcTargetValueTool_Current_Rati"),$("#calcTargetValueTool_Current_Part"),$("#calcTargetValueTool_Current_TPro"),$("#calcTargetValueTool_Current_Equi"),$("#calcTargetValueTool_Current_QPro"),$("#calcTargetValueTool_Current_QRes")]),H("CalcTargetValueTool_Current",Me())}function we(e){var t=0<arguments.length&&void 0!==e&&e,a=$("#calcTargetValueTool_InputExecutionTimes"),n=a.val();return n=b(n)||n<1?1:999<n?999:Math.round(n),t&&a.val(n),n}function Ve(e){var t=0<arguments.length&&void 0!==e?e:1,a=$("#calcTargetValueTool_InputExecutionTimes");t=Math.round(t),a.val(t),H("CalcTargetValueTool_ExecutionTimes",we())}var xe=(e($e,[{key:"_setTime",value:function(){!0!==this._setTimeFlag&&(this._setTimeFlag=!0)}},{key:"getTotalTime",value:function(e){var t=!(0<arguments.length&&void 0!==e)||e;return this._setTimeFlag||this._setTime(t),this._totalTime}},{key:"setQValid",value:function(e){!0!==this._setQValidFlag&&(this._setQValidFlag=!0)}},{key:"_getUnableLogistic",value:function(){var e=this._setUnableLogistic();return this._setUnableLogisticCustomize(e)}},{key:"_setUnableLogistic",value:function(){for(var e=4*(de()+1),t=[],a=k.length-1;e<=a;)t.push(e++);return t}},{key:"_setUnableLogisticCustomize",value:function(e){for(var t=0;t<k.length;t++)k[t][9]>this._totalTime&&-1===e.indexOf(t)&&e.push(t);return e}},{key:"getQValid",value:function(e){return 1==!this._setQValidFlag&&this.setQValid(e),this._QValid.slice()}},{key:"getQValidLength",value:function(e){var t=0<arguments.length&&void 0!==e&&e;return 1==!this._setQValidFlag&&this.setQValid(t),this._QValid.length}},{key:"_setCurrentMax",value:function(){if(!0!==this._setCurrentMaxFlag){for(var e=[0,0,0,0,0,0,0,0],t=this._QValid.length,a=0;a<8;a++){for(var n=new Array(t),i=0;i<t;i++)n[i]=this._QValid[i][a+1];c(n),e[a]=n[0]+n[1]+n[2]+n[3]}this._currentValueMax=e,this._setCurrentMaxFlag=!0}}},{key:"getCurrentValueMax",value:function(){return 1==!this._setCurrentMaxFlag&&this._setCurrentMax(),this._currentValueMax}},{key:"deleteUselessMissions",value:function(e,t,a){if(!(this._QValid.length<=e)){if(void 0===a)a=this._calculateMissionValue(t);else{var n=a,i=this._calculateMissionValue(t);a=this._pulsMissionValue(n,i)}for(var l=this._QValid.length,r=new Array(l),o=0;o<l;o++)r[o]=[o,a[o]];T(r,1),r.splice(0,e),T(r,0);for(var s=0;s<r.length;s++)this._QValid.splice(r[s][0],1)}}},{key:"_calculateMissionValue",value:function(e){for(var t=[0,0,0,0,0,0,0,0],a=this._QValid.length,n=0;n<8;n++)for(var i=0;i<a;i++)t[n]=Math.max(t[n],this._QValid[i][n+1]);for(var l=[],r=0;r<8;r++)0!==t[r]?l.push(e[r]/t[r]):l.push(0);for(var o=[],s=0;s<a;s++){for(var u=0,_=this._QValid[s],c=0;c<8;c++)u+=_[c+1]*l[c];o.push(u)}return o}},{key:"_pulsMissionValue",value:function(e,t){var a=e.length,n=S(e),i=y(e)-n;if(0!=i)for(var l=0;l<a;l++)e[l]=(e[l]-n)/i;var r=S(t),o=y(t)-r;if(0!=o)for(var s=0;s<a;s++)t[s]=(t[s]-r)/o;for(var u=new Array(a),_=0;_<a;_++)u[_]=e[_]+t[_];return u}},{key:"normalizedQValid",value:function(){for(var e=this.getCurrentValueMax(),t=this._QValid.length,a=0;a<t;a++)for(var n=0;n<8;n++)0!==e[n]&&(this._QValid[a][n+1]/=e[n])}},{key:"calculateCurrentValue",value:function(e,t,a,n){for(var i=[0,0,0,0,0,0,0,0],l=this._QValid,r=l[e],o=l[t],s=l[a],u=l[n],_=0;_<8;_++)i[_]=r[_+1]+o[_+1]+s[_+1]+u[_+1];return i}},{key:"printPlanTableTitle",value:function(){}},{key:"printTableCustomize",value:function(){return[]}},{key:"getSavedCustom",value:function(){return[]}},{key:"applySavedCustom",value:function(){}},{key:"planDetailsCustom_Title",value:function(){return""}},{key:"planDetailsCustom_Content",value:function(){return""}}],[{key:"isThisTabShow",value:function(){}}]),$e);function $e(){u(this,$e),this._title='<thead><tr style="cursor:pointer;"><th style="width:20%;" colspan="4" tabindex="0" id="resultPlan_Mission">'+g.JS.Mission+"</th>",this._titleEnd="</tr></thead>",this._totalTime=0,this.name="",this._setTimeFlag=!1,this._setQValidFlag=!1,this._setCurrentMaxFlag=!1,this._currentValueMax=[],this._QValid=[]}var Re=(t(ke,xe),e(ke,[{key:"_setTime",value:function(e){if(!0!==this._setTimeFlag){if(this._totalTime=me(e),e&&0===this._totalTime)throw alert(g.JS.tab_Anytime_alert1),"Warning: Total time cannot be 0!";this.MinimumIntervalTime=he(e),this._setTimeFlag=!0}}},{key:"setQValid",value:function(e){var t=!(0<arguments.length&&void 0!==e)||e;if(!0!==this._setQValidFlag){this._setTime(t);for(var a=1+ne(t)/200,n=this._getUnableLogistic(),i=0;i<k.length;i++)if(-1===n.indexOf(i)){var l=[];l.push(k[i][0]);for(var r=0;(++r+1)*k[i][9]<=this._totalTime;);for(var o=1;o<5;o++)l.push(k[i][o]*r*a/this._totalTime);for(var s=5;s<9;s++)l.push(k[i][s]*r/this._totalTime);l.push(k[i][9]);for(var u=[],_=1;_<=r;_++)u.push(k[i][9]*_);l.push(u),this._QValid.push(l),this.Qvalid_Time.push(k[i][9])}m(this._QValid,9),d(this.Qvalid_Time),this._setQValidFlag=!0}}},{key:"_setUnableLogisticCustomize",value:function(e){for(var t=0;t<k.length;t++){(k[t][9]>this._totalTime||k[t][9]<this.MinimumIntervalTime)&&-1===e.indexOf(t)&&e.push(t);var a=this._totalTime%k[t][9];a<this.MinimumIntervalTime&&0!=a&&-1===e.indexOf(t)&&e.push(t)}return e}},{key:"calculateCurrentValue",value:function(e,t,a,n){var i=this.Qvalid_Time,l=this.MinimumIntervalTime;if(l){var r=[i[e],i[t],i[a],i[n]],o=Math.min(r[1]-r[0]==0?l:r[1]-r[0],r[2]-r[1]==0?l:r[2]-r[1],r[3]-r[2]==0?l:r[3]-r[2]);if(o<l)return[-1,-1,-1,-1,-1,-1,-1,-1];if((o=Ie(r,this._totalTime))<l)return[-1,-1,-1,-1,-1,-1,-1,-1]}return s(ke.prototype.__proto__||Object.getPrototypeOf(ke.prototype),"calculateCurrentValue",this).call(this,e,t,a,n)}},{key:"deleteUselessMissions",value:function(e,t,a){s(ke.prototype.__proto__||Object.getPrototypeOf(ke.prototype),"deleteUselessMissions",this).call(this,e,t,a);for(var n=this._QValid.length,i=[],l=0;l<n;l++)i.push(this._QValid[l][9]);this.Qvalid_Time=i}},{key:"printPlanTableTitle",value:function(){return X()?this._title+'<th style="width:8.88%;" tabindex="0" id="resultPlan_Manp">'+g.JS.Manp+'/h</th><th style="width:8.88%;" tabindex="0" id="resultPlan_Ammu">'+g.JS.Ammu+'/h</th><th style="width:8.88%;"tabindex="0" id="resultPlan_Rati">'+g.JS.Rati+'/h</th><th style="width:8.88%;" tabindex="0" id="resultPlan_Part">'+g.JS.Part+'/h</th><th style="width:8.88%;" tabindex="0" id="resultPlan_TPro">'+g.JS.TPro+'/h</th><th style="width:8.88%;" tabindex="0" id="resultPlan_Equi">'+g.JS.Equi+'/h</th><th style="width:8.88%;" tabindex="0" id="resultPlan_QPro">'+g.JS.QPro+'/h</th><th style="width:8.88%;" tabindex="0" id="resultPlan_QRes">'+g.JS.QRes+'/h</th><th style="width:8.88%;cursor:default;">'+g.JS.MinIntervalTime+"</th>"+this._titleEnd:this._title+'<th style="width:8.88%;" tabindex="0" id="resultPlan_Manp">'+g.JS.Manp+'</th><th style="width:8.88%;" tabindex="0" id="resultPlan_Ammu">'+g.JS.Ammu+'</th><th style="width:8.88%;"tabindex="0" id="resultPlan_Rati">'+g.JS.Rati+'</th><th style="width:8.88%;" tabindex="0" id="resultPlan_Part">'+g.JS.Part+'</th><th style="width:8.88%;" tabindex="0" id="resultPlan_TPro">'+g.JS.TPro+'</th><th style="width:8.88%;" tabindex="0" id="resultPlan_Equi">'+g.JS.Equi+'</th><th style="width:8.88%;" tabindex="0" id="resultPlan_QPro">'+g.JS.QPro+'</th><th style="width:8.88%;" tabindex="0" id="resultPlan_QRes">'+g.JS.QRes+'</th><th style="width:8.88%;cursor:default;">'+g.JS.MinIntervalTime+"</th>"+this._titleEnd}},{key:"printTableCustomize",value:function(e,t,a,n){var i=[],l=[this.Qvalid_Time[e],this.Qvalid_Time[t],this.Qvalid_Time[a],this.Qvalid_Time[n]];return i.push(Ie(l,this._totalTime)+"m"),i}},{key:"getSavedCustom",value:function(){var e=[],t=me();e.push(t);var a=he();return e.push(a),e}},{key:"applySavedCustom",value:function(e){var t=e[0],a=e[1];ge(t),function(e){var t=0<arguments.length&&void 0!==e?e:0;$("#Tab_Anytime_MinimumIntervalTime_minutes").val(t)}(a),H("TabAnytimeCustom",e)}},{key:"planDetailsCustom_Title",value:function(){return g.JS.MinIntervalTime}},{key:"planDetailsCustom_Content",value:function(e){for(var t=[],a=this.getTotalTime(!1),n=0;n<e.length;n++)for(var i=0;i<k.length;i++)if(k[i][0]===e[n]){t.push(k[i][9]);break}for(var l=e.length;l<4;l++)t.push(a);return d(t),v(Ie(t,a))}}],[{key:"isThisTabShow",value:function(){return!!$("#Tab_Anytime").hasClass("active")}}]),ke);function ke(){u(this,ke);var e=o(this,(ke.__proto__||Object.getPrototypeOf(ke)).call(this));return e.name="Anytime",e.PlanTableResourceAndContractWidth="8.88%",e.Qvalid_Time=[],e.MinimumIntervalTime=0,e}function Ie(e,t){for(var a=e[0],n=0;n<4;n++){var i=t%e[n];0!=i&&(a=a<i?a:i)}var l=e[0],r=e[1],o=e[2],s=e[3],u=4;if(s%o!=0&&s%r!=0&&s%l!=0||u--,o%r!=0&&o%l!=0||(3===u?u--:e[2]=t),r%l==0&&(2===u?u--:e[1]=t),1===u)return a;for(var _=l;_<t;){for(var c=t,d=0,T=-1;++T<u;)e[T]<=c&&(c=e[T],d=T);switch(d){case 0:e[0]+=l;break;case 1:e[1]+=r;break;case 2:e[2]+=o;break;case 3:e[3]+=s}var m=c-_;0!=m&&(_=c,a=a<m?a:m)}return a}var Ae=(t(Ee,xe),e(Ee,[{key:"_setTime",value:function(e){if(!0!==this._setTimeFlag){if(this.TimeList=J.slice().sort(M),this.TimeList.unshift(0),this._totalTime=pe(e),e&&0===this._totalTime)throw alert(g.JS.tab_Timetable_alert4),ot(),"Warning: Total time cannot be 0!";this.TimeList.push(this._totalTime),this._setTimeFlag=!0}}},{key:"setQValid",value:function(e){var t=!(0<arguments.length&&void 0!==e)||e;if(!0!==this._setQValidFlag){this._setTime(t);for(var a=1+ne(t)/200,n=this._getUnableLogistic(),i=0;i<k.length;i++)if(-1===n.indexOf(i)){var l=[];l.push(k[i][0]);for(var r=0,o=[],s=0,u=1;u<this.TimeList.length;u++)k[i][9]<=this.TimeList[u]-this.TimeList[s]&&(r++,o.push(this.TimeList[s]+k[i][9]),s=u);for(var _=1;_<5;_++)l.push(k[i][_]*r*a/this._totalTime);for(var c=5;c<9;c++)l.push(k[i][c]*r/this._totalTime);l.push(k[i][9]),l.push(o),this._QValid.push(l)}this._setQValidFlag=!0}}},{key:"printPlanTableTitle",value:function(){return X()?this._title+'<th style="width:10%;" tabindex="0" id="resultPlan_Manp">'+g.JS.Manp+'/h</th><th style="width:10%;" tabindex="0" id="resultPlan_Ammu">'+g.JS.Ammu+'/h</th><th style="width:10%;" tabindex="0" id="resultPlan_Rati">'+g.JS.Rati+'/h</th><th style="width:10%;" tabindex="0" id="resultPlan_Part">'+g.JS.Part+'/h</th><th style="width:10%;" tabindex="0" id="resultPlan_TPro">'+g.JS.TPro+'/h</th><th style="width:10%;" tabindex="0" id="resultPlan_Equi">'+g.JS.Equi+'/h</th><th style="width:10%;" tabindex="0" id="resultPlan_QPro">'+g.JS.QPro+'/h</th><th style="width:10%;" tabindex="0" id="resultPlan_QRes">'+g.JS.QRes+"/h</th>"+this._titleEnd:this._title+'<th style="width:10%;" tabindex="0" id="resultPlan_Manp">'+g.JS.Manp+'</th><th style="width:10%;" tabindex="0" id="resultPlan_Ammu">'+g.JS.Ammu+'</th><th style="width:10%;" tabindex="0" id="resultPlan_Rati">'+g.JS.Rati+'</th><th style="width:10%;" tabindex="0" id="resultPlan_Part">'+g.JS.Part+'</th><th style="width:10%;" tabindex="0" id="resultPlan_TPro">'+g.JS.TPro+'</th><th style="width:10%;" tabindex="0" id="resultPlan_Equi">'+g.JS.Equi+'</th><th style="width:10%;" tabindex="0" id="resultPlan_QPro">'+g.JS.QPro+'</th><th style="width:10%;" tabindex="0" id="resultPlan_QRes">'+g.JS.QRes+"</th>"+this._titleEnd}},{key:"getSavedCustom",value:function(){var e=[],t=pe();e.push(t);var a=J.slice();return e.push(a),e}},{key:"applySavedCustom",value:function(e){ve(e[0]);var t=e[1];N(t),H("TabTimetableCustom",e)}}],[{key:"isThisTabShow",value:function(){return!!$("#Tab_Timetable").hasClass("active")}}]),Ee);function Ee(){u(this,Ee);var e=o(this,(Ee.__proto__||Object.getPrototypeOf(Ee)).call(this));return e.name="Timetable",e._QValid=[],e.TimeList=[],e.PlanTableResourceAndContractWidth="10%",e}function Le(){var e=void 0;return Re.isThisTabShow()?e=new Re:Ae.isThisTabShow()&&(e=new Ae),e}function Qe(e){var t=void 0;switch(e){case"Anytime":t=new Re;break;case"Timetable":t=new Ae}return t}var De=6;function Fe(){var e=g.HTML,t=g.HTMLJS,a=g.JS,n=g.CSS;for(var i in document.documentElement.lang=g.lang,document.title=g.title,e)document.getElementById(i).innerHTML=e[i];for(var l in t.placeholder)document.getElementById(l).placeholder=t.placeholder[l];for(var r in t.title)document.getElementById(r).title=t.title[r];st(),ot();for(var o=(k.length-4)/4,s=De;s<=o;s++)document.getElementById("chapter_"+s).innerHTML=a.chapter_start+a.number(s)+a.chapter_end;$("button[id^=Tab_Timetable_range_thumb_]").attr("title",t.Timetable_deletePoint),$("button[id^=SavedTable_apply_]").attr("title",t.SavedTable_apply),$("input[id^=SavedTable_name_]").attr("placeholder",t.SavedTable_name),$("button[id^=SavedTable_rename_]").attr("title",t.SavedTable_rename),$("button[id^=SavedTable_up_]").attr("title",t.SavedTable_up),$("button[id^=SavedTable_down_]").attr("title",t.SavedTable_down),$("button[id^=SavedTable_export_]").attr("title",t.SavedTable_export),$("button[id^=SavedTable_delete_]").attr("title",t.SavedTable_delete);var u=Le();Be.printShownTab(u.name),Be.printTotalTime(u.getTotalTime(!1)),Be.printGreatSuccessRate(ne()),Be.printExecutionTimes(ye()),$("#PlanDetails_PerHour_title").html(a.PerHour),$("#PlanDetails_Total_title").html(a.Total),$("#PlanDetails_TabCustom_Title").html(u.planDetailsCustom_Title()),X()?$("#Demand").html(t.Demand_hour):$("#Demand").html(t.Demand_total),document.getElementById("Manp").style.width=n.TargetValueSpan_Width,document.getElementById("Ammu").style.width=n.TargetValueSpan_Width,document.getElementById("Rati").style.width=n.TargetValueSpan_Width,document.getElementById("Part").style.width=n.TargetValueSpan_Width,document.getElementById("TPro").style.width=n.TargetValueSpan_Width,document.getElementById("Equi").style.width=n.TargetValueSpan_Width,document.getElementById("QPro").style.width=n.TargetValueSpan_Width,document.getElementById("QRes").style.width=n.TargetValueSpan_Width}var Be=(e(He,null,[{key:"printShownTab",value:function(e){var t="";switch(e){case"Anytime":t=g.HTML.Tab_Anytime_name;break;case"Timetable":t=g.HTML.Tab_Timetable_name}document.getElementById("PlanDetails_ShownTab").innerHTML=g.JS.PlanDetails_calculateMethod+": "+t}},{key:"printTotalTime",value:function(e){document.getElementById("PlanDetails_TotalTime").innerHTML=g.JS.total_time+": "+v(e)}},{key:"printGreatSuccessRate",value:function(e){document.getElementById("PlanDetails_GreatSuccessRate").innerHTML=g.JS.total_greatSuccessRate+": "+e+"%"}},{key:"printExecutionTimes",value:function(e){document.getElementById("PlanDetails_ExecutionTimes").innerHTML=g.JS.ExecutionTimes+": "+e}},{key:"printMissions",value:function(e){for(var t=0;t<e.length;t++){for(var a="<td>"+e[t][0]+"</td>",n=1;n<9;n++)a+="<td>",a+=p(60*e[t][n]),a+="</td>";a+="<td>"+v(e[t][9])+"</td>",document.getElementById("PlanDetails_Mission_"+(t+1)).innerHTML=a}for(var i=e.length;i<4;i++)document.getElementById("PlanDetails_Mission_"+(i+1)).innerHTML=""}},{key:"printMissionsHourly",value:function(e,t){if(0!==e.length){for(var a="<td id='PlanDetails_PerHour_title'>"+g.JS.PerHour+"</td>",n=1;n<9;n++){a+="<td>";for(var i=0,l=0;l<e.length;l++)i+=e[l][n];a+=p(60*i),a+="</td>"}a+="<td id='PlanDetails_TabCustom_Title'>",a+=Qe(t).planDetailsCustom_Title(),a+="</td>",document.getElementById("PlanDetails_PerHour").innerHTML=a}else document.getElementById("PlanDetails_PerHour").innerHTML=""}},{key:"printMissionsTotal",value:function(e,t,a,n){if(0!==e.length){for(var i="<td id='PlanDetails_Total_title'>"+g.JS.Total+"</td>",l=1;l<9;l++){i+="<td>";for(var r=0,o=0;o<e.length;o++)r+=e[o][l];i+=p(r*t*a),i+="</td>"}for(var s=[],u=0;u<e.length;u++)s.push(e[u][0]);i+="<td>",i+=Qe(n).planDetailsCustom_Content(s)+"</td>",document.getElementById("PlanDetails_Total").innerHTML=i}else document.getElementById("PlanDetails_Total").innerHTML=""}},{key:"printChart",value:function(e,t,a){var n=this._chartLastParam;if(e.length===n.missionsName.length&&t===n.totalTime&&a===n.startTIme){for(var i=e.length,l=!0,r=0;r<i;r++)e[r][0]===n.missionsName[r]&&""+e[r][10]===n.collectTimetable[r]||(l=!1);if(!0===l)return}var o=document.getElementById("PlanDetails_Chart"),s=void 0;if(""===o.getAttribute("_echarts_instance_")||null===o.getAttribute("_echarts_instance_")){if(0===e.length)return;o.style.cssText="width: 610px; height: 120px;",s=echarts.init(o)}else if(s=echarts.getInstanceByDom(o),0===e.length)return s.dispose(),void(o.style.cssText="");for(var u=[],_=[],c=[],d=[],T=[],m=["#A1C0FF","#FF8C8A","#75d874","#FFDA93"],g=e.length-1;0<=g;g--)u.push(e[g][0]),_.push(e[g][9]),c.push(e[g][10]),d.push(e[g][10].length),T.push({name:e[g][0],color:m[g]});var h=[],p=void 0;p=t<=960?60:t<=1920?120:t<=2880?180:t<=3840?240:300,echarts.util.each(["0","1","2","3"],function(e,t){for(var a=void 0,n=0;n<d[e];n++){var i=T[e],l=_[e];h.push({name:i.name,value:[t,a=c[e][n]-l,a+=l-1,l-1],itemStyle:{normal:{color:i.color}}}),h.push({name:"none",value:[t,a=c[e][n]-1,a+=1,1],itemStyle:{normal:{color:"#000000"}}})}});var v={title:{show:!1},grid:{left:35,right:20,top:5,bottom:20,height:"auto"},xAxis:{min:0,scale:!0,axisLabel:{formatter:function(e){return P(e+a)}},max:t,interval:p},yAxis:{data:u},series:[{type:"custom",renderItem:Ge,itemStyle:{normal:{opacity:.8}},encode:{x:[1,2],y:0},data:h}],animation:!1,backgroundColor:"#FFFFFF"};s.setOption(v),n.startTIme=a,n.totalTime=t;for(var b=e.length,f=[],y=[],S=0;S<b;S++)f.push(e[S][0]),y.push(""+e[S][10]);n.missionsName=f,n.collectTimetable=y}},{key:"printAll",value:function(e,t,a,n,i,l){this.printShownTab(e),this.printTotalTime(t),this.printGreatSuccessRate(a),this.printExecutionTimes(n),this.printMissions(i),this.printMissionsHourly(i,e),this.printMissionsTotal(i,t,n,e),this.printChart(i,t,l)}}]),He);function He(){u(this,He)}function Ge(e,t){var a=t.value(0),n=t.coord([t.value(1),a]),i=t.coord([t.value(2),a]),l=.5*t.size([0,1])[1],r=echarts.graphic.clipRectByRect({x:n[0],y:n[1]-l/2,width:i[0]-n[0],height:l},{x:e.coordSys.x,y:e.coordSys.y,width:e.coordSys.width,height:e.coordSys.height});return r&&{type:"rect",shape:r,style:t.style()}}function Je(){var e=Le(),t=e.getTotalTime(!1),a=ne(),n=ye(),i=fe();Be.printAll(e.name,t,a,n,ze.getSelectedMissionsDetails(),i)}Be._chartLastParam={missionsName:[],collectTimetable:[],totalTime:-1,startTIme:-1};var We=(e(Ne,null,[{key:"clear",value:function(){this._lastResultsPlan=[],this._lastSortBy="Ranking"}},{key:"getLastResultsPlan",value:function(){return this._lastResultsPlan}},{key:"getLastSortBy",value:function(){return this._lastSortBy}},{key:"print",value:function(e,t){var a=0<arguments.length&&void 0!==e?e:this._lastResultsPlan,n=1<arguments.length&&void 0!==t?t:this._lastSortBy;if(document.getElementById("start_ranking_html").style.display="none",0===a.length)document.getElementById("Plan_Table").innerHTML=g.JS.NoPlan,this.clear();else{var i=0,l=document.getElementById("result_plan_table");null!==l&&(i=l.scrollLeft);var r=this.sortResultPlan(a,n);document.getElementById("Plan_Table").innerHTML=this._getPrintHtml(r),0!=i&&(document.getElementById("result_plan_table").scrollLeft=i),this._lastResultsPlan=r,this._lastSortBy=n}}},{key:"sortResultPlan",value:function(e,t){var a=e.slice();switch(t){case"Ranking":m(a,0);break;case"Manp":T(a,5);break;case"Ammu":T(a,6);break;case"Rati":T(a,7);break;case"Part":T(a,8);break;case"TPro":T(a,9);break;case"Equi":T(a,10);break;case"QPro":T(a,11);break;case"QRes":T(a,12)}return a}},{key:"_getPrintHtml",value:function(e){var t="";t+='<div class="table-responsive" id="result_plan_table" style="margin-bottom: 0;">',t+='<table class="table table-striped table-hover table-responsive text-nowrap" style="margin-bottom: 0; text-align: center; border: 0;">';var a=Le();t+=a.printPlanTableTitle()+"<tbody>";var n=60;X()||(n=a.getTotalTime(!1));for(var i=0;i<e.length;i++){t+="<tr tabindex='0' id='print_result_plan_tr_"+i+"'>";for(var l=0;l<4;l++)t+="<td style='width: 5%;'>",t+=""+e[i][l+1],t+="</td>";for(var r=4;r<8;r++)t+="<td style='width:"+a.PlanTableResourceAndContractWidth+"'>",t+=""+Math.round(e[i][r+1]*n*10)/10,t+="</td>";for(var o=8;o<12;o++)t+="<td style='width:"+a.PlanTableResourceAndContractWidth+";'>",t+=""+Math.round(e[i][o+1]*n*100)/100,t+="</td>";for(var s=e[0].length,u=13;u<s;u++)t+="<td style='width:"+a.PlanTableResourceAndContractWidth+";'>",t+=e[i][u],t+="</td>";t+="</tr>"}return t+="</tbody>"}}]),Ne);function Ne(){u(this,Ne)}function Oe(){var e=document.getElementById("Plan_Table").innerHTML;return""!==e&&e!==g.JS.NoPlan}We._lastResultsPlan=[],We._lastSortBy;var qe=(e(Ue,null,[{key:"clear",value:function(){this._TargetValue_Original=[0,0,0,0,0,0,0,0],this._TargetValue=[0,0,0,0,0,0,0,0],this._ShownTab=-1}},{key:"setFineTuning",value:function(e,t){this._TargetValue_Original=e.slice(),this._TargetValue=e.slice(),this._ShownTab=t}},{key:"getTargetValue",value:function(){return this._TargetValue.slice()}},{key:"getShownTab",value:function(){return this._ShownTab}},{key:"changeTargetValue",value:function(e,t){var a=["MT","AT","RT","PT","TT","ET","QPT","QRT"].indexOf(t);-1===e?this._TargetValue[a]-=this._TargetValue_Original[a]/50:this._TargetValue[a]+=this._TargetValue_Original[a]/50}},{key:"print",value:function(){if(Oe()){var e=document.getElementById("FineTuning"),t=["MT","AT","RT","PT","TT","ET","QPT","QRT"];if(""===e.innerHTML){var a=g.JS,n=[a.FineTuningManp,a.FineTuningAmmu,a.FineTuningRati,a.FineTuningPart,a.FineTuningTPro,a.FineTuningEqui,a.FineTuningQPro,a.FineTuningQRes],i='<div class="panel panel-default" style="margin-bottom:5px">';i+='<div class="panel-heading">',i+='<h4 class="panel-title"><a data-toggle="collapse" id="FineTuningTool_panelTitle" href="#FineTuningTool" class="collapsed">'+a.FineTuningTool+"</a></h4></div>",i+='<div id="FineTuningTool" class="panel-collapse collapse"',w()&&(i+='style="transition: none;"'),i+=">",i+='<div class="panel-body" style="padding-left: 5px; padding-right: 5px;">';for(var l=0;l<8;l++){0===l&&(i+='<div class="col-lg-6 col-md-6 col-sm-6" style="padding-left: 5px; padding-right: 5px;">'),4===l&&(i+='</div> <div class="col-lg-6 col-md-6 col-sm-6" style="padding-left: 5px; padding-right: 5px;">'),i+='<div class="form-group input-group" style="margin-bottom: 10px; width: 100%;">',i+='<span class="input-group-addon" style="width:auto;" id="FineTuningTool_'+t[l]+'">'+n[l]+"</span>",i+='<div class="input-group-btn" style="width: '+g.CSS.FineTuningButton_Width+';">',i+='<button class="btn btn-default" style="width: 50%;" type="button" id="FineTuning_minus_'+t[l]+'"';var r=this._TargetValue_Original[l],o=this._TargetValue[l];(0===r||o-r/50<=0||o-r/50<.9*r)&&(i+='disabled="disabled"'),i+='title="'+g.HTMLJS.FineTuning_minus+'"><b>-</b></button>',i+='<button class="btn btn-default" style="width: 50%;" type="button" id="FineTuning_plus_'+t[l]+'"',(0===r||1<=o+r/50||1.14*r<o+r/50)&&(i+='disabled="disabled"'),i+='title="'+g.HTMLJS.FineTuning_plus+'"><b>+</b></button>',i+="</div></div>"}i+="</div></div></div></div>",e.innerHTML=i}else for(var s=0;s<8;s++){var u=this._TargetValue_Original[s],_=this._TargetValue[s];if(0===u||_-u/50<=0||_-u/50<.9*u){var c=$("#FineTuning_minus_"+t[s]);"disabled"!==c.attr("disabled")&&c.attr("disabled","disabled")}else{var d=$("#FineTuning_minus_"+t[s]);"disabled"===d.attr("disabled")&&d.removeAttr("disabled")}if(0===u||1<=_+u/50||1.14*u<_+u/50){var T=$("#FineTuning_plus_"+t[s]);"disabled"!==T.attr("disabled")&&T.attr("disabled","disabled")}else{var m=$("#FineTuning_plus_"+t[s]);"disabled"===m.attr("disabled")&&m.removeAttr("disabled")}}}}}]),Ue);function Ue(){u(this,Ue)}qe._TargetValue_Original=[],qe._TargetValue=[],qe._ShownTab=-1;var ze=(e(je,null,[{key:"getSelectedMissions",value:function(e){var t=!(0<arguments.length&&void 0!==e)||e,a=this._selectedMissions.slice();return t?a.sort(C):a}},{key:"setSelectedMissions",value:function(e){this._selectedMissions=e}},{key:"selectMission",value:function(e){this._selectedMissions.push(e)}},{key:"deleteSelectedMission",value:function(e){var t=0<arguments.length&&void 0!==e?e:this._selectedMissions[0];this._selectedMissions.remove_First(t)}},{key:"getSelectedMissionsDetails",value:function(){for(var e=[],t=this.getSelectedMissions(),a=this._missionsTable,n=0;n<t.length;n++){var i=this.getMissionsTableRowIndex(t[n]);e.push(a[i])}return e}},{key:"getMissionsTable",value:function(e){switch(0<arguments.length&&void 0!==e?e:"default"){case"default":return this._missionsTable.slice();case"quick":return this._missionsTable;case"missionSort":var t=this._missionsTable.slice();return a(t,0),t}}},{key:"getMissionsTableRowIndex",value:function(e){for(var t=-1,a=this._missionsTable.length,n=0;n<a;n++)if(e===this._missionsTable[n][0]){t=n;break}return t}},{key:"setMissionsTable",value:function(){var e=Le();this._missionsTable=e.getQValid(!1),this._sortMissionsTable("Mission")}},{key:"_sortMissionsTable",value:function(e){switch(e){case"Mission":a(this._missionsTable,0);break;case"Manp":T(this._missionsTable,1);break;case"Ammu":T(this._missionsTable,2);break;case"Rati":T(this._missionsTable,3);break;case"Part":T(this._missionsTable,4);break;case"TPro":T(this._missionsTable,5);break;case"Equi":T(this._missionsTable,6);break;case"QPro":T(this._missionsTable,7);break;case"QRes":T(this._missionsTable,8);break;case"Time":m(this._missionsTable,9)}}},{key:"print",value:function(e){void 0!==e?this._sortMissionsTable(e):this.setMissionsTable();var t=this._missionsTable,a=t.length,n=this.getSelectedMissions(),i=60;X()||(i=Le().getTotalTime(!1));for(var l="",r=0;r<a;r++){l+='<tr id="MissionTable_'+r+'" tabindex="0"';for(var o=0;o<n.length;o++)if(n[o]===t[r][0]){n.splice(o,1),l+='class="success"';break}l+="><td>"+t[r][0]+"</td>";for(var s=1;s<9;s++)l+="<td>"+p(t[r][s]*i)+"</td>";l+="<td>"+v(t[r][9])+"</td>",l+="</tr>"}for(var u=0;u<n.length;u++)this._selectedMissions.remove_First(n[u]);0===a&&(l='<tr><td colspan="10">'+g.JS.NoMission+"</td></tr>"),document.getElementById("MissionTable_tbody").innerHTML=l}}]),je);function je(){u(this,je)}function Ze(e,t){We.print(e,t),qe.print();var a=ze.getSelectedMissions();4===a.length&&Xe(a)}function Xe(e){for(var t=We.getLastResultsPlan().slice(),a=t.length,n=0;n<a;n++)if(e[0]===t[n][1]&&e[1]===t[n][2]&&e[2]===t[n][3]&&e[3]===t[n][4]){$("#print_result_plan_tr_"+n).addClass("success");break}}function Ye(){for(var e=We.getLastResultsPlan().length,t=0;t<e;t++){var a=$("#print_result_plan_tr_"+t);if(a.hasClass("success")){a.removeClass("success");break}}}function Ke(e){var t=$("#print_result_plan_tr_"+e);if(t.hasClass("success"))t.removeClass("success");else{for(var a=We.getLastResultsPlan(),n=a.length,i=0;i<n;i++){var l=$("#print_result_plan_tr_"+i);l.hasClass("success")&&l.removeClass("success")}t.addClass("success");for(var r=ze.getSelectedMissions(!1),o=0;o<r.length;o++){var s=ze.getMissionsTableRowIndex(r[o]);$("#MissionTable_"+s).removeClass("success")}for(var u=0;u<4;u++)r[u]=a[e][u+1];ze.setSelectedMissions(r),Je();for(var _=0;_<4;_++){var c=ze.getMissionsTableRowIndex(r[_]);$("#MissionTable_"+c).addClass("success")}}}function et(e){var t=$("#MissionTable_"+e);if(t.hasClass("success")){t.removeClass("success");var a=ze.getMissionsTable("quick")[e][0];ze.deleteSelectedMission(a),Je(),Oe()&&Ye()}else{t.addClass("success");var n=ze.getSelectedMissions(!1);if(4===n.length){var i=ze.getMissionsTableRowIndex(n[0]);$("#MissionTable_"+i).removeClass("success"),ze.deleteSelectedMission()}var l=ze.getMissionsTable("quick")[e][0];if(ze.selectMission(l),Je(),Oe()&&Ye(),3<=n.length&&Oe())Xe(ze.getSelectedMissions())}}function tt(){$("button[id^=Target_plus_10_]").attr("style","display:none;"),$("button[id^=Target_plus_0]").attr("style","display:none;"),$("button[id^=Target_minus_10_]").attr("style","display:none;"),$("button[id^=Target_minus_0]").attr("style","display:none;")}function at(e){switch(e){case"zh-CN":H("Lang","zh-CN"),g=i;break;case"zh-TW":H("Lang","zh-TW"),g=l;break;case"en":H("Lang","en"),g=r}Fe()}function nt(e,t){var a=!(1<arguments.length&&void 0!==t)||t,n=$("#Tab_Timetable"),i=$("#Tab_Anytime");switch(e){case"Anytime":a&&$("#Tab_Anytime_name").tab("show"),n.removeClass("active in"),i.addClass("active");break;case"Timetable":a&&$("#Tab_Timetable_name").tab("show"),i.removeClass("active in"),n.addClass("active")}H("TabName",e)}function it(){H("HourlyOrTotal","PerHour"),$("#Demand").html(g.HTMLJS.Demand_hour);for(var e=Le().getTotalTime(),t=le(),a=0;a<8;a++)t[a]=Math.round(t[a]/e*6e3)/100;oe(t),ze.print(),Oe()&&Ze()}function lt(){H("HourlyOrTotal","Total"),$("#Demand").html(g.HTMLJS.Demand_total);for(var e=Le().getTotalTime(),t=le(),a=0;a<8;a++)t[a]=Math.round(t[a]*e*100/60)/100;oe(t),ze.print(),Oe()&&Ze()}function rt(e){var t=h(e),a=e.indexOf(t),n=e.slice(0,a-1),i=parseFloat(h(n));"m"===n.slice(7,8)&&(i*=-1);var l=$("#"+t);oe(le(l,!1)+i,l)}function ot(){"none"===document.getElementById("start_ranking").style.display&&($("#Time_Anytime_hours").removeAttr("disabled"),$("#Time_Anytime_minutes").removeAttr("disabled"),$("#Tab_Anytime_MinimumIntervalTime_minutes").removeAttr("disabled"),0===J.length&&($("#Time_Timetable_hours").removeAttr("disabled"),$("#Time_Timetable_minutes").removeAttr("disabled")),$("#tab_Timetable_deleteall").removeAttr("disabled"),$("button[id^=Tab_Timetable_range_thumb_]").removeAttr("disabled"),$("#Tab_Timetable_new_hours").removeAttr("disabled"),$("#Tab_Timetable_new_minutes").removeAttr("disabled"),$("#Tab_Timetable_AddNewTimePoint").removeAttr("disabled"),$("#GreatSuccessRate").removeAttr("disabled"),$("#GreatSuccessRateUp").removeAttr("disabled"),document.getElementById("GreatSuccessRateUp_text").style.cursor="pointer",document.getElementById("GreatSuccessRateUp_label").style.cursor="pointer",$("#ChapterLimit").removeAttr("disabled"),$("#calcTargetValueTool_apply").removeAttr("disabled"),$("#ContractWeight").removeAttr("disabled"),document.getElementById("ContractWeight_thumb").style.backgroundColor="rgb(112, 166, 236)",$("button[id^=setTarget_]").removeAttr("disabled"),$("#MT").removeAttr("disabled"),$("#AT").removeAttr("disabled"),$("#RT").removeAttr("disabled"),$("#PT").removeAttr("disabled"),$("#TT").removeAttr("disabled"),$("#ET").removeAttr("disabled"),$("#QPT").removeAttr("disabled"),$("#QRT").removeAttr("disabled"),$("button[id^=Target_minus_]").removeAttr("disabled"),$("button[id^=Target_plus_]").removeAttr("disabled"),document.getElementById("start_ranking").style.display="",document.getElementById("clear_ranking").style.display="none")}function st(){document.getElementById("start_ranking_html").style.display="",document.getElementById("FineTuning").innerHTML="",document.getElementById("Plan_Table").innerHTML="",qe.clear(),We.clear()}ze._missionsTable=[],ze._selectedMissions=[],window.onload=function(){D(),F(),function(){var e=G("Lang");"noStorage"===e&&(e=navigator.language||navigator.userLanguage);if("zh"===e.substr(0,2))switch(e){case"zh-HK":case"zh-TW":case"zh-MO":g=l,H("Lang","zh-TW");break;default:g=i,H("Lang","zh-CN")}else g=r,H("Lang","en")}(),function(){var e="";e+='<button type="button" class="btn btn-default"id="setTarget_HG" style="margin-right: 5px; margin-bottom: 5px;"></button>',e+='<button type="button" class="btn btn-default"id="setTarget_SMG" style="margin-right: 5px; margin-bottom: 5px;"></button>',e+='<button type="button" class="btn btn-default"id="setTarget_RF" style="margin-right: 5px; margin-bottom: 5px;"></button>',e+='<button type="button" class="btn btn-default"id="setTarget_AR" style="margin-right: 5px; margin-bottom: 5px;"></button>',e+='<button type="button" class="btn btn-default"id="setTarget_MG" style="margin-right: 5px; margin-bottom: 5px;"></button>',e+='<button type="button" class="btn btn-default"id="setTarget_SG" style="margin-right: 5px; margin-bottom: 5px;"></button>',e+='<button type="button" class="btn btn-default"id="setTarget_2221" style="margin-right: 5px; margin-bottom: 5px;"></button>',e+='<button type="button" class="btn btn-danger"id="setTarget_Clear" style="margin-right: 5px; margin-bottom: 5px;"></button>',document.getElementById("setTargetButton").innerHTML=e,e="";for(var t=["Manp","Ammu","Rati","Part","TPro","Equi","QPro","QRes"],a=["MT","AT","RT","PT","TT","ET","QPT","QRT"],n=0;n<4;n++)e+='<div class="form-group input-group"style="margin-bottom: 10px;"><span class="input-group-addon"style="padding-right:10px;padding-left:10px;cursor:default;"',e+="id="+t[n]+">",e+='</span><div class="input-group-btn"><button class="btn btn-default"type="button"id="Target_minus_100_'+a[n]+'"style="padding-right:10px;padding-left:10px;border-radius:0;"tabindex=-1>',e+='<b>&minus;</b></button><button class="btn btn-default"type="button"id="Target_minus_10_'+a[n]+'"style="padding-right:10px;padding-left:10px;border-radius:0;"tabindex=-1>',e+='&minus;</button></div><input type="number" min="0"class="form-control"id="',e+=a[n],e+='"value=0 onfocus="this.select();"style="border-left-width:0"><div class="input-group-btn"><button class="btn btn-default"type="button"id="Target_plus_10_'+a[n]+'"style="padding-right:10px;padding-left:10px;"tabindex=-1>',e+='+</button><button class="btn btn-default"type="button"id="Target_plus_100_'+a[n]+'"style="padding-right:10px;padding-left:10px;"tabindex=-1>',e+="<b>&plus;</b></button></div></div>";for(var i=4;i<8;i++)e+='<div class="form-group input-group"style="margin-bottom: 10px;"><span class="input-group-addon"style="padding-right:10px;padding-left:10px;cursor:default;"',e+="id="+t[i]+">",e+='</span><div class="input-group-btn"><button class="btn btn-default"id="Target_minus_1_'+a[i]+'"type="button"style="padding-right:10px;padding-left:10px;border-radius:0;"tabindex=-1>',e+='<b>&minus;</b></button><button class="btn btn-default"type="button"id="Target_minus_01_'+a[i]+'"style="padding-right:10px;padding-left:10px;border-radius:0;"tabindex=-1>',e+='&minus;</button></div><input type="number" min="0" step="0.01" class="form-control"id="',e+=a[i],e+='"value=0 onfocus="this.select();"style="border-left-width:0"><div class="input-group-btn"><button class="btn btn-default"type="button"id="Target_plus_01_'+a[i]+'"style="padding-right:10px;padding-left:10px;"tabindex=-1>',e+='+</button><button class="btn btn-default"type="button"id="Target_plus_1_'+a[i]+'"style="padding-right:10px;padding-left:10px;"tabindex=-1>',e+="<b>&plus;</b></button></div></div>";document.getElementById("setTargetInput").innerHTML=e}(),function(){for(var e=(k.length-4)/4,t="",a=De;a<=e;a++)t+=a===e?"<option value="+a+' id="chapter_'+a+'" selected></option>':"<option value="+a+' id="chapter_'+a+'"></option>';document.getElementById("ChapterLimit").innerHTML=t}(),function(){!1===(0<arguments.length&&void 0!==arguments[0]?arguments[0]:G("Description_Display"))&&(document.getElementById("description").style.display="none")}(),function(){!1===(0<arguments.length&&void 0!==arguments[0]?arguments[0]:G("LocalstorageWarning_Display"))&&(document.getElementById("localstorageWarning").style.display="none")}(),ft(),yt(),St(),Pt(),Mt(),Ct(),wt(),Vt(),xt(),$t(),function(){!0===(0<arguments.length&&void 0!==arguments[0]?arguments[0]:G("IsSavedPanelShow"))&&(0===pt.getSaved().length?H("IsSavedPanelShow",!1):(document.getElementById("MissionTable_panel").style.transition="none",document.getElementById("Saved").style.transition="none",$("#Saved").collapse("show"),$("#MissionTable_panel").collapse("hide")))}(),Rt();var e=ne(!0);I(e),ze.print();var t=Le();Be.printShownTab(t.name),Be.printTotalTime(t.getTotalTime(!1)),Be.printGreatSuccessRate(e),Be.printExecutionTimes(ye()),Fe(),w()?(document.getElementById("Saved").style.transition="none",document.getElementById("MissionTable_panel").style.transition="none",document.getElementById("calcTargetValueTool_panel").style.transition="none","noStorage"===G("IsSavedPanelShow")&&$("#MissionTable_panel").collapse("hide"),document.getElementById("page-header").style.marginTop="20px",document.getElementById("container-fluid").style.padding="0",document.getElementById("calcTargetValueTool_apply").innerHTML='<span id="calcTargetValueTool_apply_text">'+g.HTML.calcTargetValueTool_apply_text+"</span> &darr;"):document.getElementById("page-wrapper").style.marginLeft="250px",document.getElementById("setTargetInput").getBoundingClientRect().width<=260&&tt(),document.getElementById("wrapper").getBoundingClientRect().width<=1600&&(document.getElementById("page-wrapper").style.marginLeft="0"),L&&sessionStorage.setItem("GF_Logistics_windowOnload","success")},$(window).resize(function(){document.getElementById("setTargetInput").getBoundingClientRect().width<=260?tt():($("button[id^=Target_plus_10_]").attr("style","padding-right:10px;padding-left:10px;border-radius:0;"),$("button[id^=Target_plus_0]").attr("style","padding-right:10px;padding-left:10px;border-radius:0;"),$("button[id^=Target_minus_10_]").attr("style","padding-right:10px;padding-left:10px;border-radius:0;"),$("button[id^=Target_minus_0]").attr("style","padding-right:10px;padding-left:10px;border-radius:0;")),document.getElementById("wrapper").getBoundingClientRect().width<=1600?document.getElementById("page-wrapper").style.marginLeft="0":document.getElementById("page-wrapper").style.marginLeft="250px"});var ut=(e(_t,[{key:"_setList",value:function(e){for(var t=new Array(e),a=0;a<e;a++)t[a]=new Array(13);return t}},{key:"ranking",value:function(){for(var e=this.ShownTab.getQValidLength(),t=e-3,a=e-2,n=e-1,i=e,l=0;l<t;l++)for(var r=l+1;r<a;r++)for(var o=r+1;o<n;o++)for(var s=o+1;s<i;s++)this._calculateAndPushIntoList(l,r,o,s)}},{key:"_pushIntoList",value:function(e,t,a,n,i,l){0 in this.List[this.List_lastIndex]?this._push(e,t,a,n,i,l):this._pushIntoFirstEmpty(e,t,a,n,i,l)}},{key:"_pushIntoFirstEmpty",value:function(e,t,a,n,i,l){for(var r=this.List_lastIndex;0!==r&&!(0 in this.List[r-1]);)r--;this._pushIntoThisRow(r,e,t,a,n,i,l),this._sortList(r,i)}},{key:"_push",value:function(e,t,a,n,i,l){var r=this.List_lastIndex;i<=this.List[r][12]||(this._pushIntoThisRow(r,e,t,a,n,i,l),this._sortList(r,i))}},{key:"_pushIntoThisRow",value:function(e,t,a,n,i,l,r){this.List[e]=[t,a,n,i,r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],l]}},{key:"_sortList",value:function(e,t){for(var a=e-1;0<=a&&t>this.List[a][12];a--){var n=[this.List[a],this.List[a+1]];this.List[a+1]=n[0],this.List[a]=n[1]}}}]),_t);function _t(e,t){u(this,_t),this.List=this._setList(t),this.List_length=t,this.List_lastIndex=t-1,this.ShownTab=e}var ct=(t(dt,ut),e(dt,[{key:"_correctTargetValueHTML",value:function(){var e=le(),t=e.slice(0,4),a=e.slice(4,8);return t=this._correctTargetValueHTML_main(t),a=this._correctTargetValueHTML_main(a),oe(e=t.concat(a)),e}},{key:"_correctTargetValueHTML_main",value:function(e){for(var t=y(e),a=Math.round(t/5e3*100)/100,n=0;n<4;n++)0!==e[n]&&(e[n]=Math.max(a,e[n]));return e}},{key:"_correctTargetValue",value:function(){var e=this._correctResourceValue(),t=this._correctContractValue(),a=e.concat(t);if(""+a=="0,0,0,0,0,0,0,0")throw alert(g.JS.TargetValue0_alert),"Warning: TargetValue cannot all be 0!";return a}},{key:"_correctResourceValue",value:function(){var e=this.targetValue_html.slice(0,4),t=100-_e();return this._valuesNotAll0(e)&&this._correctValue(e,t),e}},{key:"_correctContractValue",value:function(){var e=this.targetValue_html.slice(4,8),t=_e();return this._valuesNotAll0(e)&&this._correctValue(e,t),e}},{key:"_valuesNotAll0",value:function(e){for(var t=0;t<e.length;t++)if(0!==e[t])return!0;return!1}},{key:"_correctValue",value:function(e,t){for(var a=t/y(e),n=0;n<e.length;n++)e[n]*=a}},{key:"_getNorm",value:function(e){for(var t=0,a=0;a<8;a++)t+=Math.pow(e[a],2);return Math.pow(t,.5)}},{key:"ranking",value:function(){this.ShownTab.deleteUselessMissions(this.QValidMaxLength_1,this.targetValue),s(dt.prototype.__proto__||Object.getPrototypeOf(dt.prototype),"ranking",this).call(this),this.ShownTab.getQValidLength()>this.QValidMaxLength_2&&this.ShownTab.deleteUselessMissions(this.QValidMaxLength_2,this.targetValue,this.Qvalid_missionValue)}},{key:"_calculateAndPushIntoList_andCalculateMissionsValue",value:function(e,t,a,n){var i=this.ShownTab.calculateCurrentValue(e,t,a,n);if(-1!==i[0]){var l=this._calculateValue(i),r=this.Qvalid_missionValue;r[e]+=l,r[t]+=l,r[a]+=l,r[n]+=l,this._pushIntoList(e,t,a,n,l,i)}}},{key:"_calculateAndPushIntoList_normal",value:function(e,t,a,n){var i=this.ShownTab.calculateCurrentValue(e,t,a,n);if(-1!==i[0]){var l=this._calculateValue(i);this._pushIntoList(e,t,a,n,l,i)}}},{key:"_calculateValue",value:function(e){var t=this.targetValue,a=[0,0,0,0,0,0,0,0];0!==t[0]&&(a[0]=e[0]),0!==t[1]&&(a[1]=e[1]),0!==t[2]&&(a[2]=e[2]),0!==t[3]&&(a[3]=e[3]),0!==t[4]&&(a[4]=500*e[4]),0!==t[5]&&(a[5]=500*e[5]),0!==t[6]&&(a[6]=500*e[6]),0!==t[7]&&(a[7]=500*e[7]);var n=this._getNorm(a);if(0===n)return 0;var i=this._getDotProduct(a,t)/this._norm_target,l=i/n,r=(-.698131700797732*l*l-.872664625997164)*l+1.57079632679489,o=1-.5*(0<r?r:0);return o*o*i}},{key:"_getDotProduct",value:function(e,t){for(var a=0,n=0;n<8;n++)a+=e[n]*t[n];return a}},{key:"getStdznTargetValue",value:function(){var e=this._getAvgCurrentByList(),t=e.slice(0,4);t.class="Resource";var a=e.slice(4,8);a.class="Contract";for(var n=this._getCalibration(t),i=this._getCalibration(a),l=0;l<4;l++)e[l]=0!==n?this.targetValue_html[l]/n:0;for(var r=4;r<8;r++)e[r]=0!==i?this.targetValue_html[r]/i:0;return e}},{key:"_getAvgCurrentByList",value:function(){var e=[0,0,0,0,0,0,0,0],t=new Array(8),a=this.List;t.fill(this.List_length);for(var n=0;n<8;n++)for(var i=0;i<this.List_length;i++)e[n]+=a[i][n+4],0===a[i][n+4]&&t[n]--;for(var l=0;l<8;l++)0===t[l]?e[l]=0:e[l]/=t[l];return e}},{key:"_getCalibration",value:function(e){for(var t=this._getTarget0Html(e.class),a=this._getCurrent0Max(e.class),n=0,i=e.length,l=0;l<e.length;l++)0!==e[l]?(n+=t[l]/e[l],0===t[l]&&i--):i--;if(0!==n)n/=i;else{for(var r=0,o=e.length,s=0;s<e.length;s++)0!==a[s]?r+=a[s]:o--;0===o?r=0:r/=o,n=y(t)/r}return n}},{key:"_getTarget0Html",value:function(e){return new Array(4),"Resource"===e?this.targetValue_html.slice(0,4):this.targetValue_html.slice(4,8)}},{key:"_getCurrent0Max",value:function(e){return new Array(4),"Resource"===e?this.ShownTab.getCurrentValueMax().slice(0,4):this.ShownTab.getCurrentValueMax().slice(4,8)}}]),dt);function dt(e,t,a,n){u(this,dt);var i=o(this,(dt.__proto__||Object.getPrototypeOf(dt)).call(this,e,t)),l=i.ShownTab.getQValidLength();if(i.QValidMaxLength_1=Math.min(a,l),i.QValidMaxLength_2=Math.min(n,l),n<l){i._calculateAndPushIntoList=i._calculateAndPushIntoList_andCalculateMissionsValue;var r=new Array(i.QValidMaxLength_1);r.fill(0),i.Qvalid_missionValue=r}else i._calculateAndPushIntoList=i._calculateAndPushIntoList_normal;return i.targetValue_html=i._correctTargetValueHTML(),i.targetValue=i._correctTargetValue(),i._norm_target=i._getNorm(i.targetValue),i}var Tt=(t(mt,ut),e(mt,[{key:"_calculateAndPushIntoList",value:function(e,t,a,n){var i=this.ShownTab.calculateCurrentValue(e,t,a,n);if(-1!==i[0]){for(var l=0;l<8;l++)if(i[l]<this.targetValue_half[l])return;var r=this._calculateValue(i);this._pushIntoList(e,t,a,n,r,i)}}},{key:"_calculateValue",value:function(e){for(var t=0,a=99999999999,n=this.targetValue,i=0;i<8;i++)0!==n[i]&&(a=Math.min(a,e[i]/n[i]));for(var l=0;l<8;l++)t+=this._calculateValue_main(n[l],e[l],a);return t}},{key:"_calculateValue_main",value:function(e,t,a){return 0===e?0:.5*(Math.min(t,e)+Math.min(t,1.5*e*a))}},{key:"print",value:function(e){for(var t=0<arguments.length&&void 0!==e?e:"Ranking",a=this.ShownTab,n=a.getQValid(!0),i=a.getCurrentValueMax(),l=[],r=0;r<this.List_length;r++){var o=this.List[r];if(!(0 in o))break;var s=[];s.push(r);for(var u=new Array(4),_=0;_<4;_++)u[_]=n[o[_]][0];u=u.sort(C);for(var c=0;c<4;c++)s.push(u[c]);for(var d=0;d<8;d++)s.push(o[d+4]*i[d]);for(var T=this.ShownTab.printTableCustomize(o[0],o[1],o[2],o[3]),m=0;m<T.length;m++)s.push(T[m]);l.push(s)}Ze(l,t)}}]),mt);function mt(e,t,a){u(this,mt);var n=o(this,(mt.__proto__||Object.getPrototypeOf(mt)).call(this,e,t));n.targetValue=a,n.targetValue_half=n.targetValue.slice();for(var i=0;i<8;i++)n.targetValue_half[i]=.5*n.targetValue_half[i];return n}function gt(){var e=Le();e.setQValid();var t=new ct(e,8,44,34);t.ranking();for(var a=t.getStdznTargetValue(),n=new Array(8),i=e.getCurrentValueMax(),l=0;l<8;l++)n[l]=Math.min(1,a[l]/i[l]),n[l]=Math.max(n[l],0);e.normalizedQValid(),qe.setFineTuning(n,e);var r=new Tt(e,16,n);r.ranking(),r.print(),"none"!==document.getElementById("start_ranking").style.display&&($("#Time_Anytime_hours").attr("disabled","true"),$("#Time_Anytime_minutes").attr("disabled","true"),$("#Tab_Anytime_MinimumIntervalTime_minutes").attr("disabled","true"),$("#Time_Timetable_hours").attr("disabled","true"),$("#Time_Timetable_minutes").attr("disabled","true"),$("#tab_Timetable_deleteall").attr("disabled","true"),$("button[id^=Tab_Timetable_range_thumb_]").attr("disabled","true"),$("#Tab_Timetable_new_hours").attr("disabled","true"),$("#Tab_Timetable_new_minutes").attr("disabled","true"),$("#Tab_Timetable_AddNewTimePoint").attr("disabled","true"),$("#GreatSuccessRate").attr("disabled","true"),$("#GreatSuccessRateUp").attr("disabled","true"),document.getElementById("GreatSuccessRateUp_text").style.cursor="not-allowed",document.getElementById("GreatSuccessRateUp_label").style.cursor="not-allowed",$("#ChapterLimit").attr("disabled","true"),$("#calcTargetValueTool_apply").attr("disabled","true"),$("#ContractWeight").attr("disabled","true"),document.getElementById("ContractWeight_thumb").style.backgroundColor="#CCC",$("button[id^=setTarget_]").attr("disabled","true"),$("#MT").attr("disabled","true"),$("#AT").attr("disabled","true"),$("#RT").attr("disabled","true"),$("#PT").attr("disabled","true"),$("#TT").attr("disabled","true"),$("#ET").attr("disabled","true"),$("#QPT").attr("disabled","true"),$("#QRT").attr("disabled","true"),$("button[id^=Target_minus_]").attr("disabled","true"),$("button[id^=Target_plus_]").attr("disabled","true"),document.getElementById("start_ranking").style.display="none",document.getElementById("clear_ranking").style.display="")}function ht(e,t){qe.changeTargetValue(e,t);var a=qe.getShownTab(),n=qe.getTargetValue(),i=new Tt(a,16,n);i.ranking(),i.print(We.getLastSortBy())}var pt=(e(vt,null,[{key:"getSaved",value:function(){return this._saved.slice()}},{key:"saveThisPlan",value:function(){if(99<=this._saved.length)alert(g.JS.Saved_alert2);else{var e=prompt(g.JS.plzInputPlanName,g.JS.planDefaultName);if(null!=e){""==e&&(e=g.JS.planDefaultName);var t={};t.name=e,t.GSRate=Y(),t.is_UP=ee(),t.Chapter=de();var a=Le();t.TabName=a.name,t.TabCustom=a.getSavedCustom(),t.Missions=ze.getSelectedMissions(),t.startTime=fe(),this._saved.push(t),H("Saved",this._saved),this._printLastSaved()}}}},{key:"_printLastSaved",value:function(){var e=this._saved.length-1;0==e&&(document.getElementById("NoSaved").style.display="none");var t=this._getSavedRowHTML(e);$("#Saved_Body").append(t),0!=e&&$("#SavedTable_down_"+(e-1)).removeAttr("disabled")}},{key:"_getSavedRowHTML",value:function(e,t){var a=1<arguments.length&&void 0!==t?t:this._saved,n='<tr id="SavedTable_row_'+e+'"';return n+='><td><button type="button" class="btn btn-default"id="SavedTable_apply_'+e+'" title="'+g.HTMLJS.SavedTable_apply+'" style="background-color: #88E063;">',n+='<span class="glyphicon glyphicon-ok"style="top: 2px;" /></button></td><td><div class="form-group input-group" style="margin-bottom: 0;">',n+='<input type="text" class="form-control" style="min-width: 140px;"id="SavedTable_name_'+e+'" placeholder="'+g.HTMLJS.SavedTable_name+'"',n+='value="'+a[e].name+'"readonly="readonly">',n+='<div class="input-group-btn"><button type="button" class="btn btn-default"id="SavedTable_rename_'+e+'" title="'+g.HTMLJS.SavedTable_rename+'"><span class="glyphicon glyphicon-pencil"style="top: 2px;" /></button></div>',n+="</div></td>",n+='<td><div class="btn-group" style="min-width: 80px;"><button type="button" class="btn btn-default"id="SavedTable_up_'+e+'"" title="'+g.HTMLJS.SavedTable_up+'"',0===e&&(n+='disabled="disabled"'),n+=">",n+='<span class="glyphicon glyphicon-arrow-up"style="top: 2px;" /></button>',n+='<button type="button" class="btn btn-default"id="SavedTable_down_'+e+'" title="'+g.HTMLJS.SavedTable_down+'"',e===a.length-1&&(n+='disabled="disabled"'),n+='><span class="glyphicon glyphicon-arrow-down"style="top: 2px;" /></button></div></td>',n+='<td><button type="button" class="btn btn-default"id="SavedTable_export_'+e+'" title="'+g.HTMLJS.SavedTable_export+'"><span class="glyphicon glyphicon-export"style="top: 2px;" /></button></td>',n+='<td><button type="button" class="btn btn-default"id="SavedTable_delete_'+e+'" title="'+g.HTMLJS.SavedTable_delete+'" style="background-color: #F48380;"><span class="glyphicon glyphicon-trash"style="top: 2px;" /></button></td></tr>'}},{key:"apply",value:function(e){var t=this._saved[e],a=t.TabName;nt(a),K(t.GSRate),ie(t.is_UP),Te(t.Chapter),Qe(a).applySavedCustom(t.TabCustom),ze.setSelectedMissions(t.Missions),function(e){var t=P(0<arguments.length&&void 0!==e?e:0);2!==t.indexOf(":")&&(t="0"+t),$("#PlanDetails_InputStartTime").val(t)}(t.startTime),st(),ot(),ze.print(),Je()}},{key:"rename",value:function(e,t){this._saved[t].name=e,H("Saved",this._saved)}},{key:"upThisRow",value:function(e){$("#SavedTable_name_"+e).val(this._saved[e-1].name),$("#SavedTable_name_"+(e-1)).val(this._saved[e].name);var t=[this._saved[e-1],this._saved[e]];this._saved[e]=t[0],this._saved[e-1]=t[1],H("Saved",this._saved)}},{key:"downThisRow",value:function(e){$("#SavedTable_name_"+e).val(this._saved[e+1].name),$("#SavedTable_name_"+(e+1)).val(this._saved[e].name);var t=[this._saved[e+1],this._saved[e]];this._saved[e]=t[0],this._saved[e+1]=t[1],H("Saved",this._saved)}},{key:"export",value:function(e){var t=this._saved[e],a={data:t,MD5:md5(JSON.stringify(t))},n=JSON.stringify(a);n=LZString.compressToEncodedURIComponent(n);var i=document.getElementById("importSaved_input");i.value=n,i.select()}},{key:"deleteThisRow",value:function(e){var t=this._saved[e].name,a=g.JS.deleteSavedWarning_1+'"'+t+'"'+g.JS.deleteSavedWarning_2;if(confirm(a)){for(var n=e;n<this._saved.length-1;n++)$("#SavedTable_name_"+n).val(this._saved[n+1].name);var i=document.getElementById("SavedTable_row_"+(this._saved.length-1));document.getElementById("Saved_Body").removeChild(i),this._saved.splice(e,1),0!==this._saved.length?($("#SavedTable_up_0").attr("disabled","true"),$("#SavedTable_down_"+(this._saved.length-1)).attr("disabled","true")):document.getElementById("NoSaved").style.display=""}}},{key:"import",value:function(e){var t=LZString.decompressFromEncodedURIComponent(e);try{var a=JSON.parse(t),n=md5(JSON.stringify(a.data))===a.MD5}catch(e){}n?(this._saved.push(a.data),H("Saved",this._saved),this._printLastSaved()):alert(g.JS.Saved_alert)}},{key:"setSaved",value:function(e){if(0===(this._saved=e).length)document.getElementById("NoSaved").style.display="",document.getElementById("Saved_Body").innerHTML="";else{document.getElementById("NoSaved").style.display="none";for(var t="",a=0;a<this._saved.length;a++)t+=this._getSavedRowHTML(a);document.getElementById("Saved_Body").innerHTML=t}return H("Saved",this._saved),!0}}]),vt);function vt(){u(this,vt)}function bt(){for(var e=[0,0,0,0,0,0,0,0],t=Se(!0),a=Me(!0),n=we(!0),i=0;i<8;i++)e[i]=Math.max(0,(t[i]-a[i])/n);for(var l=["Manp","Ammu","Rati","Part","TPro","Equi","QPro","QRes"],r=0;r<8;r++)$("#calcTargetValueTool_Result_"+l[r]+"_value").html(p(e[r]));return e}function ft(e){nt("Timetable"===(0<arguments.length&&void 0!==e?e:G("TabName"))?"Timetable":"Anytime")}function yt(e){"PerHour"===(0<arguments.length&&void 0!==e?e:G("HourlyOrTotal"))?(H("HourlyOrTotal","PerHour"),document.getElementById("Display_PerHour").checked=!0):(H("HourlyOrTotal","Total"),document.getElementById("Display_Total").checked=!0)}function St(e){var t=0<arguments.length&&void 0!==e?e:G("TabAnytimeCustom");"noStorage"!==t&&(new Re).applySavedCustom(t)}function Pt(e){var t=0<arguments.length&&void 0!==e?e:G("TabTimetableCustom");"noStorage"!==t&&(new Ae).applySavedCustom(t)}function Mt(e){var t=0<arguments.length&&void 0!==e?e:G("GreatSuccessRate");"noStorage"!==t&&K(t)}function Ct(e){var t=0<arguments.length&&void 0!==e?e:G("Is_GreatSuccessRateUP");"noStorage"!==t&&ie(t,!1)}function wt(e){var t=0<arguments.length&&void 0!==e?e:G("ChapterLimit");"noStorage"!==t&&Te(t)}function Vt(e){var t=0<arguments.length&&void 0!==e?e:G("ContractWeight");"noStorage"!==t&&ce(t)}function xt(e){var t=0<arguments.length&&void 0!==e?e:G("TargetValue");"noStorage"!==t&&oe(t)}function $t(e){var t=0<arguments.length&&void 0!==e?e:G("Saved");"noStorage"!==t&&pt.setSaved(t)}function Rt(e,t,a){var n=0<arguments.length&&void 0!==e?e:G("CalcTargetValueTool_Target"),i=1<arguments.length&&void 0!==t?t:G("CalcTargetValueTool_Current"),l=2<arguments.length&&void 0!==a?a:G("CalcTargetValueTool_ExecutionTimes");"noStorage"!==n&&Pe(n),"noStorage"!==i&&Ce(i),"noStorage"!==l&&Ve(l)}pt._saved=[];function kt(e){if("clearCONSOLE"===e)return V="",void(L&&sessionStorage.removeItem("GF_Logistics_console"));if("clearSTORAGE"===e&&L)return sessionStorage.removeItem("GF_Logistics_console"),sessionStorage.removeItem("GF_Logistics_windowOnload"),localStorage.removeItem("GF_Logistics"),void localStorage.removeItem("GF_Logistics_v1.x.x");if("runERROR"!==e){var t=!0;if(0!==pt.getSaved().length&&(t=confirm(g.JS.config_alert)),!0===t){try{var a=JSON.parse(e),n=sha1(JSON.stringify(a.data))===a.SHA1}catch(e){}if(n)i=a.data,(l={version:"0.x.x"}).TabName=i[0],l.HourlyOrTotal=i[1],l.TabAnytimeCustom=i[2],l.TabTimetableCustom=i[3],l.GreatSuccessRate=i[4],l.Is_GreatSuccessRateUp=i[5],l.ChapterLimit=i[6],l.ContractWeight=i[7],l.TargetValue=i[8],l.Saved=B(i[9]),l.CalcTargetValueTool_Target=i[10],l.CalcTargetValueTool_Current=i[11],l.CalcTargetValueTool_Execution=i[12],It(l),st(),ot();else{try{e=LZString.decompressFromBase64(e);a=JSON.parse(e),n=sha1(JSON.stringify(a.data))===a.SHA1}catch(e){}n?(It(a.data),st(),ot()):alert(g.JS.Saved_alert)}var i,l}}else(0).getItem()}function It(e){ft(e.TabName),yt(e.HourlyOrTotal),St(e.TabAnytimeCustom),Pt(e.TabTimetableCustom),Mt(e.GreatSuccessRate),Ct(e.Is_GreatSuccessRateUp),wt(e.ChapterLimit),Vt(e.ContractWeight),xt(e.TargetValue),$t(e.Saved),Rt(e.CalcTargetValueTool_Target,e.CalcTargetValueTool_Current,e.CalcTargetValueTool_Execution),ze.setSelectedMissions([]),ze.print(),Je()}function At(e){return 13==e.which}function Et(){H("TabAnytimeCustom",(new Re).getSavedCustom())}function Lt(){H("TabTimetableCustom",(new Ae).getSavedCustom())}function Qt(){var e=be(),t=pe();switch(!0){case 0===e:alert(g.JS.tab_Timetable_alert1);break;case t<e:alert(g.JS.tab_Timetable_alert2);break;case e===t||-1!==J.indexOf(e):alert(g.JS.tab_Timetable_alert3);break;default:!function(e){J.push(e),d(J);var t=pe(),a=J.length,n=J.indexOf(e);if(n===a-1){var i=e/t*100+"%",l=U(e,i);l+=z(e,i,n),$("#Tab_Timetable_range").append(l)}else{var r=q(t,J);document.getElementById("Tab_Timetable_range").innerHTML=r}}(e)}(0===J.length?j:Z)(),ze.print(),Je(),Lt()}function Dt(){H("TargetValue",le())}function Ft(e){var t,a=h(e);"Mission"===a&&(a="Ranking"),a!==We.getLastSortBy()&&(t=a,Ze(We.getLastResultsPlan(),t))}$(function(){$("#lang-zh-CN").on("click",function(){at("zh-CN")}),$("#lang-zh-TW").on("click",function(){at("zh-TW")}),$("#lang-en").on("click",function(){at("en")})}),$(function(){$("#Config_export").on("click",function(){!function(){var e={};e.version=E;var t=Le();e.TabName=t.name,X()?e.HourlyOrTotal="PerHour":e.HourlyOrTotal="Total";var a=new Re;e.TabAnytimeCustom=a.getSavedCustom(),a=new Ae,e.TabTimetableCustom=a.getSavedCustom(),e.GreatSuccessRate=Y(),e.Is_GreatSuccessRateUp=ee(),e.ChapterLimit=de(),e.ContractWeight=_e(),e.TargetValue=le(),e.Saved=pt.getSaved(),e.CalcTargetValueTool_Target=Se(),e.CalcTargetValueTool_Current=Me(),e.CalcTargetValueTool_Execution=we();var n={data:e,SHA1:sha1(JSON.stringify(e))};n=JSON.stringify(n),n=LZString.compressToBase64(n);var i=document.getElementById("Config_importInput");i.value=n,i.select()}()}),$("#Config_importButton").on("click",function(){var e=$("#Config_importInput");kt(e.val()),e.val("")})}),$(function(){$("#neverShowAgain_description").on("click",function(){H("Description_Display",!1),document.getElementById("description").style.display="none"}),$("#neverShowAgain_localstorageWarning").on("click",function(){H("LocalstorageWarning_Display",!1),document.getElementById("localstorageWarning").style.display="none"})}),$(function(){$("#Tab_Anytime_name").on("click",function(){"Anytime"!==Le().name&&(H("TabName","Anytime"),nt("Anytime",!1),st(),ot(),ze.print(),Je())}),$("#Tab_Timetable_name").on("click",function(){"Timetable"!==Le().name&&(H("TabName","Timetable"),nt("Timetable",!1),st(),ot(),ze.print(),Je())})}),$(function(){$("input[id^=Display_]").on("click",function(){(X()?it:lt)()}),$("#Display_PerHour_text").on("keyup",function(e){At(e)&&(document.getElementById("Display_PerHour").checked=!0,it())}),$("#Display_Total_text").on("keyup",function(e){At(e)&&(document.getElementById("Display_Total").checked=!0,lt())})}),$(function(){var e=$("#GreatSuccessRate");e.on("input propertychange",function(){var e=Y();ie(ee(),!1),I(e+ae(e)),ze.print(),Je()}),e.blur(function(){H("GreatSuccessRate",Y())}),$("#GreatSuccessRateUp").on("click",function(){var e=ee();ie(e),I(ne(!0)),ze.print(),Je(),H("Is_GreatSuccessRateUP",e)})}),$(function(){$("#ChapterLimit").on("change",function(){ze.print(),Je(),H("ChapterLimit",de())})}),$(function(){var e=$("#Time_Anytime_hours"),t=$("#Time_Anytime_minutes"),a=$("#Tab_Anytime_MinimumIntervalTime_minutes");e.on("input propertychange",function(){4320<me()&&ge(4320),ze.print(),Je()}),e.blur(function(){Et()}),t.on("input propertychange",function(){4320<me()&&ge(4320),ze.print(),Je()}),t.blur(function(){Et()}),a.on("input propertychange",function(){ze.print(),Je()}),a.blur(function(){Et()})}),$(function(){var e=$("#Time_Timetable_hours"),t=$("#Time_Timetable_minutes");e.on("input propertychange",function(){W()}),e.blur(function(){Lt()}),t.on("input propertychange",function(){W()}),t.blur(function(){Lt()});var a=$("#Tab_Timetable_new_hours"),n=$("#Tab_Timetable_new_minutes");a.keyup(function(e){At(e)&&n.focus()}),n.keyup(function(e){At(e)&&(""!==a.val()&&a.focus(),Qt())}),$("#Tab_Timetable_AddNewTimePoint").on("click",function(){Qt()}),$("#Tab_Timetable_range").on("click","button[id^=Tab_Timetable_range_thumb_]",function(){!function(e){if(J.indexOf(e)===J.length-1){var t="Tab_Timetable_range_thumb_"+e,a="Tab_Timetable_range_tooltip_"+e,n=document.getElementById(t),i=document.getElementById(a),l=document.getElementById("Tab_Timetable_range");l.removeChild(n),l.removeChild(i),J.remove_First(e)}else J.remove_First(e),N(J);0===J.length&&j()}(parseFloat(h(this.id))),ze.print(),Je(),Lt()}),$("#tab_Timetable_deleteall").on("click",function(){!function(){if(0!==J.length){J=[];var e=O(pe());document.getElementById("Tab_Timetable_range").innerHTML=e,j()}}(),ze.print(),Je(),Lt()})}),$(function(){var e=$("#target");e.on("click","button[id^=setTarget_]",function(){!function(e){switch(e){case"HG":oe([130,130,130,130,0,0,0,0]);break;case"SMG":oe([430,430,130,230,0,0,0,0]);break;case"RF":oe([430,130,430,230,0,0,0,0]);break;case"AR":oe([130,430,430,130,0,0,0,0]);break;case"MG":oe([730,630,130,430,0,0,0,0]);break;case"SG":oe([800,200,800,400,0,0,0,0]);break;case"2221":oe([400,400,400,200,0,0,0,0]);break;case"Clear":oe(),ce()}}(h(this.id))}),$("#ContractWeight").change(function(){H("ContractWeight",_e())}),e.on("click","button[id^=Target_minus_]",function(){rt(this.id)}),e.on("click","button[id^=Target_plus_]",function(){rt(this.id)}),e.on("blur","#MT",function(){Dt()}),e.on("keyup","#MT",function(e){At(e)&&$("#AT").focus()}),e.on("blur","#AT",function(){Dt()}),e.on("keyup","#AT",function(e){At(e)&&$("#RT").focus()}),e.on("blur","#RT",function(){Dt()}),e.on("keyup","#RT",function(e){At(e)&&$("#PT").focus()}),e.on("blur","#PT",function(){Dt()}),e.on("keyup","#PT",function(e){At(e)&&$("#TT").focus()}),e.on("blur","#TT",function(){Dt()}),e.on("keyup","#TT",function(e){At(e)&&$("#ET").focus()}),e.on("blur","#ET",function(){Dt()}),e.on("keyup","#ET",function(e){At(e)&&$("#QPT").focus()}),e.on("blur","#QPT",function(){Dt()}),e.on("keyup","#QPT",function(e){At(e)&&$("#QRT").focus()}),e.on("blur","#QRT",function(){Dt()})}),$(function(){$("#start_ranking").on("click",function(){gt()}),$("#clear_ranking").on("click",function(){st(),ot()})}),$(function(){var e=$("#Plan_Table");e.on("click","tr[id^=print_result_plan_tr_]",function(){Ke(parseInt(h(this.id)))}),e.on("keyup","tr[id^=print_result_plan_tr_]",function(e){At(e)&&Ke(parseInt(h(this.id)))}),e.on("click","th[id^=resultPlan_]",function(){Ft(this.id)}),e.on("keyup","th[id^=resultPlan_]",function(e){At(e)&&Ft(this.id)})}),$(function(){var e=$("#FineTuning");e.on("click","button[id^=FineTuning_minus_]",function(){ht(-1,h(this.id))}),e.on("click","button[id^=FineTuning_plus_]",function(){ht(1,h(this.id))})}),$(function(){var e=$("#Saved_heading");e.on("keyup",function(e){At(e)&&("false"===$("#Saved_heading").attr("aria-expanded")?($("#MissionTable_panel").collapse("hide"),$("#Saved").collapse("show")):$("#Saved").collapse("hide"))}),e.on("click",function(){"false"===$("#Saved_heading").attr("aria-expanded")?($("#MissionTable_panel").collapse("hide"),$("#Saved").collapse("show")):$("#Saved").collapse("hide")}),$("#importSaved_importButton").on("click",function(){var e=$("#importSaved_input"),t=e.val();pt.import(t),e.val("")});var t=$("#Saved_Body");t.on("click","button[id^=SavedTable_apply_]",function(){pt.apply(parseInt(h(this.id)))}),t.on("keydown","input[id^=SavedTable_name_]",function(e){if(At(e)){$("#"+this.id).attr("readOnly",!0);var t=h(this.id);this.value!==pt.getSaved()[t].name&&pt.rename(this.value,t)}}),t.on("blur","input[id^=SavedTable_name_]",function(){$("#"+this.id).attr("readOnly",!0);var e=h(this.id);this.value!==pt.getSaved()[e].name&&pt.rename(this.value,e)}),t.on("click","button[id^=SavedTable_rename_]",function(){var e=parseInt(h(this.id)),t=$("#SavedTable_name_"+e);t.attr("readOnly",!1),t.focus(),t.select()}),t.on("click","button[id^=SavedTable_up_]",function(){pt.upThisRow(parseInt(h(this.id)))}),t.on("click","button[id^=SavedTable_down_]",function(){pt.downThisRow(parseInt(h(this.id)))}),t.on("click","button[id^=SavedTable_export_]",function(){pt.export(parseInt(h(this.id)))}),t.on("click","button[id^=SavedTable_delete_]",function(){pt.deleteThisRow(parseInt(h(this.id)))})}),$(function(){var e=$("#MissionTable_heading"),t=$("#MissionTable_panel");e.on("keyup",function(e){At(e)&&("false"===t.attr("aria-expanded")?(t.collapse("show"),$("#Saved").collapse("hide")):t.collapse("hide"))}),e.on("click",function(){"false"===t.attr("aria-expanded")?(t.collapse("show"),$("#Saved").collapse("hide")):t.collapse("hide")}),$("th[id^=MissionTable_head_]").on("click",function(){ze.print(h(this.id))}),$("th[id^=MissionTable_head_]").on("keyup",function(e){At(e)&&ze.print(h(this.id))}),$("#MissionTable_tbody").on("click","tr[id^=MissionTable_]",function(){et(parseInt(h(this.id)))}),$("#MissionTable_tbody").on("keyup","tr[id^=MissionTable_]",function(e){At(e)&&et(parseInt(h(this.id)))})}),$(function(){var e=$("#MissionTable_panel");e.on("shown.bs.collapse",function(){H("IsSavedPanelShow",!1)}),e.on("hidden.bs.collapse",function(){w()||(document.getElementById("MissionTable_panel").style.transition="")}),$("#Saved").on("shown.bs.collapse",function(){H("IsSavedPanelShow",!0),w()||(document.getElementById("Saved").style.transition="")})}),$(function(){$("#savePlan").on("click",function(){pt.saveThisPlan()}),$("#Capture").on("click",function(){html2canvas(document.getElementById("PlanDetails"),{logging:!1,scale:1}).then(function(e){var t=document.createElement("a");t.href=e.toDataURL(),t.download="Capture.png",document.body.appendChild(t),t.click(),document.body.removeChild(t)})}),$("#PlanDetails_InputStartTime").on("input propertychange",function(){if(0!==ze.getSelectedMissions(!1).length){var e=ze.getSelectedMissionsDetails(),t=Le().getTotalTime(!1);Be.printChart(e,t,fe())}}),$("#PlanDetails_InputExecutionTimes").on("input propertychange",function(){if(Be.printExecutionTimes(ye()),0!==ze.getSelectedMissions(!1).length){var e=ze.getSelectedMissionsDetails(),t=Le(),a=t.getTotalTime(!1),n=ye();Be.printMissionsTotal(e,a,n,t.name)}})}),$(function(){$("#calcTargetValueTool_clear").on("click",function(){!function(){Pe(),Ce(),Ve();for(var e=["Manp","Ammu","Rati","Part","TPro","Equi","QPro","QRes"],t=0;t<8;t++)$("#calcTargetValueTool_Result_"+e[t]+"_value").html("")}()}),$("#calcTargetValueTool_startCalc").on("click",function(){bt()}),$("#calcTargetValueTool_apply").on("click",function(){!function(){var e=bt();if(X())for(var t=Le().getTotalTime()/60,a=0;a<8;a++)e[a]/=t;oe(e)}()}),$("input[id^=calcTargetValueTool_Target_]").on("blur",function(){H("CalcTargetValueTool_Target",Se())}),$("input[id^=calcTargetValueTool_Current_]").on("blur",function(){H("CalcTargetValueTool_Current",Me())}),$("#calcTargetValueTool_InputExecutionTimes").on("blur",function(){H("CalcTargetValueTool_ExecutionTimes",we())}),$("#calcTargetValueTool_Target_Manp").on("keyup",function(e){At(e)&&$("#calcTargetValueTool_Target_Ammu").focus()}),$("#calcTargetValueTool_Target_Ammu").on("keyup",function(e){At(e)&&$("#calcTargetValueTool_Target_Rati").focus()}),$("#calcTargetValueTool_Target_Rati").on("keyup",function(e){At(e)&&$("#calcTargetValueTool_Target_Part").focus()}),$("#calcTargetValueTool_Target_Part").on("keyup",function(e){At(e)&&$("#calcTargetValueTool_Target_TPro").focus()}),$("#calcTargetValueTool_Target_TPro").on("keyup",function(e){At(e)&&$("#calcTargetValueTool_Target_Equi").focus()}),$("#calcTargetValueTool_Target_Equi").on("keyup",function(e){At(e)&&$("#calcTargetValueTool_Target_QPro").focus()}),$("#calcTargetValueTool_Target_QPro").on("keyup",function(e){At(e)&&$("#calcTargetValueTool_Target_QRes").focus()}),$("#calcTargetValueTool_Target_QRes").on("keyup",function(e){At(e)&&$("#calcTargetValueTool_Current_Manp").focus()}),$("#calcTargetValueTool_Current_Manp").on("keyup",function(e){At(e)&&$("#calcTargetValueTool_Current_Ammu").focus()}),$("#calcTargetValueTool_Current_Ammu").on("keyup",function(e){At(e)&&$("#calcTargetValueTool_Current_Rati").focus()}),$("#calcTargetValueTool_Current_Rati").on("keyup",function(e){At(e)&&$("#calcTargetValueTool_Current_Part").focus()}),$("#calcTargetValueTool_Current_Part").on("keyup",function(e){At(e)&&$("#calcTargetValueTool_Current_TPro").focus()}),$("#calcTargetValueTool_Current_TPro").on("keyup",function(e){At(e)&&$("#calcTargetValueTool_Current_Equi").focus()}),$("#calcTargetValueTool_Current_Equi").on("keyup",function(e){At(e)&&$("#calcTargetValueTool_Current_QPro").focus()}),$("#calcTargetValueTool_Current_QPro").on("keyup",function(e){At(e)&&$("#calcTargetValueTool_Current_QRes").focus()}),$("#calcTargetValueTool_Current_QRes").on("keyup",function(e){At(e)&&$("#calcTargetValueTool_InputExecutionTimes").focus()})}),$(function(){$("#debug").on("click",function(){$("#Config_importInput").val(V)})});
//# sourceMappingURL=GFLGSTS_0223_v1_0_1.min.js.map