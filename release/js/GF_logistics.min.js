/**
 * [GF_logistics]{@link https://github.com/CHANTXU64/Girls-Frontline}
 *
 * @namespace GF_logistics
 * @author ChantXu64 [chantxu@outlook.com]
 * @copyright ChantXu64
 * @license MIT
 */
 
"use strict";function t(t,e){var n=t.lastIndexOf("_");return void 0===e?t.slice(n+1):t.slice(n+1,e)}function e(t){return t>100?Math.round(t):t>10?Math.round(10*t)/10:Math.round(100*t)/100}function n(t){var e=parseInt(t/60),n=t%60;return(n+"").length<2&&(n="0"+n),e+":"+n}function a(t){return n(t%1440)}function i(t){return!!(""===t||isNaN(t)||t<0||"Infinity"===t)}function l(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=void 0;return n=i(t.val())?0:parseFloat(t.val()),e&&t.val(n),n}Array.prototype.remove=function(t){for(var e=0;e<this.length;)this[e]===t?this.splice(e,1):e++},Array.prototype.remove_First=function(t){for(var e=0;e<this.length;){if(this[e]===t){this.splice(e,1);break}e++}};var r=["15","15","15","15","15","15","15","15","15","15","15","15","15","15","15","15 / 16","15 / 16","16","16","16 / 17","17","17 / 18","17 / 18","17 / 18","18 / 19","18 / 19","19","19","19 / 20","20","20 / 21","20 / 21","20 / 21","21 / 22","21 / 22","22","22","22 / 23","23","23 / 24","23 / 24","23 / 24","24 / 25","24 / 25","25","25","25 / 26","26","26 / 27","26 / 27","26 / 27","27 / 28","27 / 28","28","28","28 / 29","29","29 / 30","29 / 30","29 / 30","30 / 31","30 / 31","31","31","31 / 21","32","32 / 33","32 / 33","32","31"];function o(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=$("#GreatSuccessRate"),n=e.val();return n=i(n)||n<15?15:n>69?69:Math.round(n),t&&e.val(n),n}function s(t){$("#GreatSuccessRate").val(t),wt(_()),H("GreatSuccessRate",t)}function u(){return!!document.getElementById("GreatSuccessRateUp").checked}function d(t){return u()?parseInt(r[t].substr(0,2)):0}function _(){var t=o(arguments.length>0&&void 0!==arguments[0]&&arguments[0]);return t+d(t)}function c(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=document.getElementById("GreatSuccessRateUp"),a=document.getElementById("Display_UPRate");if(!1===t)n.checked=!1,a.innerHTML="";else{n.checked=!0;var i=o(e);a.innerHTML="+"+r[i]}wt(_()),H("is_GreatSuccessRateUP",t)}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[$("#MT"),$("#AT"),$("#RT"),$("#PT"),$("#TT"),$("#ET"),$("#QPT"),$("#QRT")],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Array.isArray(t)?function(t,e){for(var n=[],a=0;a<t.length;a++)n.push(l(t[a],e));return n}(t,e):function(t,e){return l(t,e)}(t,e)}function T(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,0,0,0,0,0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[$("#MT"),$("#AT"),$("#RT"),$("#PT"),$("#TT"),$("#ET"),$("#QPT"),$("#QRT")];Array.isArray(t)?function(t,e){for(var n=0;n<t.length;n++)m(t[n],e[n])}(t,e):m(t,e),H("TargetValue",h())}function m(t,e){t<0?e.val(0):e.val(Math.round(100*t)/100)}function b(){return parseInt($("#ContractWeight").val())}function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;$("#ContractWeight").val(t);var e=b();document.getElementById("ContractWeight_range").style.right=100-e+"%",document.getElementById("ContractWeight_thumb").style.left=e+"%",H("ContractWeight",e)}function p(){return parseInt($("#ChapterLimit").val())}function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;$("#ChapterLimit").val(t),null===$("#ChapterLimit").val()&&$("#ChapterLimit").val(12),H("SelectChapter",p())}function f(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return 60*function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return l($("#Time_Anytime_hours"),t)}(t)+function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return l($("#Time_Anytime_minutes"),t)}(t)}function y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:960,e=t%60;!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16;$("#Time_Anytime_hours").val(t)}(parseInt(t/60)),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;$("#Time_Anytime_minutes").val(t)}(e)}function S(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return l($("#Tab_Anytime_MinimumIntervalTime_minutes"),t)}function P(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return 60*function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return l($("#Time_Timetable_hours"),t)}(t)+function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return l($("#Time_Timetable_minutes"),t)}(t)}function M(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300;(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(document.getElementById("Tab_Timetable_range_tooltip_0_value").innerHTML=n(t));var e=t%60;!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;$("#Time_Timetable_hours").val(t)}(parseInt(t/60)),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;$("#Time_Timetable_minutes").val(t)}(e)}function x(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return 60*function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=l($("#Tab_Timetable_new_hours"),t);return t&&$("#Tab_Timetable_new_hours").val(""),e}(t)+function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=l($("#Tab_Timetable_new_minutes"),t);return t&&$("#Tab_Timetable_new_minutes").val(""),e}(t)}function A(){var t=$("#PlanDetails_InputStartTime").val(),e=parseFloat(t.substr(0,2));if(isNaN(e))return 0;var n=parseFloat(t.substr(3,2));return isNaN(n)&&(n=0),60*e+n}function w(t){var e=a(t);2!==e.indexOf(":")&&(e="0"+e),$("#PlanDetails_InputStartTime").val(e)}function k(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=$("#PlanDetails_InputExecutionTimes"),n=e.val();return n=i(n)||n<1?1:n>999?999:Math.round(n),t&&e.val(n),n}function I(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var C,R=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;I(this,t),this.start=e,this.end=n};function E(t){var e=new Array(t.length),n=0;for(e[n++]=new R(0,t.length-1);n;){var a=e[--n];if(!(a.start>=a.end)){for(var i=t[a.end],l=a.start,r=a.end-1;l<r;){for(;t[l]>i&&l<r;)l++;for(;t[r]<=i&&l<r;)r--;var o=[t[r],t[l]];t[l]=o[0],t[r]=o[1]}if(t[l]<=t[a.end]){var s=[t[a.end],t[l]];t[l]=s[0],t[a.end]=s[1]}else l++;e[n++]=new R(a.start,l-1),e[n++]=new R(l+1,a.end)}}}function L(t,e){var n=new Array(t.length),a=0;for(n[a++]=new R(0,t.length-1);a;){var i=n[--a];if(!(i.start>=i.end)){for(var l=t[i.end][e],r=i.start,o=i.end-1;r<o;){for(;t[r][e]>l&&r<o;)r++;for(;t[o][e]<=l&&r<o;)o--;var s=[t[o],t[r]];t[r]=s[0],t[o]=s[1]}if(t[r][e]<=t[i.end][e]){var u=[t[i.end],t[r]];t[r]=u[0],t[i.end]=u[1]}else r++;n[a++]=new R(i.start,r-1),n[a++]=new R(r+1,i.end)}}}function Q(t,e){var n=new Array(t.length),a=0;for(n[a++]=new R(0,t.length-1);a;){var i=n[--a];if(!(i.start>=i.end)){for(var l=t[i.end][e],r=i.start,o=i.end-1;r<o;){for(;t[r][e]<l&&r<o;)r++;for(;t[o][e]>=l&&r<o;)o--;var s=[t[o],t[r]];t[r]=s[0],t[o]=s[1]}if(t[r][e]>=t[i.end][e]){var u=[t[i.end],t[r]];t[r]=u[0],t[i.end]=u[1]}else r++;n[a++]=new R(i.start,r-1),n[a++]=new R(r+1,i.end)}}}var B,D={"zh-CN":{lang:"zh-Hans",title:"少女前线-后勤组合排序器",HTML:{header:"后勤组合排序器 ",Config_text:"全局数据",description_text:"计算结果只和资源（或契约）之间的比例有关。计算结果为均值。",neverShowAgain_description:"[&times;]<u>不再显示</u>",localstorageDoesNotWork:"因某些原因，Web存储无法工作，需要手动导出配置",localstorageWarning_text:"网页使用Web存储，清除浏览器缓存会导致数据清除，请定期手动导出并保存你的数据。",neverShowAgain_localstorageWarning:"[&times;]<u>不再显示</u>",setting:"设置",Tab_Anytime_name:"随时能收后勤",Tab_Timetable_name:"时间计划表",tab_Anytime_time:"后勤总时长",tab_Anytime_hour:"小时",tab_Anytime_minute:"分钟",tab_Anytime_MinimumIntervalTime:"最短间隔时间",tab_Anytime_MinimumIntervalTime_minute:"分钟",tab_Timetable_time:"后勤总时长",tab_Timetable_hour:"小时",tab_Timetable_minute:"分钟",tab_Timetable_addtimeh5:"新添加一个收取后勤时间点:",tab_Timetable_new_hour:"小时",tab_Timetable_new_minute:"分钟",h4GreatSuccessRate:"后勤队伍平均大成功概率",GreatSuccessRateUp_text:"后勤大成功UP",h4ChapterLimit:"关卡解锁",chapter6:"第六战役",chapter7:"第七战役",chapter8:"第八战役",chapter9:"第九战役",chapter10:"第十战役",chapter11:"第十一战役",chapter12:"第十二战役",Display_PerHour_text:"以每小时显示",Display_Total_text:"以总计显示",ContractWeight_notImportant:"契约不重要",ContractWeight_Important:"契约重要",start_sorting:"开始排序",clear_sorting:"清除排序结果",result:"排序结果",Manp:"人力",Ammu:"弹药",Rati:"口粮",Part:"零件",TPro:"人形",Equi:"装备",QPro:"快建",QRes:"快修",setTarget_HG:"手枪HG",setTarget_SMG:"冲锋枪SMG",setTarget_RF:"步枪RF",setTarget_AR:"突击步枪AR",setTarget_MG:"机枪MG",setTarget_SG:"霰弹枪SG",setTarget_2221:"均衡",setTarget_Clear:"清零",MissionTableTitle:"关卡",MissionTable_head_Mission:"关卡",MissionTable_head_Manp:"人力",MissionTable_head_Ammu:"弹药",MissionTable_head_Rati:"口粮",MissionTable_head_Part:"零件",MissionTable_head_TPro:"人形",MissionTable_head_Equi:"装备",MissionTable_head_QPro:"快建",MissionTable_head_QRes:"快修",MissionTable_head_Time:"时间",PlanDetailsTitle:"方案详情",PlanDetails_Mission:"关卡",PlanDetails_Manp:"人力",PlanDetails_Ammu:"弹药",PlanDetails_Rati:"口粮",PlanDetails_Part:"零件",PlanDetails_TPro:"人形",PlanDetails_Equi:"装备",PlanDetails_QPro:"快建",PlanDetails_QRes:"快修",PlanDetails_Time:"时间",savePlan:"保存方案",Capture:"捕获",PlanDetails_InputStartTime_label:"后勤开始时间",PlanDetails_InputExecutionTimes_label:"后勤执行次数",Saved_Title:"已保存的",NoSaved:"空",start_sorting_html:'点击 <span style="color:#165399">开始排序</span> 按钮，排序前十六的结果将在这里显示',permanentAddress:"永久地址: "},HTMLJS:{placeholder:{Config_importInput:"要导入的数据",Time_Anytime_hours:"总时长小时数",Time_Anytime_minutes:"总时长分钟数",Tab_Anytime_MinimumIntervalTime_minutes:"最小时间间隔分钟数",Time_Timetable_hours:"总时长小时数",Time_Timetable_minutes:"总时长分钟数",Tab_Timetable_new_hours:"新时间点小时数",Tab_Timetable_new_minutes:"新时间点分钟数",GreatSuccessRate:"大成功基础概率",MT:"人力需求量",AT:"弹药需求量",RT:"口粮需求量",PT:"零件需求量",TT:"人形需求量",ET:"装备需求量",QPT:"快建需求量",QRT:"快修需求量",importSaved_input:"要导入的数据",PlanDetails_InputExecutionTimes:"执行次数"},title:{Config_importButton:"导入全局数据",Config_export:"导出全局数据",tab_Timetable_deleteall:"删除全部时间点",Tab_Timetable_AddNewTimePoint:"添加一个收取后勤时间点",ChapterLimit:"最大已解锁的战役章节",ContractWeight:"契约权重",Target_minus_100_MT:"人力需求量减少100",Target_minus_10_MT:"人力需求量减少10",Target_plus_10_MT:"人力需求量增加10",Target_plus_100_MT:"人力需求量增加100",Target_minus_100_AT:"弹药需求量减少100",Target_minus_10_AT:"弹药需求量减少10",Target_plus_10_AT:"弹药需求量增加10",Target_plus_100_AT:"弹药需求量增加100",Target_minus_100_RT:"口粮需求量减少100",Target_minus_10_RT:"口粮需求量减少10",Target_plus_10_RT:"口粮需求量增加10",Target_plus_100_RT:"口粮需求量增加100",Target_minus_100_PT:"零件需求量减少100",Target_minus_10_PT:"零件需求量减少10",Target_plus_10_PT:"零件需求量增加10",Target_plus_100_PT:"零件需求量增加100",Target_minus_1_TT:"人形需求量减少1","Target_minus_0.1_TT":"人形需求量减少0.1","Target_plus_0.1_TT":"人形需求量增加0.1",Target_plus_1_TT:"人形需求量增加1",Target_minus_1_ET:"装备需求量减少1","Target_minus_0.1_ET":"装备需求量减少0.1","Target_plus_0.1_ET":"装备需求量增加0.1",Target_plus_1_ET:"装备需求量增加1",Target_minus_1_QPT:"快建需求量减少1","Target_minus_0.1_QPT":"快建需求量减少0.1","Target_plus_0.1_QPT":"快建需求量增加0.1",Target_plus_1_QPT:"快建需求量增加1",Target_minus_1_QRT:"快修需求量减少1","Target_minus_0.1_QRT":"快修需求量减少0.1","Target_plus_0.1_QRT":"快修需求量增加0.1",Target_plus_1_QRT:"快修需求量增加1",importSaved_importButton:"导入数据"},Demand_hour:"平均每小时需求量",Demand_total:"总需求量",Timetable_deletePoint:"删除这个时间点",SavedTable_apply:"应用方案",SavedTable_name:"方案名称",SavedTable_rename:"重命名方案",SavedTable_up:"往上移动",SavedTable_down:"往下移动",SavedTable_export:"导出方案",SavedTable_delete:"删除方案",FineTuning_minus:"减小需求量",FineTuning_plus:"增大需求量"},JS:{Manp:"人力",Ammu:"弹药",Rati:"口粮",Part:"零件",TPro:"人形",Equi:"装备",QPro:"快建",QRes:"快修",FineTuningTool:"微调工具",TargetValue0_alert:"需求不能全为0！",tab_Anytime_alert1:"总时长不能为0！",tab_Timetable_alert1:"不需要在后勤开始点再添加收取时间点",tab_Timetable_alert2:"添加的收取时间点不能超过最大时限",tab_Timetable_alert3:"已经添加过这个收取时间点",tab_Timetable_alert4:"总时长不能为0！",Mission:"关卡",MinIntervalTime:"最短间隔",NoPlan:"没有合适的方案",NoMission:"没有可用的关卡",Time:"时间",PlanDetails_calculateMethod:"计算方式",total_time:"总时长",total_greatSuccessRate:"大成功总概率",PerHour:"平均/h",Total:"总计",ExecutionTimes:"执行次数",plzInputPlanName:"请输入方案名称",planDefaultName:"自定义",deleteSavedWarning_1:"是否要删除这个名为",deleteSavedWarning_2:"的配置？",Saved_alert:"导入的数据有问题！",Saved_alert2:"保存的数量过多，不能再添加",config_alert:"这将会覆盖现有所有的数据，是否要继续？"}},"zh-TW":{lang:"zh-Hant",title:"少女前線-後勤組合排序器",HTML:{header:"後勤組合排序器 ",Config_text:"全局數據",description_text:"計算結果只和資源（或契約）之間的比例有關。計算結果為期望值。",neverShowAgain_description:"[&times;]<u>不再顯示</u>",localstorageDoesNotWork:"因某些原因，Web存儲無法工作，需要手動導出配置",localstorageWarning_text:"網頁使用Web存儲，清除瀏覽器緩存會導致數據清除，請定期手動導出並保存你的數據。",neverShowAgain_localstorageWarning:"[&times;]<u>不再顯示</u>",setting:"設置",Tab_Anytime_name:"隨時能收後勤",Tab_Timetable_name:"時間計劃表",tab_Anytime_time:"後勤總時長",tab_Anytime_hour:"小時",tab_Anytime_minute:"分鐘",tab_Anytime_MinimumIntervalTime:"最短間隔時間",tab_Anytime_MinimumIntervalTime_minute:"分鐘",tab_Timetable_time:"後勤總時長",tab_Timetable_hour:"小時",tab_Timetable_minute:"分鐘",tab_Timetable_addtimeh5:"新添加一個收取後勤時間點:",tab_Timetable_new_hour:"小時",tab_Timetable_new_minute:"分鐘",h4GreatSuccessRate:"後勤隊伍平均大成功概率",GreatSuccessRateUp_text:"後勤大成功UP",h4ChapterLimit:"關卡解鎖",chapter6:"第六戰役",chapter7:"第七戰役",chapter8:"第八戰役",chapter9:"第九戰役",chapter10:"第十戰役",chapter11:"第十一戰役",chapter12:"第十二戰役",Display_PerHour_text:"以每小時顯示",Display_Total_text:"以總計顯示",ContractWeight_notImportant:"契約不重要",ContractWeight_Important:"契約重要",start_sorting:"開始排序",clear_sorting:"清除排序結果",result:"排序結果",Manp:"人力",Ammu:"彈藥",Rati:"口糧",Part:"零件",TPro:"人形",Equi:"裝備",QPro:"快建",QRes:"快修",setTarget_HG:"手槍HG",setTarget_SMG:"衝鋒槍SMG",setTarget_RF:"步槍RF",setTarget_AR:"突擊步槍AR",setTarget_MG:"機槍MG",setTarget_SG:"霰彈槍SG",setTarget_2221:"均衡",setTarget_Clear:"清零",MissionTableTitle:"關卡",MissionTable_head_Mission:"關卡",MissionTable_head_Manp:"人力",MissionTable_head_Ammu:"彈藥",MissionTable_head_Rati:"口糧",MissionTable_head_Part:"零件",MissionTable_head_TPro:"人形",MissionTable_head_Equi:"裝備",MissionTable_head_QPro:"快建",MissionTable_head_QRes:"快修",MissionTable_head_Time:"時間",PlanDetailsTitle:"方案詳情",PlanDetails_Mission:"關卡",PlanDetails_Manp:"人力",PlanDetails_Ammu:"彈藥",PlanDetails_Rati:"口糧",PlanDetails_Part:"零件",PlanDetails_TPro:"人形",PlanDetails_Equi:"裝備",PlanDetails_QPro:"快建",PlanDetails_QRes:"快修",PlanDetails_Time:"時間",savePlan:"保存方案",Capture:"捕獲",PlanDetails_InputStartTime_label:"後勤開始時間",PlanDetails_InputExecutionTimes_label:"執行次數",Saved_Title:"已保存的",NoSaved:"空",start_sorting_html:'點擊 <span style="color:#165399">開始排序</span> 按鈕，排序前十六的結果將在這裡顯示',permanentAddress:"永久地址: "},HTMLJS:{placeholder:{Config_importInput:"要導入的數據",Time_Anytime_hours:"總時長小時數",Time_Anytime_minutes:"總時長分鐘數",Tab_Anytime_MinimumIntervalTime_minutes:"最小時間間隔分鐘數",Time_Timetable_hours:"總時長小時數",Time_Timetable_minutes:"總時長分鐘數",Tab_Timetable_new_hours:"新時間點小時數",Tab_Timetable_new_minutes:"新時間點分鐘數",GreatSuccessRate:"大成功基礎概率",MT:"人力需求量",AT:"彈藥需求量",RT:"口糧需求量",PT:"零件需求量",TT:"人形需求量",ET:"裝備需求量",QPT:"快建需求量",QRT:"快修需求量",importSaved_input:"要導入的數據",PlanDetails_InputExecutionTimes:"後勤執行次數"},title:{Config_importButton:"導入全局數據",Config_export:"導出全局數據",tab_Timetable_deleteall:"刪除全部時間點",Tab_Timetable_AddNewTimePoint:"添加一個收取後勤時間點",ChapterLimit:"最大已解鎖的戰役章節",ContractWeight:"契約權重",Target_minus_100_MT:"人力需求量減少100",Target_minus_10_MT:"人力需求量減少10",Target_plus_10_MT:"人力需求量增加10",Target_plus_100_MT:"人力需求量增加100",Target_minus_100_AT:"彈藥需求量減少100",Target_minus_10_AT:"彈藥需求量減少10",Target_plus_10_AT:"彈藥需求量增加10",Target_plus_100_AT:"彈藥需求量增加100",Target_minus_100_RT:"口糧需求量減少100",Target_minus_10_RT:"口糧需求量減少10",Target_plus_10_RT:"口糧需求量增加10",Target_plus_100_RT:"口糧需求量增加100",Target_minus_100_PT:"零件需求量減少100",Target_minus_10_PT:"零件需求量減少10",Target_plus_10_PT:"零件需求量增加10",Target_plus_100_PT:"零件需求量增加100",Target_minus_1_TT:"人形需求量減少1","Target_minus_0.1_TT":"人形需求量減少0.1","Target_plus_0.1_TT":"人形需求量增加0.1",Target_plus_1_TT:"人形需求量增加1",Target_minus_1_ET:"裝備需求量減少1","Target_minus_0.1_ET":"裝備需求量減少0.1","Target_plus_0.1_ET":"装备需求量增加0.1",Target_plus_1_ET:"装备需求量增加1",Target_minus_1_QPT:"快建需求量減少1","Target_minus_0.1_QPT":"快建需求量減少0.1","Target_plus_0.1_QPT":"快建需求量增加0.1",Target_plus_1_QPT:"快建需求量增加1",Target_minus_1_QRT:"快修需求量減少1","Target_minus_0.1_QRT":"快修需求量減少0.1","Target_plus_0.1_QRT":"快修需求量增加0.1",Target_plus_1_QRT:"快修需求量增加1",importSaved_importButton:"導入數據"},Demand_hour:"平均每小時需求量",Demand_total:"總需求量",Timetable_deletePoint:"刪除這個時間點",SavedTable_apply:"應用方案",SavedTable_name:"方案名稱",SavedTable_rename:"重命名方案",SavedTable_up:"往上移動",SavedTable_down:"往下移動",SavedTable_export:"導出方案",SavedTable_delete:"刪除方案",FineTuning_minus:"減小需求量",FineTuning_plus:"增大需求量"},JS:{Manp:"人力",Ammu:"彈藥",Rati:"口糧",Part:"零件",TPro:"人形",Equi:"裝備",QPro:"快建",QRes:"快修",FineTuningTool:"微調工具",TargetValue0_alert:"需求不能全為0！",tab_Anytime_alert1:"總時長不能為0！",tab_Timetable_alert1:"不需要在後勤開始點再添加收取時間點",tab_Timetable_alert2:"添加的收取時間點不能超過最大時限",tab_Timetable_alert3:"已經添加過這個收取時間點",tab_Timetable_alert4:"總時長不能為0！",Mission:"關卡",MinIntervalTime:"最短間隔",NoPlan:"沒有合適的方案",NoMission:"沒有可用的關卡",Time:"時間",PlanDetails_calculateMethod:"計算方式",total_time:"總時長",total_greatSuccessRate:"大成功總概率",PerHour:"平均/h",Total:"總計",ExecutionTimes:"執行次數",plzInputPlanName:"請輸入方案名稱",planDefaultName:"自定義",deleteSavedWarning_1:"是否要刪除這個名為",deleteSavedWarning_2:"的配置？",Saved_alert:"導入的數據有問題！",Saved_alert2:"保存的數量過多，不能再添加",config_alert:"這將會覆蓋現有所有的數據，是否要繼續？"}}};function J(){!0!==(B=function(){try{localStorage.setItem("test_Dlz3bH","KwNYPCpyH7yl2S1K");var t="KwNYPCpyH7yl2S1K"==localStorage.getItem("test_Dlz3bH");return localStorage.removeItem("test_Dlz3bH"),t}catch(t){}}())?(B=!1,document.getElementById("localstorageWarning").style.display="none",document.getElementById("neverShowAgain_description").style.display="none"):document.getElementById("localstorageDoesNotWork").style.display="none"}function H(t,e){if(B){var n=localStorage.getItem("GF_Logistics");null===(n=JSON.parse(n))&&(n={}),n[t]=e,n=JSON.stringify(n),localStorage.setItem("GF_Logistics",n)}}function V(t){if(B){var e=localStorage.getItem("GF_Logistics");if(null===e)return"noStorage";var n=(e=JSON.parse(e))[t];return void 0===n?"noStorage":n}return"noStorage"}function N(){!function(){!1===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:V("Description_Display"))&&(document.getElementById("description").style.display="none")}(),function(){!1===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:V("LocalstorageWarning_Display"))&&(document.getElementById("localstorageWarning").style.display="none")}(),F(),W(),G(),O(),z(),q(),U(),X(),j(),K(),function(){!0===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:V("IsSavedShow"))&&(0===ue.length?H("IsSavedShow",!1):(document.getElementById("MissionTable_panel").style.transition="none",document.getElementById("Saved").style.transition="none",$("#Saved").collapse("show"),$("#MissionTable_panel").collapse("hide")))}()}function F(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V("HTML_TAB");"Timetable"===t?(vt=!0,it(t)):(vt=!0,it("Anytime"))}function W(){if("PerHour"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:V("PerHourOrTotal")))H("PerHourOrTotal","PerHour"),Ft=60,document.getElementById("Display_PerHour").checked=!0;else{H("PerHourOrTotal","Total");var t=Wt();t.setTime(),Ft=t.TotalTime,document.getElementById("Display_Total").checked=!0}}function G(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V("TabAnytimeCustom");"noStorage"!==t&&(new Lt).ApplySaved_Custom(t)}function O(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V("TabTimetableCustom");"noStorage"!==t&&(new Qt).ApplySaved_Custom(t)}function z(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V("GreatSuccessRate");"noStorage"!==t&&s(t)}function q(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V("is_GreatSuccessRateUP");"noStorage"!==t&&c(t,!1)}function U(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V("SelectChapter");"noStorage"!==t&&v(t)}function X(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V("ContractWeight");"noStorage"!==t&&g(t)}function j(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V("TargetValue");"noStorage"!==t&&T(t)}function K(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V("SAVED");"noStorage"!==t&&function(t){for(;0!==ue.length;)_e(0,!1);for(var e=0;e<t.length;e++){if(md5(JSON.stringify(t[e].data))!==t[e].MD5)return!1;ue.push(t[e]),H("SAVED",ue),de(ue.length-1)}}(t)}function Y(t){var e=!0;if(0!==ue.length&&(e=confirm(C.JS.config_alert)),!0===e){try{var n=JSON.parse(t),a=sha1(JSON.stringify(n.data))===n.SHA1}catch(t){}var i;a?(F((i=n.data)[0]),W(i[1]),G(i[2]),O(i[3]),z(i[4]),q(i[5]),U(i[6]),X(i[7]),j(i[8]),K(i[9]),wt(_()),Yt=[],Zt(),te()):alert(C.JS.Saved_alert)}}function Z(){for(var t in document.documentElement.lang=C.lang,document.title=C.title,C.HTML)$("#"+t).html(C.HTML[t]);for(var e in gt(),mt(),C.HTMLJS.placeholder)document.getElementById(e).placeholder=C.HTMLJS.placeholder[e];for(var n in C.HTMLJS.title)document.getElementById(n).title=C.HTMLJS.title[n];$("button[id^=Tab_Timetable_range_thumb_]").attr("title",C.HTMLJS.Timetable_deletePoint),$("button[id^=SavedTable_apply_]").attr("title",C.HTMLJS.SavedTable_apply),$("input[id^=SavedTable_name_]").attr("placeholder",C.HTMLJS.SavedTable_name),$("button[id^=SavedTable_rename_]").attr("title",C.HTMLJS.SavedTable_rename),$("button[id^=SavedTable_up_]").attr("title",C.HTMLJS.SavedTable_up),$("button[id^=SavedTable_down_]").attr("title",C.HTMLJS.SavedTable_down),$("button[id^=SavedTable_export_]").attr("title",C.HTMLJS.SavedTable_export),$("button[id^=SavedTable_delete_]").attr("title",C.HTMLJS.SavedTable_delete),ee(),ne(),ae(),$("#PlanDetails_PerHour_title").html(C.JS.PerHour),$("#PlanDetails_Total_title").html(C.JS.Total),$("#PlanDetails_AnytimeMinIntervalTime").html(C.JS.MinIntervalTime),lt()?$("#Demand").html(C.HTMLJS.Demand_hour):$("#Demand").html(C.HTMLJS.Demand_total)}function tt(){$("button[id^=Target_plus_10_]").attr("style","display:none;"),$("button[id^=Target_plus_0]").attr("style","display:none;"),$("button[id^=Target_minus_10_]").attr("style","display:none;"),$("button[id^=Target_minus_0]").attr("style","display:none;")}function et(t){switch(t){case"zh-CN":H("lang","zh-CN"),C=D["zh-CN"];break;case"zh-TW":H("lang","zh-TW"),C=D["zh-TW"]}Z()}function nt(){for(var t=navigator.userAgent,e=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"),n=!1,a=0;a<e.length;a++)if(t.indexOf(e[a])>0){n=!0;break}return n}window.onload=function(){J(),function(){var t=V("lang");"noStorage"===t&&(t=navigator.language||navigator.userLanguage);if("zh"===t.substr(0,2))switch(t){case"zh-HK":case"zh-TW":case"zh-MO":C=D["zh-TW"],H("lang","zh-TW");break;default:C=D["zh-CN"],H("lang","zh-CN")}else C=D["zh-CN"],H("lang","zh-CN")}(),function(){var t="";t+='<button type="button" class="btn btn-default"id="setTarget_HG" style="margin-right: 5px; margin-bottom: 5px;"></button>',t+='<button type="button" class="btn btn-default"id="setTarget_SMG" style="margin-right: 5px; margin-bottom: 5px;"></button>',t+='<button type="button" class="btn btn-default"id="setTarget_RF" style="margin-right: 5px; margin-bottom: 5px;"></button>',t+='<button type="button" class="btn btn-default"id="setTarget_AR" style="margin-right: 5px; margin-bottom: 5px;"></button>',t+='<button type="button" class="btn btn-default"id="setTarget_MG" style="margin-right: 5px; margin-bottom: 5px;"></button>',t+='<button type="button" class="btn btn-default"id="setTarget_SG" style="margin-right: 5px; margin-bottom: 5px;"></button>',t+='<button type="button" class="btn btn-default"id="setTarget_2221" style="margin-right: 5px; margin-bottom: 5px;"></button>',t+='<button type="button" class="btn btn-danger"id="setTarget_Clear" style="margin-right: 5px; margin-bottom: 5px;"></button>',document.getElementById("setTargetButton").innerHTML=t,t="";for(var e=["Manp","Ammu","Rati","Part","TPro","Equi","QPro","QRes"],n=["MT","AT","RT","PT","TT","ET","QPT","QRT"],a=0;a<4;a++)t+='<div class="form-group input-group"style="margin-bottom: 10px;"><span class="input-group-addon"style="padding-right:10px;padding-left:10px;cursor:default;"',t+="id="+e[a]+">",t+='</span><div class="input-group-btn"><button class="btn btn-default"type="button"id="Target_minus_100_'+n[a]+'"style="padding-right:10px;padding-left:10px;border-radius:0;"tabindex=-1>',t+='<b>&minus;</b></button><button class="btn btn-default"type="button"id="Target_minus_10_'+n[a]+'"style="padding-right:10px;padding-left:10px;border-radius:0;"tabindex=-1>',t+='&minus;</button></div><input type="number" pattern="d*" min="0"class="form-control"id="',t+=n[a],t+='"value=0 onclick="this.select()"style="border-left-width:0"><div class="input-group-btn"><button class="btn btn-default"type="button"id="Target_plus_10_'+n[a]+'"style="padding-right:10px;padding-left:10px;"tabindex=-1>',t+='+</button><button class="btn btn-default"type="button"id="Target_plus_100_'+n[a]+'"style="padding-right:10px;padding-left:10px;"tabindex=-1>',t+="<b>&plus;</b></button></div></div>";for(a=4;a<8;a++)t+='<div class="form-group input-group"style="margin-bottom: 10px;"><span class="input-group-addon"style="padding-right:10px;padding-left:10px;cursor:default;"',t+="id="+e[a]+">",t+='</span><div class="input-group-btn"><button class="btn btn-default"id="Target_minus_1_'+n[a]+'"type="button"style="padding-right:10px;padding-left:10px;border-radius:0;"tabindex=-1>',t+='<b>&minus;</b></button><button class="btn btn-default"type="button"id="Target_minus_0.1_'+n[a]+'"style="padding-right:10px;padding-left:10px;border-radius:0;"tabindex=-1>',t+='&minus;</button></div><input type="number" pattern="d*" min="0" step="0.01" class="form-control"id="',t+=n[a],t+='"value=0 onclick="this.select()"style="border-left-width:0"><div class="input-group-btn"><button class="btn btn-default"type="button"id="Target_plus_0.1_'+n[a]+'"style="padding-right:10px;padding-left:10px;"tabindex=-1>',t+='+</button><button class="btn btn-default"type="button"id="Target_plus_1_'+n[a]+'"style="padding-right:10px;padding-left:10px;"tabindex=-1>',t+="<b>&plus;</b></button></div></div>";document.getElementById("setTargetInput").innerHTML=t}(),N(),wt(_(!0)),Zt(),ee(),ne(),ae(),ie(),Z(),nt()&&(document.getElementById("Saved").style.transition="none",document.getElementById("MissionTable_panel").style.transition="none","noStorage"===V("IsSavedShow")&&$("#MissionTable_panel").collapse("hide")),document.getElementById("setTargetInput").getBoundingClientRect().width<=260&&tt()},$(window).resize(function(){document.getElementById("setTargetInput").getBoundingClientRect().width<=260?tt():($("button[id^=Target_plus_10_]").attr("style","padding-right:10px;padding-left:10px;border-radius:0;"),$("button[id^=Target_plus_0]").attr("style","padding-right:10px;padding-left:10px;border-radius:0;"),$("button[id^=Target_minus_10_]").attr("style","padding-right:10px;padding-left:10px;border-radius:0;"),$("button[id^=Target_minus_0]").attr("style","padding-right:10px;padding-left:10px;border-radius:0;"))}),$(function(){$("[data-toggle='tooltip']").tooltip()});var at=void 0;function it(t){switch(t){case"Anytime":"Anytime"!==at&&void 0!==at||(vt=!1),$("[href=#Tab_Anytime]").tab("show");break;case"Timetable":"Timetable"!==at&&void 0!==at||(vt=!1),$("[href=#Tab_Timetable]").tab("show")}H("HTML_TAB",at=t)}function lt(){return!!document.getElementById("Display_PerHour").checked}function rt(){H("PerHourOrTotal","PerHour"),$("#Demand").html(C.HTMLJS.Demand_hour);var t=Wt();t.setTime(),Ft=60;for(var e=t.TotalTime,n=h(),a=0;a<8;a++)n[a]=Math.round(n[a]/e*6e3)/100;T(n),Zt();var i=document.getElementById("Plan_Table").innerHTML;""!==i&&i!==C.JS.NoPlan&&Ht(!1,Vt,Ft)}function ot(){H("PerHourOrTotal","Total"),$("#Demand").html(C.HTMLJS.Demand_total);var t=Wt();t.setTime(),Ft=t.TotalTime;for(var e=t.TotalTime,n=h(),a=0;a<8;a++)n[a]=Math.round(n[a]*e*100/60)/100;T(n),Zt();var i=document.getElementById("Plan_Table").innerHTML;""!==i&&i!==C.JS.NoPlan&&Ht(!1,Vt,Ft)}var st=[];function ut(t){st.push(t);var e=t/P()*100+"%";!function(t,e){var n='<button class="slider-button" id="Tab_Timetable_range_thumb_'+t+'"';n+='style="left:'+e+';" title="'+C.HTMLJS.Timetable_deletePoint+'">',n+='<span class="glyphicon glyphicon-remove-circle" style="font-size: 22px;"></span></button>',$("#Tab_Timetable_range").append(n)}(t,e),function(t,e){var a='<div id="Tab_Timetable_range_tooltip_'+t+'"';st.indexOf(t)%2==0?(a+='class="tooltip top custom-tooltip"',a+='style="left:'+e+'; top:-32px; margin-left: -15px; cursor: default;">'):(a+='class="tooltip bottom custom-tooltip"',a+='style="left:'+e+'; top:12px; margin-left: -15px; cursor: default;">');a+='<div class="tooltip-arrow"></div><div class="tooltip-inner">',a+=n(t)+"</div></div>",$("#Tab_Timetable_range").append(a)}(t,e)}function dt(t){st.remove_First(t);var e="Tab_Timetable_range_thumb_"+t,n="Tab_Timetable_range_tooltip_"+t,a=document.getElementById(e),i=document.getElementById(n),l=document.getElementById("Tab_Timetable_range");l.removeChild(a),l.removeChild(i),0===st.length&&ct()}function _t(){for(var t=st.length,e=0;e<t;e++)dt(st[0])}function ct(){$("#Time_Timetable_hours").removeAttr("disabled"),$("#Time_Timetable_minutes").removeAttr("disabled")}function ht(){$("#Time_Timetable_hours").attr("disabled","true"),$("#Time_Timetable_minutes").attr("disabled","true")}function Tt(e){var n=t(e),a=e.indexOf(n),i=e.slice(0,a-1),l=parseFloat(t(i));"m"===i.slice(7,8)&&(l*=-1),T(h($("#"+n),!1)+l,$("#"+n))}function mt(){$("#Time_Anytime_hours").removeAttr("disabled"),$("#Time_Anytime_minutes").removeAttr("disabled"),$("#Tab_Anytime_MinimumIntervalTime_minutes").removeAttr("disabled"),0===st.length&&($("#Time_Timetable_hours").removeAttr("disabled"),$("#Time_Timetable_minutes").removeAttr("disabled")),$("#tab_Timetable_deleteall").removeAttr("disabled"),$("button[id^=Tab_Timetable_range_thumb_]").removeAttr("disabled"),$("#Tab_Timetable_new_hours").removeAttr("disabled"),$("#Tab_Timetable_new_minutes").removeAttr("disabled"),$("#Tab_Timetable_AddNewTimePoint").removeAttr("disabled"),$("#GreatSuccessRate").removeAttr("disabled"),$("#GreatSuccessRateUp").removeAttr("disabled"),document.getElementById("GreatSuccessRateUp_text").style.cursor="pointer",document.getElementById("GreatSuccessRateUp_label").style.cursor="pointer",$("#ChapterLimit").removeAttr("disabled"),$("#ContractWeight").removeAttr("disabled"),document.getElementById("ContractWeight_thumb").style.backgroundColor="rgb(112, 166, 236)",$("button[id^=setTarget_]").removeAttr("disabled"),$("#MT").removeAttr("disabled"),$("#AT").removeAttr("disabled"),$("#RT").removeAttr("disabled"),$("#PT").removeAttr("disabled"),$("#TT").removeAttr("disabled"),$("#ET").removeAttr("disabled"),$("#QPT").removeAttr("disabled"),$("#QRT").removeAttr("disabled"),$("button[id^=Target_minus_]").removeAttr("disabled"),$("button[id^=Target_plus_]").removeAttr("disabled"),$("#start_sorting").removeAttr("disabled"),document.getElementById("start_sorting").style.display="",$("#clear_sorting").attr("disabled","true"),document.getElementById("clear_sorting").style.display="none"}function bt(t){"ascending"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"descending")?(Q(Vt,t),Ht("false"!==$("[href=#FineTuningTool]").attr("aria-expanded"),Vt,Ft)):(L(Vt,t),Ht("false"!==$("[href=#FineTuningTool]").attr("aria-expanded"),Vt,Ft))}function gt(){document.getElementById("start_sorting_html").style.display="",document.getElementById("Plan_Table").innerHTML=""}function pt(t){return 13==t.which}$(function(){$("#lang-zh-CN").on("click",function(){et("zh-CN")}),$("#lang-zh-TW").on("click",function(){et("zh-TW")})}),$(function(){$("#neverShowAgain_description").on("click",function(){H("Description_Display",!1),document.getElementById("description").style.display="none"}),$("#neverShowAgain_localstorageWarning").on("click",function(){H("LocalstorageWarning_Display",!1),document.getElementById("localstorageWarning").style.display="none"})});var vt=!1;function ft(){H("TabAnytimeCustom",(new Lt).Saved_Custom())}function yt(){var t=P();t>4320&&(t=4320,M(4320)),M(t),lt()||(Ft=t),Zt(),te()}function St(){H("TabTimetableCustom",(new Qt).Saved_Custom())}function Pt(){var t=x(),e=P();switch(!0){case 0===t:alert(C.JS.tab_Timetable_alert1);break;case t>e:alert(C.JS.tab_Timetable_alert2);break;case t===e||-1!==st.indexOf(t):alert(C.JS.tab_Timetable_alert3);break;default:ut(t)}0===st.length?ct():ht(),Zt(),te(),St()}function $t(){H("TargetValue",h())}function Mt(e){var n=parseInt(t(e.id));if("success"!=e.className){for(var a=0;a<Vt.length;a++)document.getElementById("print_result_plan_tr_"+a).className="";e.className="success",function(t){for(var e=Kt.length,n=Kt,a=0;a<e;a++)document.getElementById("MissionTable_"+a).className="";for(var i=[],a=0;a<4;a++)i.push(Vt[t][a+1]);Yt=i,te();for(var a=0;a<4;a++)for(var l=0;l<e;l++)if(n[l][0]===i[a]){document.getElementById("MissionTable_"+l).className="success";break}}(n)}else e.className=""}function xt(e){var n=parseInt(t(e.id));"success"===e.className?function(t){var e=Kt[t][0],n=Yt.indexOf(e);Yt.splice(n,1),document.getElementById("MissionTable_"+t).className="",te()}(n):function(t){if(4===Yt.length){var e,n=Yt[0];Yt.shift();for(var a=0;a<Kt.length;a++)if(n===Kt[a][0]){e=a;break}document.getElementById("MissionTable_"+e).className=""}var i=Kt[t][0];Yt.push(i),document.getElementById("MissionTable_"+t).className="success",te()}(n)}$(function(){$("[href=#Tab_Anytime]").on("shown.bs.tab",function(){vt?vt=!1:function(){if(H("HTML_TAB",at="Anytime"),gt(),mt(),!lt()){var t=Wt();t.setTime(!1),Ft=t.TotalTime}Zt(),te()}()}),$("[href=#Tab_Timetable]").on("shown.bs.tab",function(){vt?vt=!1:function(){if(H("HTML_TAB",at="Timetable"),gt(),mt(),!lt()){var t=Wt();t.setTime(!1),Ft=t.TotalTime}Zt(),te()}()})}),$(function(){$("input[id^=Display_]").on("click",function(){lt()?rt():ot()}),$("#Display_PerHour_text").on("keyup",function(t){pt(t)&&(document.getElementById("Display_PerHour").checked=!0,rt())}),$("#Display_Total_text").on("keyup",function(t){pt(t)&&(document.getElementById("Display_Total").checked=!0,ot())})}),$(function(){$("#GreatSuccessRate").on("input propertychange",function(){var t=o();c(u(),!1),wt(t+d(t)),Zt(),te()}),$("#GreatSuccessRate").blur(function(){H("GreatSuccessRate",o())}),$("#GreatSuccessRateUp").on("click",function(){var t=u();c(t),wt(_(!0)),Zt(),te(),H("is_GreatSuccessRateUP",t)})}),$(function(){$("#ChapterLimit").on("change",function(){Zt(),te(),H("SelectChapter",p())})}),$(function(){$("#Time_Anytime_hours").on("input propertychange",function(){if(f()>4320&&y(4320),!lt()){var t=f();Ft=t}Zt(),te()}),$("#Time_Anytime_hours").blur(function(){ft()}),$("#Time_Anytime_minutes").on("input propertychange",function(){if(f()>4320&&y(4320),!lt()){var t=f();Ft=t}Zt(),te()}),$("#Time_Anytime_minutes").blur(function(){ft()}),$("#Tab_Anytime_MinimumIntervalTime_minutes").on("input propertychange",function(){Zt(),te()}),$("#Tab_Anytime_MinimumIntervalTime_minutes").blur(function(){ft()})}),$(function(){$("#Time_Timetable_hours").on("input propertychange",function(){yt()}),$("#Time_Timetable_hours").blur(function(){St()}),$("#Time_Timetable_minutes").on("input propertychange",function(){yt()}),$("#Time_Timetable_minutes").blur(function(){St()}),$("#Tab_Timetable_new_hours").keyup(function(t){pt(t)&&$("#Tab_Timetable_new_minutes").focus()}),$("#Tab_Timetable_new_minutes").keyup(function(t){pt(t)&&(""!==$("#Tab_Timetable_new_hours").val()&&$("#Tab_Timetable_new_hours").focus(),Pt())}),$("#Tab_Timetable_AddNewTimePoint").on("click",function(){Pt()}),$("#Tab_Timetable_range").on("click","button[id^=Tab_Timetable_range_thumb_]",function(){dt(parseFloat(t(this.id))),Zt(),te(),St()}),$("#tab_Timetable_deleteall").on("click",function(){_t(),Zt(),te(),St()})}),$(function(){$("#ContractWeight").change(function(){H("ContractWeight",b())})}),$(function(){$("#target").on("click","button[id^=setTarget_]",function(){!function(t){switch(t){case"HG":T([130,130,130,130,0,0,0,0]);break;case"SMG":T([430,430,130,230,0,0,0,0]);break;case"RF":T([430,130,430,230,0,0,0,0]);break;case"AR":T([130,430,430,130,0,0,0,0]);break;case"MG":T([730,630,130,430,0,0,0,0]);break;case"SG":T([800,200,800,400,0,0,0,0]);break;case"2221":T([400,400,400,200,0,0,0,0]);break;case"Clear":T(),g()}}(t(this.id))}),$("#target").on("click","button[id^=Target_minus_]",function(){Tt(this.id)}),$("#target").on("click","button[id^=Target_plus_]",function(){Tt(this.id)})}),$(function(){$("#target").on("blur","#MT",function(){$t()}),$("#target").on("keyup","#MT",function(t){pt(t)&&$("#AT").focus(),$("#AT").select()}),$("#target").on("blur","#AT",function(){$t()}),$("#target").on("keyup","#AT",function(t){pt(t)&&$("#RT").focus(),$("#RT").select()}),$("#target").on("blur","#RT",function(){$t()}),$("#target").on("keyup","#RT",function(t){pt(t)&&$("#PT").focus(),$("#PT").select()}),$("#target").on("blur","#PT",function(){$t()}),$("#target").on("keyup","#PT",function(t){pt(t)&&$("#TT").focus(),$("#TT").select()}),$("#target").on("blur","#TT",function(){$t()}),$("#target").on("keyup","#TT",function(t){pt(t)&&$("#ET").focus(),$("#ET").select()}),$("#target").on("blur","#ET",function(){$t()}),$("#target").on("keyup","#ET",function(t){pt(t)&&$("#QPT").focus(),$("#QPT").select()}),$("#target").on("blur","#QPT",function(){$t()}),$("#target").on("keyup","#QPT",function(t){pt(t)&&$("#QRT").focus(),$("#QRT").select()}),$("#target").on("blur","#QRT",function(){$t()})}),$(function(){$("#start_sorting").on("click",function(){!function(){$("#Time_Anytime_hours").attr("disabled","true"),$("#Time_Anytime_minutes").attr("disabled","true"),$("#Tab_Anytime_MinimumIntervalTime_minutes").attr("disabled","true"),$("#Time_Timetable_hours").attr("disabled","true"),$("#Time_Timetable_minutes").attr("disabled","true"),$("#tab_Timetable_deleteall").attr("disabled","true"),$("button[id^=Tab_Timetable_range_thumb_]").attr("disabled","true"),$("#Tab_Timetable_new_hours").attr("disabled","true"),$("#Tab_Timetable_new_minutes").attr("disabled","true"),$("#Tab_Timetable_AddNewTimePoint").attr("disabled","true"),$("#GreatSuccessRate").attr("disabled","true"),$("#GreatSuccessRateUp").attr("disabled","true"),document.getElementById("GreatSuccessRateUp_text").style.cursor="not-allowed",document.getElementById("GreatSuccessRateUp_label").style.cursor="not-allowed",$("#ChapterLimit").attr("disabled","true"),$("#ContractWeight").attr("disabled","true"),document.getElementById("ContractWeight_thumb").style.backgroundColor="#CCC",$("button[id^=setTarget_]").attr("disabled","true"),$("#MT").attr("disabled","true"),$("#AT").attr("disabled","true"),$("#RT").attr("disabled","true"),$("#PT").attr("disabled","true"),$("#TT").attr("disabled","true"),$("#ET").attr("disabled","true"),$("#QPT").attr("disabled","true"),$("#QRT").attr("disabled","true"),$("button[id^=Target_minus_]").attr("disabled","true"),$("button[id^=Target_plus_]").attr("disabled","true"),$("#start_sorting").attr("disabled","true"),document.getElementById("start_sorting").style.display="none",$("#clear_sorting").removeAttr("disabled"),document.getElementById("clear_sorting").style.display="";var t=Wt();t.setTime();var e=t.setValidQAndReturnLengthAndSetCurrentMax(),n=new Dt(t,8);if(e>38){var a=e-3,i=e-2,l=e-1,r=e;for(d=0;d<a;d++)for(_=d+1;_<i;_++)for(c=_+1;c<l;c++)for(h=c+1;h<r;h++)n.CalculateAndPush_Standardization_And_CalculateMissionsValue([d,_,c,h]);for(var o=new Array(e),s=0;s<e;s++)o[s]=[s,t.Qvalid[s][11]];L(o,1),o.splice(0,38),L(o,0);for(var s=0;s<o.length;s++)t.Qvalid.splice(o[s][0],1),e--}else{var a=e-3,i=e-2,l=e-1,r=e;for(d=0;d<a;d++)for(_=d+1;_<i;_++)for(c=_+1;c<l;c++)for(h=c+1;h<r;h++)n.CalculateAndPush_Standardization([d,_,c,h])}for(var u=function(t){var e=function(t){var e=new Array(8);e.fill(0);var n=new Array(8);n.fill(t.length);for(var a=0;a<8;a++)for(var i=0;i<t.length;i++)e[a]+=t[i][a+4],0==t[i][a+4]&&n[a]--;for(var a=0;a<8;a++)0==n[a]?e[a]=0:e[a]/=n[a];return e}(t.List),n=e.slice(0,4);n.class="Resource";var a=e.slice(4,8);a.class="Contract";for(var i=Gt(n,t),l=Gt(a,t),r=0;r<4;r++)e[r]=0!=i?t.TargetValue_html[r]/i:0;for(var r=4;r<8;r++)e[r]=0!=l?t.TargetValue_html[r]/l:0;return e}(n),s=0;s<8;s++)u[s]/=t.CurrentValue_MAX[s];(function(t){for(var e=0;e<8;e++)qt[e]=t[e],Ut[e]=t[e]})(u),function(t){Xt=t}(t),t.normalizedQValid(),n=new Dt(t,16,u);var d,_,c,h,a=e-3,i=e-2,l=e-1,r=e;for(d=0;d<a;d++)for(_=d+1;_<i;_++)for(c=_+1;c<l;c++)for(h=c+1;h<r;h++)n.CalculateAndPush([d,_,c,h]);n.print(!1)}()}),$("#clear_sorting").on("click",function(){gt(),mt()})}),$(function(){$("#Plan_Table").on("shown.bs.collapse","#FineTuningTool",function(){nt()||(document.getElementById("FineTuningTool").style.transition="")})}),$(function(){$("#Plan_Table").on("click","tr[id^=print_result_plan_tr_]",function(){Mt(this)}),$("#Plan_Table").on("keyup","tr[id^=print_result_plan_tr_]",function(t){pt(t)&&Mt(this)})}),$(function(){$("#Plan_Table").on("click","#resultPlan_Mission",function(){Nt="Ranking",bt(0,"ascending")}),$("#Plan_Table").on("keyup","#resultPlan_Mission",function(t){pt(t)&&(Nt="Ranking",bt(0,"ascending"))}),$("#Plan_Table").on("click","#resultPlan_Manp",function(){Nt="Manp",bt(5)}),$("#Plan_Table").on("keyup","#resultPlan_Manp",function(t){pt(t)&&(Nt="Manp",bt(5))}),$("#Plan_Table").on("click","#resultPlan_Ammu",function(){Nt="Ammu",bt(6)}),$("#Plan_Table").on("keyup","#resultPlan_Ammu",function(t){pt(t)&&(Nt="Ammu",bt(6))}),$("#Plan_Table").on("click","#resultPlan_Rati",function(){Nt="Rati",bt(7)}),$("#Plan_Table").on("keyup","#resultPlan_Rati",function(t){pt(t)&&(Nt="Rati",bt(7))}),$("#Plan_Table").on("click","#resultPlan_Part",function(){Nt="Part",bt(8)}),$("#Plan_Table").on("keyup","#resultPlan_Part",function(t){pt(t)&&(Nt="Part",bt(8))}),$("#Plan_Table").on("click","#resultPlan_TPro",function(){Nt="TPro",bt(9)}),$("#Plan_Table").on("keyup","#resultPlan_TPro",function(t){pt(t)&&(Nt="TPro",bt(9))}),$("#Plan_Table").on("click","#resultPlan_Equi",function(){Nt="Equi",bt(10)}),$("#Plan_Table").on("keyup","#resultPlan_Equi",function(t){pt(t)&&(Nt="Equi",bt(10))}),$("#Plan_Table").on("click","#resultPlan_QPro",function(){Nt="QPro",bt(11)}),$("#Plan_Table").on("keyup","#resultPlan_QPro",function(t){pt(t)&&(Nt="QPro",bt(11))}),$("#Plan_Table").on("click","#resultPlan_QRes",function(){Nt="QRes",bt(12)}),$("#Plan_Table").on("keyup","#resultPlan_QRes",function(t){pt(t)&&(Nt="QRes",bt(12))})}),$(function(){$("#Plan_Table").on("click","button[id^=FineTuning_minus_]",function(){jt(-1,t(this.id))}),$("#Plan_Table").on("click","button[id^=FineTuning_plus_]",function(){jt(1,t(this.id))})}),$(function(){$("#Saved_heading").on("keyup",function(t){pt(t)&&("false"===$("#Saved_heading").attr("aria-expanded")?($("#MissionTable_panel").collapse("hide"),$("#Saved").collapse("show")):$("#Saved").collapse("hide"))}),$("#Saved_heading").on("click",function(){"false"===$("#Saved_heading").attr("aria-expanded")?($("#MissionTable_panel").collapse("hide"),$("#Saved").collapse("show")):$("#Saved").collapse("hide")}),$("#importSaved_importButton").on("click",function(){!function(t){try{var e=JSON.parse(t),n=md5(JSON.stringify(e.data)),a=n===e.MD5}catch(t){}a?(ue.push(e),H("SAVED",ue),de(ue.length-1)):alert(C.JS.Saved_alert)}($("#importSaved_input").val()),$("#importSaved_input").val("")}),$("#Saved_Body").on("click","button[id^=SavedTable_apply_]",function(){!function(t){var e=ue[t].data,n=e[1];vt=!0,it(n),s(e[2]),c(e[3]),v(e[4]);var a=Wt();a.ApplySaved_Custom(e[5]),Yt=e[6].slice(),void 0!==e[7]?w(e[7]):w(0);gt(),mt(),lt()||(a.setTime(!1),Ft=a.TotalTime);Zt(),te()}(parseInt(t(this.id)))}),$("#Saved_Body").on("input propertychange","input[id^=SavedTable_name_]",function(){var e,n;e=parseInt(t(this.id)),n=$("#SavedTable_name_"+e).val(),ue[e].data[0]=n,ue[e].MD5=md5(JSON.stringify(ue[e].data)),H("SAVED",ue)}),$("#Saved_Body").on("keyup","input[id^=SavedTable_name_]",function(t){if(13==t.which){var e="#"+this.id;$(e).attr("readOnly",!0)}}),$("#Saved_Body").on("blur","input[id^=SavedTable_name_]",function(){var t="#"+this.id;$(t).attr("readOnly",!0)}),$("#Saved_Body").on("click","button[id^=SavedTable_rename_]",function(){var e="#SavedTable_name_"+parseInt(t(this.id));$(e).attr("readOnly",!1),$(e).focus(),$(e).select()}),$("#Saved_Body").on("click","button[id^=SavedTable_up_]",function(){!function(t){$("#SavedTable_name_"+t).val(ue[t-1].data[0]),$("#SavedTable_name_"+(t-1)).val(ue[t].data[0]);var e=[ue[t-1],ue[t]];ue[t]=e[0],ue[t-1]=e[1],H("SAVED",ue)}(parseInt(t(this.id)))}),$("#Saved_Body").on("click","button[id^=SavedTable_down_]",function(){!function(t){$("#SavedTable_name_"+t).val(ue[t+1].data[0]),$("#SavedTable_name_"+(t+1)).val(ue[t].data[0]);var e=[ue[t+1],ue[t]];ue[t]=e[0],ue[t+1]=e[1],H("SAVED",ue)}(parseInt(t(this.id)))}),$("#Saved_Body").on("click","button[id^=SavedTable_export_]",function(){var e,n;e=parseInt(t(this.id)),n=JSON.stringify(ue[e]),prompt("export",n)}),$("#Saved_Body").on("click","button[id^=SavedTable_delete_]",function(){_e(parseInt(t(this.id)))})}),$(function(){$("#MissionTable_heading").on("keyup",function(t){pt(t)&&("false"===$("#MissionTable_panel").attr("aria-expanded")?($("#MissionTable_panel").collapse("show"),$("#Saved").collapse("hide")):$("#MissionTable_panel").collapse("hide"))}),$("#MissionTable_heading").on("click",function(){"false"===$("#MissionTable_panel").attr("aria-expanded")?($("#MissionTable_panel").collapse("show"),$("#Saved").collapse("hide")):$("#MissionTable_panel").collapse("hide")}),$("#MissionTable_head_Mission").on("click",function(){Q(Kt,12),Zt(!1)}),$("#MissionTable_head_Mission").on("keyup",function(t){pt(t)&&(Q(Kt,12),Zt(!1))}),$("#MissionTable_head_Manp").on("click",function(){L(Kt,1),Zt(!1)}),$("#MissionTable_head_Manp").on("keyup",function(t){pt(t)&&(L(Kt,1),Zt(!1))}),$("#MissionTable_head_Ammu").on("click",function(){L(Kt,2),Zt(!1)}),$("#MissionTable_head_Ammu").on("keyup",function(t){pt(t)&&(L(Kt,2),Zt(!1))}),$("#MissionTable_head_Rati").on("click",function(){L(Kt,3),Zt(!1)}),$("#MissionTable_head_Rati").on("keyup",function(t){pt(t)&&(L(Kt,3),Zt(!1))}),$("#MissionTable_head_Part").on("click",function(){L(Kt,4),Zt(!1)}),$("#MissionTable_head_Part").on("keyup",function(t){pt(t)&&(L(Kt,4),Zt(!1))}),$("#MissionTable_head_TPro").on("click",function(){L(Kt,5),Zt(!1)}),$("#MissionTable_head_TPro").on("keyup",function(t){pt(t)&&(L(Kt,5),Zt(!1))}),$("#MissionTable_head_Equi").on("click",function(){L(Kt,6),Zt(!1)}),$("#MissionTable_head_Equi").on("keyup",function(t){pt(t)&&(L(Kt,6),Zt(!1))}),$("#MissionTable_head_QPro").on("click",function(){L(Kt,7),Zt(!1)}),$("#MissionTable_head_QPro").on("keyup",function(t){pt(t)&&(L(Kt,7),Zt(!1))}),$("#MissionTable_head_QRes").on("click",function(){L(Kt,8),Zt(!1)}),$("#MissionTable_head_QRes").on("keyup",function(t){pt(t)&&(L(Kt,8),Zt(!1))}),$("#MissionTable_head_Time").on("click",function(){Q(Kt,9),Zt(!1)}),$("#MissionTable_head_Time").on("keyup",function(t){pt(t)&&(Q(Kt,9),Zt(!1))}),$("#MissionTable_panel").on("click","tr[id^=MissionTable_]",function(){xt(this)}),$("#MissionTable_panel").on("keyup","tr[id^=MissionTable_]",function(t){pt(t)&&xt(this)})}),$(function(){$("#MissionTable_panel").on("shown.bs.collapse",function(){H("IsSavedShow",!1)}),$("#MissionTable_panel").on("hidden.bs.collapse",function(){nt()||(document.getElementById("MissionTable_panel").style.transition="")}),$("#Saved").on("shown.bs.collapse",function(){H("IsSavedShow",!0),nt()||(document.getElementById("Saved").style.transition="")})}),$(function(){$("#savePlan").on("click",function(){!function(){if(ue.length>=999)return void alert(C.JS.Saved_alert2);var t=prompt(C.JS.plzInputPlanName,C.JS.planDefaultName);if(null==t)return;""==t&&(t=C.JS.planDefaultName);var e=o(),n=u(),a=p(),i=[],l=Wt().Saved_Custom(),r=Yt.slice(),s=A();i.push(t),i.push(at),i.push(e),i.push(n),i.push(a),i.push(l),i.push(r),i.push(s);var d={data:[],MD5:""};d.data=i,d.MD5=md5(JSON.stringify(i)),ue.push(d),H("SAVED",ue),de(ue.length-1)}()}),$("#Capture").on("click",function(){html2canvas(document.getElementById("PlanDetails"),{logging:!1,scale:1}).then(function(t){var e=document.createElement("a");e.href=t.toDataURL(),e.download="Capture.png",document.body.appendChild(e),e.click(),document.body.removeChild(e)})}),$("#PlanDetails_InputStartTime").on("input propertychange",function(){if(0!==Yt.length){var t=le(),e=Wt();e.setTime(!1),oe(t,e.TotalTime)}}),$("#PlanDetails_InputExecutionTimes").on("input propertychange",function(){ie();var t=le(),e=Wt();e.setTime(!1),re(t,e.TotalTime,k())})}),$(function(){$("#Config_export").on("click",function(){!function(){var t=[];t.push(at),lt()?t.push("PerHour"):t.push("Total");var e=new Lt;t.push(e.Saved_Custom()),e=new Qt,t.push(e.Saved_Custom()),t.push(o()),t.push(u()),t.push(p()),t.push(b()),t.push(h()),t.push(ue);var n=sha1(JSON.stringify(t)),a={data:[],SHA1:""};a.data=t,a.SHA1=n,prompt("export",JSON.stringify(a))}()}),$("#Config_importButton").on("click",function(){Y($("#Config_importInput").val()),$("#Config_importInput").val("")})});var At=[["0-1",0,145,145,0,0,0,0,0,50],["0-2",550,0,0,350,0,0,0,0,180],["0-3",900,900,900,250,0,0,0,0,720],["0-4",0,1200,800,750,0,0,0,0,1440],["1-1",10,30,15,0,0,0,0,0,15],["1-2",0,40,60,0,0,0,0,0,30],["1-3",30,0,30,10,0,0,0,0,60],["1-4",160,160,0,0,0,0,0,0,120],["2-1",100,0,0,30,0,0,0,0,40],["2-2",60,200,80,0,0,0,0,0,90],["2-3",10,10,10,230,0,0,0,0,240],["2-4",0,250,600,60,0,0,0,0,360],["3-1",50,0,75,0,0,0,0,0,20],["3-2",0,120,70,30,0,0,0,0,45],["3-3",0,300,0,0,0,0,0,0,90],["3-4",0,0,300,300,0,0,0,0,300],["4-1",0,185,185,0,0,0,0,0,60],["4-2",0,0,0,210,0,0,0,0,120],["4-3",800,550,0,0,0,0,0,0,360],["4-4",400,400,400,150,0,0,0,0,480],["5-1",0,0,100,45,0,0,0,0,30],["5-2",0,600,300,0,0,0,0,0,150],["5-3",800,400,400,0,0,0,0,0,240],["5-4",100,0,0,700,0,0,0,0,420],["6-1",300,300,0,100,0,0,0,0,120],["6-2",0,200,550,100,0,0,0,0,180],["6-3",0,0,200,500,0,0,0,0,300],["6-4",800,800,800,0,0,0,0,0,720],["7-1",650,0,650,0,0,0,0,0,150],["7-2",0,650,0,300,0,0,0,0,240],["7-3",900,600,600,0,0,0,0,0,330],["7-4",250,250,250,600,0,0,0,0,480],["8-1",150,150,150,0,0,0,0,0,60],["8-2",0,0,0,450,0,0,0,0,180],["8-3",400,800,800,0,0,0,0,0,360],["8-4",1500,400,400,100,0,0,0,0,540],["9-1",0,0,100,50,0,0,0,0,30],["9-2",180,0,180,100,0,0,0,0,90],["9-3",750,750,0,0,0,0,0,0,270],["9-4",500,900,900,0,0,0,0,0,420],["10-1",140,200,0,0,0,0,0,0,40],["10-2",0,240,180,0,0,0,0,0,100],["10-3",0,480,480,300,0,0,0,0,320],["10-4",660,660,660,330,0,0,0,0,600],["11-1",350,1050,0,0,0,0,0,0,240],["11-2",360,540,540,0,0,0,0,0,240],["11-3",0,750,1500,250,0,0,0,0,480],["11-4",0,1650,0,900,0,0,0,0,600],["12-1",0,220,220,0,0,0,0,0,60],["12-2",360,0,0,120,0,0,0,0,90],["12-3",800,1200,1200,0,0,0,0,0,540],["12-4",1800,0,1800,0,0,0,0,0,720]];function wt(t){var e=t/100;At[1][5]=kt(50,50,e),At[7][5]=kt(20,20,e),At[11][5]=kt(80,80,e),At[15][5]=kt(40,80,e),At[18][5]=.7,At[23][5]=kt(40,40,e),At[29][5]=.6,At[35][5]=kt(90,90,e),At[38][5]=kt(70,70,e),At[41][5]=.75,At[44][5]=.5,At[45][5]=1,At[51][5]=1,At[2][6]=kt(40,80,e),At[15][6]=kt(40,80,e),At[16][6]=kt(20,20,e),At[22][6]=kt(50,50,e),At[26][6]=kt(60,60,e),At[30][6]=kt(70,70,e),At[32][6]=kt(40,40,e),At[39][6]=1,At[43][6]=kt(50,50,e),At[44][6]=.5,At[48][6]=kt(60,60,e),At[0][7]=kt(20,70,e),At[10][7]=.5,At[14][7]=kt(40,85,e),At[17][7]=kt(50,50,e),At[19][7]=1,At[25][7]=kt(20,70,e),At[31][7]=kt(80,80,e),At[34][7]=kt(60,90,e),At[37][7]=kt(25,25,e),At[41][7]=.25,At[42][7]=kt(30,80,e),At[47][7]=1,At[50][7]=1,At[0][8]=kt(50,70,e),At[2][8]=kt(40,80,e),At[6][8]=kt(60,60,e),At[9][8]=kt(30,30,e),At[10][8]=.5,At[14][8]=kt(45,85,e),At[18][8]=.3,At[21][8]=kt(80,80,e),At[25][8]=kt(50,70,e),At[29][8]=.4,At[33][8]=kt(80,80,e),At[34][8]=kt(30,90,e),At[42][8]=kt(50,80,e),At[46][8]=kt(50,50,e)}function kt(t,e,n){return t/100+(t/e-t/100)*n}var It=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}();function Ct(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Rt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function I(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Et=function(){function t(){I(this,t),this._title='<thead><tr style="cursor: pointer;"><th style="text-align: center;width:20%;" colspan="4" tabindex="0" id="resultPlan_Mission">'+C.JS.Mission+"</th>",this._titleEnd="</tr></thead>",this.Qvalid=[]}return It(t,[{key:"setTime",value:function(){}},{key:"setValidQAndReturnLengthAndSetCurrentMax",value:function(){}},{key:"_setCurrentMax",value:function(){for(var t=[0,0,0,0,0,0,0,0],e=0;e<8;e++){for(var n=new Array(this.Qvalid.length),a=0;a<this.Qvalid.length;a++)n[a]=this.Qvalid[a][e+1];E(n),t[e]=n[0]+n[1]+n[2]+n[3]}this.CurrentValue_MAX=t}},{key:"normalizedQValid",value:function(){for(var t=0;t<this.Qvalid.length;t++)for(var e=0;e<8;e++)0!=this.CurrentValue_MAX[e]&&(this.Qvalid[t][e+1]/=this.CurrentValue_MAX[e])}},{key:"_getUnableLogistic",value:function(){var t=function(){var t;switch(p()){case 6:t=["7-1","7-2","7-3","7-4","8-1","8-2","8-3","8-4","9-1","9-2","9-3","9-4","10-1","10-2","10-3","10-4","11-1","11-2","11-3","11-4","12-1","12-2","12-3","12-4"];break;case 7:t=["8-1","8-2","8-3","8-4","9-1","9-2","9-3","9-4","10-1","10-2","10-3","10-4","11-1","11-2","11-3","11-4","12-1","12-2","12-3","12-4"];break;case 8:t=["9-1","9-2","9-3","9-4","10-1","10-2","10-3","10-4","11-1","11-2","11-3","11-4","12-1","12-2","12-3","12-4"];break;case 9:t=["10-1","10-2","10-3","10-4","11-1","11-2","11-3","11-4","12-1","12-2","12-3","12-4"];break;case 10:t=["11-1","11-2","11-3","11-4","12-1","12-2","12-3","12-4"];break;case 11:t=["12-1","12-2","12-3","12-4"];break;case 12:t=[];break;default:t=[]}for(var e=[],n=0;n<At.length;n++)-1!=t.indexOf(At[n][0])&&e.push(n);return e}();return this._setUnableLogisticCustomize(t)}},{key:"_setUnableLogisticCustomize",value:function(t){for(var e=0;e<At.length;e++)At[e][9]>this.TotalTime&&-1==t.indexOf(e)&&t.push(e);return t}},{key:"Calculate_Current",value:function(t){for(var e=[0,0,0,0,0,0,0,0],n=this.Qvalid,a=0;a<8;a++)e[a]=n[t[0]][a+1]+n[t[1]][a+1]+n[t[2]][a+1]+n[t[3]][a+1];return e}},{key:"PrintPlanTableTitle",value:function(){}},{key:"PrintTableCustomize",value:function(t,e){return""}},{key:"Saved_Custom",value:function(){return[]}},{key:"ApplySaved_Custom",value:function(t){}}]),t}();var Lt=function(t){function e(){I(this,e);var t=Ct(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.PlanTableResourceAndContractWidth="8.88%",t}return Rt(e,Et),It(e,[{key:"setTime",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.TotalTime=f(t),t&&0===this.TotalTime)throw alert(C.JS.tab_Anytime_alert1),mt(),"--";this.MinimumIntervalTime=S(t)}},{key:"setValidQAndReturnLengthAndSetCurrentMax",value:function(){for(var t=this._getUnableLogistic(),e=0;e<At.length;e++)if(-1==t.indexOf(e)){var n=[];n.push(At[e][0]);for(var a=0;(++a+1)*At[e][9]<=this.TotalTime;);for(var i=1;i<9;i++)n.push(At[e][i]*a/this.TotalTime);n.push(At[e][9]);var l=[];for(i=1;i<=a;i++)l.push(At[e][9]*i);n.push(l),n.push(0),this.Qvalid.push(n)}return Q(this.Qvalid,9),this._setCurrentMax(),this.Qvalid.length}},{key:"_setUnableLogisticCustomize",value:function(t){for(var e=0;e<At.length;e++)(At[e][9]>this.TotalTime||At[e][9]<this.MinimumIntervalTime)&&-1==t.indexOf(e)&&t.push(e);return t}},{key:"Calculate_Current",value:function(t){var e=this.Qvalid;if(this.MinimumIntervalTime){var n=[e[t[0]][9],e[t[1]][9],e[t[2]][9],e[t[3]][9]];if(Math.min(n[1]-n[0]==0?this.MinimumIntervalTime:n[1]-n[0],n[2]-n[1]==0?this.MinimumIntervalTime:n[2]-n[1],n[3]-n[2]==0?this.MinimumIntervalTime:n[3]-n[2])<this.MinimumIntervalTime)return[-1,-1,-1,-1,-1,-1,-1,-1];var a=[this.Qvalid[t[0]][10],this.Qvalid[t[1]][10],this.Qvalid[t[2]][10],this.Qvalid[t[3]][10]];if(this._calculateIntervalTimeMin(a)<this.MinimumIntervalTime)return[-1,-1,-1,-1,-1,-1,-1,-1]}for(var i=[0,0,0,0,0,0,0,0],l=0;l<8;l++)i[l]=e[t[0]][l+1]+e[t[1]][l+1]+e[t[2]][l+1]+e[t[3]][l+1];return i}},{key:"_calculateIntervalTimeMin",value:function(t){for(var e=t,n=[e[0].length-1,e[1].length-1,e[2].length-1,e[3].length-1],a=0;a<3;a++)e[a][0]==e[a+1][0]&&(n[a+1]=-1);e[3][0]%e[2][0]==0?n[3]=-1:e[3][0]%e[1][0]==0?n[3]=-1:e[3][0]%e[0][0]==0&&(n[3]=-1),e[2][0]%e[1][0]==0?n[2]=-1:e[2][0]%e[0][0]==0&&(n[2]=-1),e[1][0]%e[0][0]==0&&(n[1]=-1);for(var i=e[0][0],l=999999999;-1!==n[0];){for(var r=0,o=0;++o<4;)-1!==n[o]&&(e[r][n[r]]<e[o][n[o]]?r=o:e[r][n[r]]===e[o][n[o]]&&n[o]--);var s=e[r][n[r]];n[r]--,i=Math.min(i,l-s),l=s}return i}},{key:"PrintPlanTableTitle",value:function(){return lt()?this._title+'<th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_Manp">'+C.JS.Manp+'/h</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_Ammu">'+C.JS.Ammu+'/h</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_Rati">'+C.JS.Rati+'/h</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_Part">'+C.JS.Part+'/h</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_TPro">'+C.JS.TPro+'/h</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_Equi">'+C.JS.Equi+'/h</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_QPro">'+C.JS.QPro+'/h</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_QRes">'+C.JS.QRes+'/h</th><th style="text-align: center;width:8.88%;">'+C.JS.MinIntervalTime+"</th>"+this._titleEnd:this._title+'<th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_Manp">'+C.JS.Manp+'</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_Ammu">'+C.JS.Ammu+'</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_Rati">'+C.JS.Rati+'</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_Part">'+C.JS.Part+'</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_TPro">'+C.JS.TPro+'</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_Equi">'+C.JS.Equi+'</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_QPro">'+C.JS.QPro+'</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_QRes">'+C.JS.QRes+'</th><th style="text-align: center;width:8.88%;">'+C.JS.MinIntervalTime+"</th>"+this._titleEnd}},{key:"PrintTableCustomize",value:function(t,e){var n=[],a=[t.List[e][0],t.List[e][1],t.List[e][2],t.List[e][3]],i=[this.Qvalid[a[0]][10],this.Qvalid[a[1]][10],this.Qvalid[a[2]][10],this.Qvalid[a[3]][10]];return n.push(this._calculateIntervalTimeMin(i)+"m"),n}},{key:"Saved_Custom",value:function(){var t=[],e=f();t.push(e);var n=S();return t.push(n),t}},{key:"ApplySaved_Custom",value:function(t){var e=t[0],n=t[1];y(e),function(t){$("#Tab_Anytime_MinimumIntervalTime_minutes").val(t)}(n),H("TabAnytimeCustom",t)}}]),e}(),Qt=function(t){function e(){I(this,e);var t=Ct(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.Qvalid=[],t.TimeList=[],t.PlanTableResourceAndContractWidth="10%",t}return Rt(e,Et),It(e,[{key:"setTime",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.TimeList=st.slice().sort(Bt),this.TimeList.unshift(0),this.TotalTime=P(t),t&&0===this.TotalTime)throw alert(C.JS.tab_Timetable_alert4),mt(),"--";this.TimeList.push(this.TotalTime)}},{key:"setValidQAndReturnLengthAndSetCurrentMax",value:function(){for(var t=this._getUnableLogistic(),e=0;e<At.length;e++)if(-1===t.indexOf(e)){var n=[];n.push(At[e][0]);for(var a=0,i=[],l=0,r=1;r<this.TimeList.length;r++)At[e][9]<=this.TimeList[r]-this.TimeList[l]&&(a++,i.push(this.TimeList[l]+At[e][9]),l=r);for(r=1;r<9;r++)n.push(At[e][r]*a/this.TotalTime);n.push(At[e][9]),n.push(i),n.push(0),this.Qvalid.push(n)}return this._setCurrentMax(),this.Qvalid.length}},{key:"PrintPlanTableTitle",value:function(){return lt()?this._title+'<th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_Manp">'+C.JS.Manp+'/h</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_Ammu">'+C.JS.Ammu+'/h</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_Rati">'+C.JS.Rati+'/h</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_Part">'+C.JS.Part+'/h</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_TPro">'+C.JS.TPro+'/h</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_Equi">'+C.JS.Equi+'/h</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_QPro">'+C.JS.QPro+'/h</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_QRes">'+C.JS.QRes+"/h</th>"+this._titleEnd:this._title+'<th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_Manp">'+C.JS.Manp+'</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_Ammu">'+C.JS.Ammu+'</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_Rati">'+C.JS.Rati+'</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_Part">'+C.JS.Part+'</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_TPro">'+C.JS.TPro+'</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_Equi">'+C.JS.Equi+'</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_QPro">'+C.JS.QPro+'</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_QRes">'+C.JS.QRes+"</th>"+this._titleEnd}},{key:"Saved_Custom",value:function(){var t=[],e=P();t.push(e);var n=st.slice();return t.push(n),t}},{key:"ApplySaved_Custom",value:function(t){M(t[0]),function(t){_t();for(var e=0;e<t.length;e++)ut(t[e]);0===st.length?ct():ht()}(t[1]),H("TabTimetableCustom",t)}}]),e}();function Bt(t,e){return t-e}It=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}();function I(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Dt=function(){function t(e,n,a){if(I(this,t),this._setResourceIncreasingRate(),this._setList(n),this.ShownTab=e,this.CurrentValue_MAX=e.CurrentValue_MAX,void 0===a)this.TargetValue_html=h(),this.TargetValue=this._CorrectTargetValue();else{this.TargetValue=a,this.TargetValue_half=this.TargetValue.slice();for(var i=0;i<8;i++)this.TargetValue_half[i]=.5*this.TargetValue_half[i]}this._Norm_Target=this._getNorm(this.TargetValue)}return It(t,[{key:"_setResourceIncreasingRate",value:function(){var t=_(!0);this.ResourceIncreasingRate=1+t/200}},{key:"_setList",value:function(t){this.List=new Array(t);for(var e=0;e<t;e++)this.List[e]=new Array(12),this.List[e].Value=0}},{key:"_CorrectTargetValue",value:function(){var t=this._CorrectResourceValue(),e=this._CorrectContractValue(),n=t.concat(e);if("0,0,0,0,0,0,0,0"==n.toString())throw alert(C.JS.TargetValue0_alert),mt(),"--";return n}},{key:"_CorrectResourceValue",value:function(){var t=this.TargetValue_html.slice(0,4),e=100-b();return this._ValuesNotAll0(t)&&this._CorrectValue(t,e),t}},{key:"_CorrectContractValue",value:function(){var t=this.TargetValue_html.slice(4,8),e=b();return this._ValuesNotAll0(t)&&this._CorrectValue(t,e),t}},{key:"_ValuesNotAll0",value:function(t){for(var e=0;e<t.length;e++)if(0!=t[e])return!0;return!1}},{key:"_CorrectValue",value:function(t,e){for(var n=e/Ot(t),a=0;a<t.length;a++)t[a]*=n}},{key:"_getNorm",value:function(t){for(var e=0,n=0;n<t.length;n++)e+=Math.pow(t[n],2);return Math.pow(e,.5)}},{key:"CalculateAndPush_Standardization_And_CalculateMissionsValue",value:function(t){this._CurrentValue=this.ShownTab.Calculate_Current(t),-1!==this._CurrentValue[0]&&(this._MissionsNumber=t,this._PlanValue=this._calculateValue(),this.ShownTab.Qvalid[t[0]][11]+=this._PlanValue,this.ShownTab.Qvalid[t[1]][11]+=this._PlanValue,this.ShownTab.Qvalid[t[2]][11]+=this._PlanValue,this.ShownTab.Qvalid[t[3]][11]+=this._PlanValue,0 in this.List[this.List.length-1]?this._push():this._push_FirstEmptyRow())}},{key:"CalculateAndPush_Standardization",value:function(t){this._CurrentValue=this.ShownTab.Calculate_Current(t),-1!==this._CurrentValue[0]&&(this._MissionsNumber=t,this._PlanValue=this._calculateValue(),0 in this.List[this.List.length-1]?this._push():this._push_FirstEmptyRow())}},{key:"CalculateAndPush",value:function(t){if(this._CurrentValue=this.ShownTab.Calculate_Current(t),-1!==this._CurrentValue[0]){for(var e=0;e<8;e++)if(this._CurrentValue[e]<this.TargetValue_half[e])return;this._MissionsNumber=t,this._PlanValue=this._calculateValue_2(),0 in this.List[this.List.length-1]?this._push():this._push_FirstEmptyRow()}}},{key:"_push_FirstEmptyRow",value:function(){for(var t=this.List.length-1;0!=t&&!(0 in this.List[t-1]);)t--;this._PushIntoThisRow(t),this._SortListByValue(t)}},{key:"_push",value:function(){this._thisPlanIsBetterThan(this.List.length-1)&&(this._PushIntoThisRow(this.List.length-1),this._SortListByValue(this.List.length-1))}},{key:"_PushIntoThisRow",value:function(t){this.List[t]=this._MissionsNumber.concat(this._CurrentValue),this.List[t].Value=this._PlanValue}},{key:"_SortListByValue",value:function(t){for(var e=t-1;e>=0&&this._thisPlanIsBetterThan(e);e--)this._ExchangeTheseTwoRows(e)}},{key:"_ExchangeTheseTwoRows",value:function(t){this.List[t+1]=this.List[t].slice(),this.List[t+1].Value=this.List[t].Value,this._PushIntoThisRow(t)}},{key:"_thisPlanIsBetterThan",value:function(t){return this._PlanValue>this.List[t].Value}},{key:"_calculateValue",value:function(){var t=[0,0,0,0,0,0,0,0],e=this.TargetValue,n=this._CurrentValue;0!==e[0]&&(t[0]=n[0]),0!==e[1]&&(t[1]=n[1]),0!==e[2]&&(t[2]=n[2]),0!==e[3]&&(t[3]=n[3]),0!==e[4]&&(t[4]=500*n[4]),0!==e[5]&&(t[5]=500*n[5]),0!==e[6]&&(t[6]=500*n[6]),0!==e[7]&&(t[7]=500*n[7]);var a=this._getNorm(t);if(0===a)return 0;var i=this._getDotProduct(t,this.TargetValue)/this._Norm_Target,l=Math.min(1,i/a),r=1-2*Math.acos(l)/Math.PI;return i*Math.pow(r,2)}},{key:"_getDotProduct",value:function(t,e){if(t.length!==e.length)throw"getDotProduct error";for(var n=0,a=0;a<t.length;a++)n+=t[a]*e[a];return n}},{key:"_calculateValue_2",value:function(){return function(t,e){for(var n=0,a=99999999999,i=0;i<8;i++)0!=t[i]&&(a=Math.min(a,e[i]/t[i]));for(var i=0;i<8;i++)n+=zt(t[i],e[i],a);return n}(this.TargetValue,this._CurrentValue)}},{key:"print",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Ranking";if(!(0 in this.List[0]))throw document.getElementById("Plan_Table").innerHTML=C.JS.NoPlan,Vt=[],"--";for(var n,a=[],i=0;i<this.List.length&&0 in this.List[i];i++){var l=[];l.push(i);for(var r=new Array(4),o=0;o<4;o++)r[o]=this.ShownTab.Qvalid[this.List[i][o]][0];r=r.sort(Jt);for(o=0;o<4;o++)l.push(r[o]);for(o=0;o<4;o++)l.push(this.List[i][o+4]*this.ResourceIncreasingRate*this.CurrentValue_MAX[o]);for(o=4;o<8;o++)l.push(this.List[i][o+4]*this.CurrentValue_MAX[o]);var s=this.ShownTab.PrintTableCustomize(this,i);for(o=0;o<s.length;o++)l.push(s[o]);a.push(l)}switch(n=lt()?60:this.ShownTab.TotalTime,e){case"Ranking":Nt="Ranking";break;case"Manp":L(a,5),Nt="Manp";break;case"Ammu":L(a,6),Nt="Ammu";break;case"Rati":L(a,7),Nt="Rati";break;case"Part":L(a,8),Nt="Part";break;case"TPro":L(a,9),Nt="TPro";break;case"Equi":L(a,10),Nt="Equi";break;case"QPro":L(a,11),Nt="QPro";break;case"QRes":L(a,12),Nt="QRes"}Vt=a,Ht(t,a,n)}}]),t}();function Jt(t,e){return parseInt(t.replace(/[^0-9]/gi,""))-parseInt(e.replace(/[^0-9]/gi,""))}function Ht(t,e,n){var a=document.activeElement.id,i=document.getElementById("Plan_Table"),l=function(){var t=["MT","AT","RT","PT","TT","ET","QPT","QRT"],e=C.JS,n=[e.Manp,e.Ammu,e.Rati,e.Part,e.TPro,e.Equi,e.QPro,e.QRes],a='<div class="panel panel-default" style="margin-bottom:5px">';a+='<div class="panel-heading">',a+='<h4 class="panel-title"><a data-toggle="collapse" href="#FineTuningTool" class="collapsed">'+e.FineTuningTool+"</a></h4></div>",a+='<div id="FineTuningTool" class="panel-collapse collapse">',a+='<div class="panel-body">';for(var i=0;i<8;i++)0===i&&(a+='<div class="col-lg-6 col-md-6 col-sm-6">'),4===i&&(a+='</div> <div class="col-lg-6 col-md-6 col-sm-6">'),a+='<div class="form-group input-group" style="margin-bottom: 10px;">',a+='<span class="input-group-addon" style="cursor:default;" id="FineTuningTool_'+t[i]+'">'+n[i]+"</span>",a+='<div class="input-group-btn">',a+='<button class="btn btn-default col-lg-6 col-md-6 col-sm-6 col-xs-6" type="button" id="FineTuning_minus_'+t[i]+'"',0===qt[i]?a+='disabled="disabled"':Ut[i]-qt[i]/50<=0?a+='disabled="disabled"':Ut[i]-qt[i]/50<.9*qt[i]&&(a+='disabled="disabled"'),a+='title="'+C.HTMLJS.FineTuning_minus+'"><b>-</b></button>',a+='<button class="btn btn-default col-lg-6 col-md-6 col-sm-6 col-xs-6" type="button" id="FineTuning_plus_'+t[i]+'"',0===qt[i]?a+='disabled="disabled"':Ut[i]+qt[i]/50>=1?a+='disabled="disabled"':Ut[i]-qt[i]/50>1.14*qt[i]&&(a+='disabled="disabled"'),a+='title="'+C.HTMLJS.FineTuning_plus+'"><b>+</b></button>',a+="</div></div>";return a+="</div></div></div></div>"}();l+='<div class="table-responsive" id="result_plan_table">',l+='<table class="table table-striped table-hover table-responsive text-nowrap" style="margin-bottom: 0px; cursor: default;">';var r,o,s=Wt();l+=s.PrintPlanTableTitle()+"<tbody>",4===Yt.length?(r=!0,(o=Yt.slice()).sort(Jt)):r=!1;for(var u=0;u<e.length;u++){r&&e[u][1]===o[0]&&e[u][2]===o[1]&&e[u][3]===o[2]&&e[u][4]===o[3]?l+="<tr tabindex='0' id='print_result_plan_tr_"+u+"' class='success'>":l+="<tr tabindex='0' id='print_result_plan_tr_"+u+"'>";for(var d=0;d<4;d++)l+="<td style='text-align: center; width: 5%;'>",l+=""+e[u][d+1],l+="</td>";for(d=4;d<8;d++)l+="<td style='text-align: center; width:"+s.PlanTableResourceAndContractWidth+"'>",l+=""+Math.round(e[u][d+1]*n*10)/10,l+="</td>";for(d=8;d<12;d++)l+="<td style='text-align: center; width:"+s.PlanTableResourceAndContractWidth+";'>",l+=""+Math.round(e[u][d+1]*n*100)/100,l+="</td>";var _=e[0].length;for(d=13;d<_;d++)l+="<td style='text-align: center; width:"+s.PlanTableResourceAndContractWidth+";'>",l+=e[u][d],l+="</td>";l+="</tr>"}l+="</tbody>",i.innerHTML=l,t&&(document.getElementById("FineTuningTool").style.transition="none",$("#FineTuningTool").collapse("show")),nt()&&(document.getElementById("FineTuningTool").style.transition="none"),document.getElementById("start_sorting_html").style.display="none",""!==a&&document.getElementById(a).focus()}var Vt=[],Nt="",Ft=void 0;function Wt(){var t;switch(at){case"Anytime":t=new Lt;break;case"Timetable":t=new Qt}return t}function Gt(t,e){for(var n=function(t,e){var n=new Array(4);n="Resource"===t?e.TargetValue_html.slice(0,4):e.TargetValue_html.slice(4,8);return n}(t.class,e),a=function(t,e){var n=new Array(4);n="Resource"===t?e.CurrentValue_MAX.slice(0,4):e.CurrentValue_MAX.slice(4,8);return n}(t.class,e),i=0,l=t.length,r=0;r<t.length;r++)0!==t[r]?(i+=n[r]/t[r],0===n[r]&&l--):l--;if(0!==i)i/=l;else{for(var o=0,s=(l=t.length,0);s<t.length;s++)0!==a[s]?o+=a[s]:l--;0===l?o=0:o/=l,i=Ot(n)/o}return i}function Ot(t){for(var e=0,n=0;n<t.length;n++)e=Math.max(e,t[n]);return e}function zt(t,e,n){return 0===t?0:Math.min(e,1.5*t*n)+.5*(Math.min(e,t)-Math.min(e,1.5*t*n))}var qt=new Array(8),Ut=new Array(8);var Xt=void 0;function jt(t,e){var n=["MT","AT","RT","PT","TT","ET","QPT","QRT"].indexOf(e);-1===t?Ut[n]-=qt[n]/50:Ut[n]+=qt[n]/50,function(){for(var t=document.getElementById("result_plan_table").scrollLeft,e=new Dt(Xt,16,Ut),n=Xt.Qvalid.length,a=n-3,i=n-2,l=n-1,r=n,o=0;o<a;o++)for(var s=o+1;s<i;s++)for(var u=s+1;u<l;u++)for(var d=u+1;d<r;d++)e.CalculateAndPush([o,s,u,d]);e.print(!0,Nt),document.getElementById("result_plan_table").scrollLeft=t}()}var Kt=[],Yt=[];function Zt(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(Kt=function(){var t=Wt();t.setTime(!1),t.setValidQAndReturnLengthAndSetCurrentMax();for(var e=t.Qvalid,n=e.length,a=0;a<n;a++){var i=e[a][0],l=i.indexOf("-"),r=i.slice(0,l),o=i.slice(l+1),s=4*parseInt(r)+parseInt(o);e[a].push(s)}Q(e,12);for(var u=1+_()/200,a=0;a<n;a++)e[a][1]*=u,e[a][2]*=u,e[a][3]*=u,e[a][4]*=u;return e}());for(var t=Kt,a=Ft,i="",l=t.length,r=Yt.slice(),o=0;o<l;o++){i+='<tr style="cursor: default;" id="MissionTable_'+o+'" tabindex="0"';for(var s=0;s<r.length;s++)if(r[s]===t[o][0]){r.splice(s,1),i+='class="success"';break}i+='><td style="width: 10%;">'+t[o][0]+"</td>";for(s=1;s<9;s++)i+='<td style="width: 10%;">'+e(t[o][s]*a)+"</td>";i+='<td style="width: 10%;">'+n(t[o][9])+"</td>",i+="<tr>"}for(o=0;o<r.length;o++)Yt.remove_First(r[o]);0===l&&(i="<tr><td>"+C.JS.NoMission+"</td></tr>"),document.getElementById("MissionTable_tbody").innerHTML=i}function te(){if(ee(),ne(),ae(),ie(),document.getElementById("PlanDetails_Mission_1").innerHTML="",document.getElementById("PlanDetails_Mission_2").innerHTML="",document.getElementById("PlanDetails_Mission_3").innerHTML="",document.getElementById("PlanDetails_Mission_4").innerHTML="",document.getElementById("PlanDetails_PerHour").innerHTML="",document.getElementById("PlanDetails_Total").innerHTML="",echarts.init(document.getElementById("PlanDetails_Chart")).dispose(),document.getElementById("PlanDetails_Chart").style.width=0,document.getElementById("PlanDetails_Chart").style.height=0,0!==Yt.length){var t=le();!function(t){for(var a=["#C5D8FF","#FFBFBE","#B6F4B5","#FFEBC7"],i=0;i<t.length;i++){var l="";l+="<td style='text-align:center; width: 58px;'>"+t[i][0]+"</td>";for(var r=1;r<9;r++)l+="<td style='text-align:center; width: 58px;'>",l+=e(60*t[i][r]),l+="</td>";l+="<td style='text-align:center;'>"+n(t[i][9])+"</td>",document.getElementById("PlanDetails_Mission_"+(i+1)).innerHTML=l,document.getElementById("PlanDetails_Mission_"+(i+1)).style.backgroundColor=a[i]}}(t),function(t){var n="";n+="<td style='text-align:center; width: 58px;'id='PlanDetails_PerHour_title'>"+C.JS.PerHour+"</td>";for(var a=1;a<9;a++){n+="<td style='text-align:center; width: 58px;'>";for(var i=0,l=0;l<t.length;l++)i+=t[l][a];n+=e(60*i),n+="</td>"}n+="Anytime"!==at?"<td></td>":"<td id='PlanDetails_AnytimeMinIntervalTime'>"+C.JS.MinIntervalTime+"</td>";document.getElementById("PlanDetails_PerHour").innerHTML=n}(t);var a=Wt();a.setTime(!1);var i=a.TotalTime;re(t,i,k()),oe(t,i)}}function ee(){var t;switch(at){case"Anytime":t=C.HTML.Tab_Anytime_name;break;case"Timetable":t=C.HTML.Tab_Timetable_name}document.getElementById("PlanDetails_ShownTab").innerHTML=C.JS.PlanDetails_calculateMethod+": "+t}function ne(){var t=Wt();t.setTime(!1);var e=t.TotalTime;document.getElementById("PlanDetails_TotalTime").innerHTML=C.JS.total_time+": "+n(e)}function ae(){var t=_();document.getElementById("PlanDetails_GreatSuccessRate").innerHTML=C.JS.total_greatSuccessRate+": "+t+"%"}function ie(){var t=k();document.getElementById("PlanDetails_ExecutionTimes").innerHTML=C.JS.ExecutionTimes+": "+t}function le(){for(var t=[],e=Yt.slice().sort(Jt),n=Kt,a=0;a<e.length;a++){for(var i,l=0;l<n.length;l++)if(e[a]===n[l][0]){i=l;break}t.push(n[i])}return t}function re(t,a,i){for(var l="<td style='text-align:center; width: 58px;'id='PlanDetails_Total_title'>"+C.JS.Total+"</td>",r=1;r<9;r++){l+="<td style='text-align:center; width: 58px;'>";for(var o=0,s=0;s<t.length;s++)o+=t[s][r];l+=e(o*a*i),l+="</td>"}if("Anytime"!==at)l+="<td></td>";else{for(var u=[],d=0;d<t.length;d++)u.push(t[d][10]);Q(u,0);for(d=u.length;d<4;d++)u.push([u[0][u[0].length-1]]);l+="<td>"+n((new Lt)._calculateIntervalTimeMin(u))+"</td>"}document.getElementById("PlanDetails_Total").innerHTML=l}function oe(t,e){if(!(e>4320)){document.getElementById("PlanDetails_Chart").style.width="580px",document.getElementById("PlanDetails_Chart").style.height="120px";for(var n=echarts.init(document.getElementById("PlanDetails_Chart")),i=[],l=[],r=[],o=[],s=[],u=["#A1C0FF","#FF8C8A","#75d874","#FFDA93"],d=t.length-1;d>=0;d--)i.push(t[d][0]),l.push(t[d][9]),r.push(t[d][10]),o.push(t[d][10].length),s.push({name:t[d][0],color:u[d]});var _=[],c=void 0;c=e<=960?60:e<=1920?120:e<=2880?180:e<=3840?240:300;var h=A();echarts.util.each(["0","1","2","3"],function(t,e){for(var n,a=0;a<o[t];a++){var i=s[t],u=l[t];_.push({name:i.name,value:[e,n=r[t][a]-u,n+=u-1,u-1],itemStyle:{normal:{color:i.color}}}),_.push({name:"none",value:[e,n=r[t][a]-1,n+=1,1],itemStyle:{normal:{color:"#000000"}}})}});var T={title:{show:!1},grid:{left:35,right:20,top:5,bottom:20,height:"auto"},xAxis:{min:0,scale:!0,axisLabel:{formatter:function(t){return a(t+h)}},max:e,interval:c},yAxis:{data:i},series:[{type:"custom",renderItem:se,itemStyle:{normal:{opacity:.8}},encode:{x:[1,2],y:0},data:_}],animation:!1,backgroundColor:"#FFFFFF"};n.setOption(T)}}function se(t,e){var n=e.value(0),a=e.coord([e.value(1),n]),i=e.coord([e.value(2),n]),l=.5*e.size([0,1])[1],r=echarts.graphic.clipRectByRect({x:a[0],y:a[1]-l/2,width:i[0]-a[0],height:l},{x:t.coordSys.x,y:t.coordSys.y,width:t.coordSys.width,height:t.coordSys.height});return r&&{type:"rect",shape:r,style:e.style()}}var ue=[];function de(t){0===t&&(document.getElementById("NoSaved").style.display="none");var e="";e+='<tr id="SavedTable_row_'+t+'"',e+='><td><button type="button" class="btn btn-default"id="SavedTable_apply_'+t+'" title="'+C.HTMLJS.SavedTable_apply+'" style="background-color: #88E063;">',e+='<span class="glyphicon glyphicon-ok"style="top: 2px;" /></button></td><td><div class="form-group input-group" style="margin-bottom: 0px;">',e+='<input type="text" class="form-control" style="min-width: 140px;"id="SavedTable_name_'+t+'" placeholder="'+C.HTMLJS.SavedTable_name+'"',e+='value="'+ue[t].data[0]+'"readonly="readonly">',e+='<div class="input-group-btn"><button type="button" class="btn btn-default"id="SavedTable_rename_'+t+'" title="'+C.HTMLJS.SavedTable_rename+'"><span class="glyphicon glyphicon-pencil"style="top: 2px;" /></button></div>',e+="</div></td>",e+='<td><div class="btn-group" style="min-width: 80px;"><button type="button" class="btn btn-default"id="SavedTable_up_'+t+'"" title="'+C.HTMLJS.SavedTable_up+'"',0===t&&(e+='disabled="disabled"'),e+=">",e+='<span class="glyphicon glyphicon-arrow-up"style="top: 2px;" /></button>',e+='<button type="button" class="btn btn-default"id="SavedTable_down_'+t+'" title="'+C.HTMLJS.SavedTable_down+'"',t===ue.length-1&&(e+='disabled="disabled"'),e+='><span class="glyphicon glyphicon-arrow-down"style="top: 2px;" /></button></div></td>',e+='<td><button type="button" class="btn btn-default"id="SavedTable_export_'+t+'" title="'+C.HTMLJS.SavedTable_export+'"><span class="glyphicon glyphicon-export"style="top: 2px;" /></button></td>',e+='<td><button type="button" class="btn btn-default"id="SavedTable_delete_'+t+'" title="'+C.HTMLJS.SavedTable_delete+'" style="background-color: #F48380;"><span class="glyphicon glyphicon-trash"style="top: 2px;" /></button></td></tr>',$("#Saved_Body").append(e),0!==t&&$("#SavedTable_down_"+(t-1)).removeAttr("disabled")}function _e(t){var e=!0;if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]){var n=ue[t].data[0],a=C.JS.deleteSavedWarning_1+'"'+n+'"'+C.JS.deleteSavedWarning_2;e=confirm(a)}if(e){for(var i=t;i<ue.length-1;i++)$("#SavedTable_name_"+i).val(ue[i+1].data[0]);var l=document.getElementById("SavedTable_row_"+(ue.length-1));document.getElementById("Saved_Body").removeChild(l),ue.splice(t,1),H("SAVED",ue),0!==ue.length?($("#SavedTable_up_0").attr("disabled","true"),$("#SavedTable_down_"+(ue.length-1)).attr("disabled","true")):document.getElementById("NoSaved").style.display=""}}