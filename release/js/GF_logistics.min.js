/**
 * [GF_logistics]{@link https://github.com/CHANTXU64/Girls-Frontline}
 *
 * @namespace GF_logistics
 * @author ChantXu64 [chantxu@outlook.com]
 * @copyright ChantXu64
 * @license MIT
 */
 
"use strict";function t(t,e){var n=t.lastIndexOf("_");return void 0===e?t.slice(n+1):t.slice(n+1,e)}function e(t){return t>100?Math.round(t):t>10?Math.round(10*t)/10:Math.round(100*t)/100}function n(t){var e=parseInt(t/60),n=t%60;return(n+"").length<2&&(n="0"+n),e+":"+n}function a(t){return n(t%1440)}function i(t){return!!(""===t||isNaN(t)||t<0||"Infinity"===t)}function l(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=void 0;return n=i(t.val())?0:parseFloat(t.val()),e&&t.val(n),n}Array.prototype.remove=function(t){for(var e=0;e<this.length;)this[e]===t?this.splice(e,1):e++},Array.prototype.remove_First=function(t){for(var e=0;e<this.length;){if(this[e]===t){this.splice(e,1);break}e++}};var r=["15","15","15","15","15","15","15","15","15","15","15","15","15","15","15","15 / 16","15 / 16","16","16","16 / 17","17","17 / 18","17 / 18","17 / 18","18 / 19","18 / 19","19","19","19 / 20","20","20 / 21","20 / 21","20 / 21","21 / 22","21 / 22","22","22","22 / 23","23","23 / 24","23 / 24","23 / 24","24 / 25","24 / 25","25","25","25 / 26","26","26 / 27","26 / 27","26 / 27","27 / 28","27 / 28","28","28","28 / 29","29","29 / 30","29 / 30","29 / 30","30 / 31","30 / 31","31","31","31 / 21","32","32 / 33","32 / 33","32","31"];function o(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=$("#GreatSuccessRate"),n=e.val();return n=i(n)||n<15?15:n>69?69:Math.round(n),t&&e.val(n),n}function s(t){$("#GreatSuccessRate").val(t),wt(_()),J("GreatSuccessRate",t)}function u(){return!!document.getElementById("GreatSuccessRateUp").checked}function d(t){return u()?parseInt(r[t].substr(0,2)):0}function _(){var t=o(arguments.length>0&&void 0!==arguments[0]&&arguments[0]);return t+d(t)}function c(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=document.getElementById("GreatSuccessRateUp"),a=document.getElementById("Display_UPRate");if(!1===t)n.checked=!1,a.innerHTML="";else{n.checked=!0;var i=o(e);a.innerHTML="+"+r[i]}wt(_()),J("is_GreatSuccessRateUP",t)}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[$("#MT"),$("#AT"),$("#RT"),$("#PT"),$("#TT"),$("#ET"),$("#QPT"),$("#QRT")],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Array.isArray(t)?function(t,e){for(var n=[],a=0;a<t.length;a++)n.push(l(t[a],e));return n}(t,e):function(t,e){return l(t,e)}(t,e)}function T(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,0,0,0,0,0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[$("#MT"),$("#AT"),$("#RT"),$("#PT"),$("#TT"),$("#ET"),$("#QPT"),$("#QRT")];Array.isArray(t)?function(t,e){for(var n=0;n<t.length;n++)m(t[n],e[n])}(t,e):m(t,e),J("TargetValue",h())}function m(t,e){t<0?e.val(0):e.val(Math.round(100*t)/100)}function b(){return parseInt($("#ContractWeight").val())}function g(){return parseInt($("#ChapterLimit").val())}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;$("#ChapterLimit").val(t),null===$("#ChapterLimit").val()&&$("#ChapterLimit").val(12),J("SelectChapter",g())}function v(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return 60*function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return l($("#Time_Anytime_hours"),t)}(t)+function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return l($("#Time_Anytime_minutes"),t)}(t)}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:960,e=t%60;!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16;$("#Time_Anytime_hours").val(t)}(parseInt(t/60)),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;$("#Time_Anytime_minutes").val(t)}(e)}function y(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return l($("#Tab_Anytime_MinimumIntervalTime_minutes"),t)}function S(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return 60*function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return l($("#Time_Timetable_hours"),t)}(t)+function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return l($("#Time_Timetable_minutes"),t)}(t)}function P(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300;(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(document.getElementById("Tab_Timetable_range_tooltip_0_value").innerHTML=n(t));var e=t%60;!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;$("#Time_Timetable_hours").val(t)}(parseInt(t/60)),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;$("#Time_Timetable_minutes").val(t)}(e)}function M(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return 60*function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=l($("#Tab_Timetable_new_hours"),t);return t&&$("#Tab_Timetable_new_hours").val(""),e}(t)+function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=l($("#Tab_Timetable_new_minutes"),t);return t&&$("#Tab_Timetable_new_minutes").val(""),e}(t)}function w(){var t=$("#PlanDetails_InputStartTime").val(),e=parseFloat(t.substr(0,2));if(isNaN(e))return 0;var n=parseFloat(t.substr(3,2));return isNaN(n)&&(n=0),60*e+n}function x(t){var e=a(t);2!==e.indexOf(":")&&(e="0"+e),$("#PlanDetails_InputStartTime").val(e)}function A(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=$("#PlanDetails_InputExecutionTimes"),n=e.val();return n=i(n)||n<1?1:n>999?999:Math.round(n),t&&e.val(n),n}function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var I,C=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;k(this,t),this.start=e,this.end=n};function R(t){var e=new Array(t.length),n=0;for(e[n++]=new C(0,t.length-1);n;){var a=e[--n];if(!(a.start>=a.end)){for(var i=t[a.end],l=a.start,r=a.end-1;l<r;){for(;t[l]>i&&l<r;)l++;for(;t[r]<=i&&l<r;)r--;var o=[t[r],t[l]];t[l]=o[0],t[r]=o[1]}if(t[l]<=t[a.end]){var s=[t[a.end],t[l]];t[l]=s[0],t[a.end]=s[1]}else l++;e[n++]=new C(a.start,l-1),e[n++]=new C(l+1,a.end)}}}function E(t,e){var n=new Array(t.length),a=0;for(n[a++]=new C(0,t.length-1);a;){var i=n[--a];if(!(i.start>=i.end)){for(var l=t[i.end][e],r=i.start,o=i.end-1;r<o;){for(;t[r][e]>l&&r<o;)r++;for(;t[o][e]<=l&&r<o;)o--;var s=[t[o],t[r]];t[r]=s[0],t[o]=s[1]}if(t[r][e]<=t[i.end][e]){var u=[t[i.end],t[r]];t[r]=u[0],t[i.end]=u[1]}else r++;n[a++]=new C(i.start,r-1),n[a++]=new C(r+1,i.end)}}}function L(t,e){var n=new Array(t.length),a=0;for(n[a++]=new C(0,t.length-1);a;){var i=n[--a];if(!(i.start>=i.end)){for(var l=t[i.end][e],r=i.start,o=i.end-1;r<o;){for(;t[r][e]<l&&r<o;)r++;for(;t[o][e]>=l&&r<o;)o--;var s=[t[o],t[r]];t[r]=s[0],t[o]=s[1]}if(t[r][e]>=t[i.end][e]){var u=[t[i.end],t[r]];t[r]=u[0],t[i.end]=u[1]}else r++;n[a++]=new C(i.start,r-1),n[a++]=new C(r+1,i.end)}}}var Q,D={"zh-CN":{lang:"zh-Hans",title:"少女前线-后勤组合排序器",HTML:{header:"后勤组合排序器 ",Config_text:"全局数据",description_text:"计算结果只和资源（或契约）之间的比例有关。计算结果为均值。",neverShowAgain_description:"[&times;]<u>不再显示</u>",localstorageDoesNotWork:"因某些原因，Web存储无法工作，需要手动导出配置",localstorageWarning_text:"网页使用Web存储，清除浏览器缓存会导致数据清除，请定期手动导出并保存你的数据。",neverShowAgain_localstorageWarning:"[&times;]<u>不再显示</u>",setting:"设置",Tab_Anytime_name:"随时能收后勤",Tab_Timetable_name:"时间计划表",tab_Anytime_time:"后勤总时长",tab_Anytime_hour:"小时",tab_Anytime_minute:"分钟",tab_Anytime_MinimumIntervalTime:"最短间隔时间",tab_Anytime_MinimumIntervalTime_minute:"分钟",tab_Timetable_time:"后勤总时长",tab_Timetable_hour:"小时",tab_Timetable_minute:"分钟",tab_Timetable_addtimeh5:"新添加一个收取后勤时间点:",tab_Timetable_new_hour:"小时",tab_Timetable_new_minute:"分钟",h4GreatSuccessRate:"后勤队伍平均大成功概率",GreatSuccessRateUp_text:"后勤大成功UP",h4ChapterLimit:"关卡解锁",chapter6:"第六战役",chapter7:"第七战役",chapter8:"第八战役",chapter9:"第九战役",chapter10:"第十战役",chapter11:"第十一战役",chapter12:"第十二战役",Display_PerHour_text:"以每小时显示",Display_Total_text:"以总计显示",ContractWeight_notImportant:"契约不重要",ContractWeight_Important:"契约重要",start_sorting:"开始排序",clear_sorting:"清除排序结果",result:"排序结果",Manp:"人力",Ammu:"弹药",Rati:"口粮",Part:"零件",TPro:"人形",Equi:"装备",QPro:"快建",QRes:"快修",setTarget_HG:"手枪HG",setTarget_SMG:"冲锋枪SMG",setTarget_RF:"步枪RF",setTarget_AR:"突击步枪AR",setTarget_MG:"机枪MG",setTarget_SG:"霰弹枪SG",setTarget_2221:"均衡",setTarget_Clear:"清零",MissionTableTitle:"关卡",MissionTable_head_Mission:"关卡",MissionTable_head_Manp:"人力",MissionTable_head_Ammu:"弹药",MissionTable_head_Rati:"口粮",MissionTable_head_Part:"零件",MissionTable_head_TPro:"人形",MissionTable_head_Equi:"装备",MissionTable_head_QPro:"快建",MissionTable_head_QRes:"快修",MissionTable_head_Time:"时间",PlanDetailsTitle:"方案详情",PlanDetails_Mission:"关卡",PlanDetails_Manp:"人力",PlanDetails_Ammu:"弹药",PlanDetails_Rati:"口粮",PlanDetails_Part:"零件",PlanDetails_TPro:"人形",PlanDetails_Equi:"装备",PlanDetails_QPro:"快建",PlanDetails_QRes:"快修",PlanDetails_Time:"时间",savePlan:"保存方案",Capture:"捕获",PlanDetails_InputStartTime_label:"后勤开始时间",PlanDetails_InputExecutionTimes_label:"后勤执行次数",Saved_Title:"已保存的",NoSaved:"空",start_sorting_html:'点击 <span style="color:#165399">开始排序</span> 按钮，排序前十六的结果将在这里显示',permanentAddress:"永久地址: "},HTMLJS:{placeholder:{Config_importInput:"要导入的数据",Time_Anytime_hours:"总时长小时数",Time_Anytime_minutes:"总时长分钟数",Tab_Anytime_MinimumIntervalTime_minutes:"最小时间间隔分钟数",Time_Timetable_hours:"总时长小时数",Time_Timetable_minutes:"总时长分钟数",Tab_Timetable_new_hours:"新时间点小时数",Tab_Timetable_new_minutes:"新时间点分钟数",GreatSuccessRate:"大成功基础概率",MT:"人力需求量",AT:"弹药需求量",RT:"口粮需求量",PT:"零件需求量",TT:"人形需求量",ET:"装备需求量",QPT:"快建需求量",QRT:"快修需求量",importSaved_input:"要导入的数据",PlanDetails_InputExecutionTimes:"执行次数"},title:{Config_importButton:"导入全局数据",Config_export:"导出全局数据",tab_Timetable_deleteall:"删除全部时间点",Tab_Timetable_AddNewTimePoint:"添加一个收取后勤时间点",ChapterLimit:"最大已解锁的战役章节",ContractWeight:"契约权重",Target_minus_100_MT:"人力需求量减少100",Target_minus_10_MT:"人力需求量减少10",Target_plus_10_MT:"人力需求量增加10",Target_plus_100_MT:"人力需求量增加100",Target_minus_100_AT:"弹药需求量减少100",Target_minus_10_AT:"弹药需求量减少10",Target_plus_10_AT:"弹药需求量增加10",Target_plus_100_AT:"弹药需求量增加100",Target_minus_100_RT:"口粮需求量减少100",Target_minus_10_RT:"口粮需求量减少10",Target_plus_10_RT:"口粮需求量增加10",Target_plus_100_RT:"口粮需求量增加100",Target_minus_100_PT:"零件需求量减少100",Target_minus_10_PT:"零件需求量减少10",Target_plus_10_PT:"零件需求量增加10",Target_plus_100_PT:"零件需求量增加100",Target_minus_1_TT:"人形需求量减少1","Target_minus_0.1_TT":"人形需求量减少0.1","Target_plus_0.1_TT":"人形需求量增加0.1",Target_plus_1_TT:"人形需求量增加1",Target_minus_1_ET:"装备需求量减少1","Target_minus_0.1_ET":"装备需求量减少0.1","Target_plus_0.1_ET":"装备需求量增加0.1",Target_plus_1_ET:"装备需求量增加1",Target_minus_1_QPT:"快建需求量减少1","Target_minus_0.1_QPT":"快建需求量减少0.1","Target_plus_0.1_QPT":"快建需求量增加0.1",Target_plus_1_QPT:"快建需求量增加1",Target_minus_1_QRT:"快修需求量减少1","Target_minus_0.1_QRT":"快修需求量减少0.1","Target_plus_0.1_QRT":"快修需求量增加0.1",Target_plus_1_QRT:"快修需求量增加1",importSaved_importButton:"导入数据"},Demand_hour:"平均每小时需求量",Demand_total:"总需求量",Timetable_deletePoint:"删除这个时间点",SavedTable_apply:"应用方案",SavedTable_name:"方案名称",SavedTable_rename:"重命名方案",SavedTable_up:"往上移动",SavedTable_down:"往下移动",SavedTable_export:"导出方案",SavedTable_delete:"删除方案",FineTuning_minus:"减小需求量",FineTuning_plus:"增大需求量"},JS:{Manp:"人力",Ammu:"弹药",Rati:"口粮",Part:"零件",TPro:"人形",Equi:"装备",QPro:"快建",QRes:"快修",FineTuningTool:"微调工具",TargetValue0_alert:"需求不能全为0！",tab_Anytime_alert1:"总时长不能为0！",tab_Timetable_alert1:"不需要在后勤开始点再添加收取时间点",tab_Timetable_alert2:"添加的收取时间点不能超过最大时限",tab_Timetable_alert3:"已经添加过这个收取时间点",tab_Timetable_alert4:"总时长不能为0！",Mission:"关卡",MinIntervalTime:"最短间隔",NoPlan:"没有合适的方案",NoMission:"没有可用的关卡",Time:"时间",PlanDetails_calculateMethod:"计算方式",total_time:"总时长",total_greatSuccessRate:"大成功总概率",PerHour:"平均/h",Total:"总计",ExecutionTimes:"执行次数",plzInputPlanName:"请输入方案名称",planDefaultName:"自定义",deleteSavedWarning_1:"是否要删除这个名为",deleteSavedWarning_2:"的配置？",Saved_alert:"导入的数据有问题！",config_alert:"这将会覆盖现有所有的数据，是否要继续？"}},"zh-TW":{lang:"zh-Hant",title:"少女前線-後勤組合排序器",HTML:{header:"後勤組合排序器 ",Config_text:"全局數據",description_text:"計算結果只和資源（或契約）之間的比例有關。計算結果為期望值。",neverShowAgain_description:"[&times;]<u>不再顯示</u>",localstorageDoesNotWork:"因某些原因，Web存儲無法工作，需要手動導出配置",localstorageWarning_text:"網頁使用Web存儲，清除瀏覽器緩存會導致數據清除，請定期手動導出並保存你的數據。",neverShowAgain_localstorageWarning:"[&times;]<u>不再顯示</u>",setting:"設置",Tab_Anytime_name:"隨時能收後勤",Tab_Timetable_name:"時間計劃表",tab_Anytime_time:"後勤總時長",tab_Anytime_hour:"小時",tab_Anytime_minute:"分鐘",tab_Anytime_MinimumIntervalTime:"最短間隔時間",tab_Anytime_MinimumIntervalTime_minute:"分鐘",tab_Timetable_time:"後勤總時長",tab_Timetable_hour:"小時",tab_Timetable_minute:"分鐘",tab_Timetable_addtimeh5:"新添加一個收取後勤時間點:",tab_Timetable_new_hour:"小時",tab_Timetable_new_minute:"分鐘",h4GreatSuccessRate:"後勤隊伍平均大成功概率",GreatSuccessRateUp_text:"後勤大成功UP",h4ChapterLimit:"關卡解鎖",chapter6:"第六戰役",chapter7:"第七戰役",chapter8:"第八戰役",chapter9:"第九戰役",chapter10:"第十戰役",chapter11:"第十一戰役",chapter12:"第十二戰役",Display_PerHour_text:"以每小時顯示",Display_Total_text:"以總計顯示",ContractWeight_notImportant:"契約不重要",ContractWeight_Important:"契約重要",start_sorting:"開始排序",clear_sorting:"清除排序結果",result:"排序結果",Manp:"人力",Ammu:"彈藥",Rati:"口糧",Part:"零件",TPro:"人形",Equi:"裝備",QPro:"快建",QRes:"快修",setTarget_HG:"手槍HG",setTarget_SMG:"衝鋒槍SMG",setTarget_RF:"步槍RF",setTarget_AR:"突擊步槍AR",setTarget_MG:"機槍MG",setTarget_SG:"霰彈槍SG",setTarget_2221:"均衡",setTarget_Clear:"清零",MissionTableTitle:"關卡",MissionTable_head_Mission:"關卡",MissionTable_head_Manp:"人力",MissionTable_head_Ammu:"彈藥",MissionTable_head_Rati:"口糧",MissionTable_head_Part:"零件",MissionTable_head_TPro:"人形",MissionTable_head_Equi:"裝備",MissionTable_head_QPro:"快建",MissionTable_head_QRes:"快修",MissionTable_head_Time:"時間",PlanDetailsTitle:"方案詳情",PlanDetails_Mission:"關卡",PlanDetails_Manp:"人力",PlanDetails_Ammu:"彈藥",PlanDetails_Rati:"口糧",PlanDetails_Part:"零件",PlanDetails_TPro:"人形",PlanDetails_Equi:"裝備",PlanDetails_QPro:"快建",PlanDetails_QRes:"快修",PlanDetails_Time:"時間",savePlan:"保存方案",Capture:"捕獲",PlanDetails_InputStartTime_label:"後勤開始時間",PlanDetails_InputExecutionTimes_label:"執行次數",Saved_Title:"已保存的",NoSaved:"空",start_sorting_html:'點擊 <span style="color:#165399">開始排序</span> 按鈕，排序前十六的結果將在這裡顯示',permanentAddress:"永久地址: "},HTMLJS:{placeholder:{Config_importInput:"要導入的數據",Time_Anytime_hours:"總時長小時數",Time_Anytime_minutes:"總時長分鐘數",Tab_Anytime_MinimumIntervalTime_minutes:"最小時間間隔分鐘數",Time_Timetable_hours:"總時長小時數",Time_Timetable_minutes:"總時長分鐘數",Tab_Timetable_new_hours:"新時間點小時數",Tab_Timetable_new_minutes:"新時間點分鐘數",GreatSuccessRate:"大成功基礎概率",MT:"人力需求量",AT:"彈藥需求量",RT:"口糧需求量",PT:"零件需求量",TT:"人形需求量",ET:"裝備需求量",QPT:"快建需求量",QRT:"快修需求量",importSaved_input:"要導入的數據",PlanDetails_InputExecutionTimes:"後勤執行次數"},title:{Config_importButton:"導入全局數據",Config_export:"導出全局數據",tab_Timetable_deleteall:"刪除全部時間點",Tab_Timetable_AddNewTimePoint:"添加一個收取後勤時間點",ChapterLimit:"最大已解鎖的戰役章節",ContractWeight:"契約權重",Target_minus_100_MT:"人力需求量減少100",Target_minus_10_MT:"人力需求量減少10",Target_plus_10_MT:"人力需求量增加10",Target_plus_100_MT:"人力需求量增加100",Target_minus_100_AT:"彈藥需求量減少100",Target_minus_10_AT:"彈藥需求量減少10",Target_plus_10_AT:"彈藥需求量增加10",Target_plus_100_AT:"彈藥需求量增加100",Target_minus_100_RT:"口糧需求量減少100",Target_minus_10_RT:"口糧需求量減少10",Target_plus_10_RT:"口糧需求量增加10",Target_plus_100_RT:"口糧需求量增加100",Target_minus_100_PT:"零件需求量減少100",Target_minus_10_PT:"零件需求量減少10",Target_plus_10_PT:"零件需求量增加10",Target_plus_100_PT:"零件需求量增加100",Target_minus_1_TT:"人形需求量減少1","Target_minus_0.1_TT":"人形需求量減少0.1","Target_plus_0.1_TT":"人形需求量增加0.1",Target_plus_1_TT:"人形需求量增加1",Target_minus_1_ET:"裝備需求量減少1","Target_minus_0.1_ET":"裝備需求量減少0.1","Target_plus_0.1_ET":"装备需求量增加0.1",Target_plus_1_ET:"装备需求量增加1",Target_minus_1_QPT:"快建需求量減少1","Target_minus_0.1_QPT":"快建需求量減少0.1","Target_plus_0.1_QPT":"快建需求量增加0.1",Target_plus_1_QPT:"快建需求量增加1",Target_minus_1_QRT:"快修需求量減少1","Target_minus_0.1_QRT":"快修需求量減少0.1","Target_plus_0.1_QRT":"快修需求量增加0.1",Target_plus_1_QRT:"快修需求量增加1",importSaved_importButton:"導入數據"},Demand_hour:"平均每小時需求量",Demand_total:"總需求量",Timetable_deletePoint:"刪除這個時間點",SavedTable_apply:"應用方案",SavedTable_name:"方案名稱",SavedTable_rename:"重命名方案",SavedTable_up:"往上移動",SavedTable_down:"往下移動",SavedTable_export:"導出方案",SavedTable_delete:"刪除方案",FineTuning_minus:"減小需求量",FineTuning_plus:"增大需求量"},JS:{Manp:"人力",Ammu:"彈藥",Rati:"口糧",Part:"零件",TPro:"人形",Equi:"裝備",QPro:"快建",QRes:"快修",FineTuningTool:"微調工具",TargetValue0_alert:"需求不能全為0！",tab_Anytime_alert1:"總時長不能為0！",tab_Timetable_alert1:"不需要在後勤開始點再添加收取時間點",tab_Timetable_alert2:"添加的收取時間點不能超過最大時限",tab_Timetable_alert3:"已經添加過這個收取時間點",tab_Timetable_alert4:"總時長不能為0！",Mission:"關卡",MinIntervalTime:"最短間隔",NoPlan:"沒有合適的方案",NoMission:"沒有可用的關卡",Time:"時間",PlanDetails_calculateMethod:"計算方式",total_time:"總時長",total_greatSuccessRate:"大成功總概率",PerHour:"平均/h",Total:"總計",ExecutionTimes:"執行次數",plzInputPlanName:"請輸入方案名稱",planDefaultName:"自定義",deleteSavedWarning_1:"是否要刪除這個名為",deleteSavedWarning_2:"的配置？",Saved_alert:"導入的數據有問題！",config_alert:"這將會覆蓋現有所有的數據，是否要繼續？"}}};function B(){!0!==(Q=function(){try{localStorage.setItem("test_Dlz3bH","KwNYPCpyH7yl2S1K");var t="KwNYPCpyH7yl2S1K"==localStorage.getItem("test_Dlz3bH");return localStorage.removeItem("test_Dlz3bH"),t}catch(t){}}())?(Q=!1,document.getElementById("localstorageWarning").style.display="none",document.getElementById("neverShowAgain_description").style.display="none"):document.getElementById("localstorageDoesNotWork").style.display="none"}function J(t,e){if(Q){var n=localStorage.getItem("GF_Logistics");null===(n=JSON.parse(n))&&(n={}),n[t]=e,n=JSON.stringify(n),localStorage.setItem("GF_Logistics",n)}}function H(t){if(Q){var e=localStorage.getItem("GF_Logistics");if(null===e)return"noStorage";var n=(e=JSON.parse(e))[t];return void 0===n?"noStorage":n}return"noStorage"}function V(){!function(){!1===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:H("Description_Display"))&&(document.getElementById("description").style.display="none")}(),function(){!1===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:H("LocalstorageWarning_Display"))&&(document.getElementById("localstorageWarning").style.display="none")}(),N(),F(),G(),W(),O(),z(),q(),U(),X(),j(),function(){!0===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:H("IsSavedShow"))&&(0===oe.length?J("IsSavedShow",!1):(document.getElementById("MissionTable_panel").style.transition="none",document.getElementById("Saved").style.transition="none",$("#Saved").collapse("show"),$("#MissionTable_panel").collapse("hide")))}()}function N(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H("HTML_TAB");"Timetable"===t?(gt=!0,at(t)):(gt=!0,at("Anytime"))}function F(){if("PerHour"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:H("PerHourOrTotal")))J("PerHourOrTotal","PerHour"),Vt=60,document.getElementById("Display_PerHour").checked=!0;else{J("PerHourOrTotal","Total");var t=Nt();t.setTime(),Vt=t.TotalTime,document.getElementById("Display_Total").checked=!0}}function G(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H("TabAnytimeCustom");"noStorage"!==t&&(new Rt).ApplySaved_Custom(t)}function W(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H("TabTimetableCustom");"noStorage"!==t&&(new Et).ApplySaved_Custom(t)}function O(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H("GreatSuccessRate");"noStorage"!==t&&s(t)}function z(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H("is_GreatSuccessRateUP");"noStorage"!==t&&c(t,!1)}function q(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H("SelectChapter");"noStorage"!==t&&p(t)}function U(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H("ContractWeight");"noStorage"!==t&&function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;$("#ContractWeight").val(t);var e=b();document.getElementById("ContractWeight_range").style.right=100-e+"%",document.getElementById("ContractWeight_thumb").style.left=e+"%",J("ContractWeight",e)}(t)}function X(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H("TargetValue");"noStorage"!==t&&T(t)}function j(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H("SAVED");"noStorage"!==t&&function(t){for(;0!==oe.length;)ue(0,!1);for(var e=0;e<t.length;e++){if(md5(JSON.stringify(t[e].data))!==t[e].MD5)return!1;oe.push(t[e]),J("SAVED",oe),se(oe.length-1)}}(t)}function K(t){var e=!0;if(0!==oe.length&&(e=confirm(I.JS.config_alert)),!0===e){try{var n=JSON.parse(t),a=sha1(JSON.stringify(n.data))===n.SHA1}catch(t){}var i;a?(N((i=n.data)[0]),F(i[1]),G(i[2]),W(i[3]),O(i[4]),z(i[5]),q(i[6]),U(i[7]),X(i[8]),j(i[9]),wt(_()),jt=[],Kt(),Yt()):alert(I.JS.Saved_alert)}}function Y(){for(var t in document.documentElement.lang=I.lang,document.title=I.title,I.HTML)$("#"+t).html(I.HTML[t]);for(var e in bt(),Tt(),I.HTMLJS.placeholder)document.getElementById(e).placeholder=I.HTMLJS.placeholder[e];for(var n in I.HTMLJS.title)document.getElementById(n).title=I.HTMLJS.title[n];$("button[id^=Tab_Timetable_range_thumb_]").attr("title",I.HTMLJS.Timetable_deletePoint),$("button[id^=SavedTable_apply_]").attr("title",I.HTMLJS.SavedTable_apply),$("input[id^=SavedTable_name_]").attr("placeholder",I.HTMLJS.SavedTable_name),$("button[id^=SavedTable_rename_]").attr("title",I.HTMLJS.SavedTable_rename),$("button[id^=SavedTable_up_]").attr("title",I.HTMLJS.SavedTable_up),$("button[id^=SavedTable_down_]").attr("title",I.HTMLJS.SavedTable_down),$("button[id^=SavedTable_export_]").attr("title",I.HTMLJS.SavedTable_export),$("button[id^=SavedTable_delete_]").attr("title",I.HTMLJS.SavedTable_delete),Zt(),te(),ee(),$("#PlanDetails_PerHour_title").html(I.JS.PerHour),$("#PlanDetails_Total_title").html(I.JS.Total),$("#PlanDetails_AnytimeMinIntervalTime").html(I.JS.MinIntervalTime),it()?$("#Demand").html(I.HTMLJS.Demand_hour):$("#Demand").html(I.HTMLJS.Demand_total)}function Z(){$("button[id^=Target_plus_10_]").attr("style","display:none;"),$("button[id^=Target_plus_0]").attr("style","display:none;"),$("button[id^=Target_minus_10_]").attr("style","display:none;"),$("button[id^=Target_minus_0]").attr("style","display:none;")}function tt(t){switch(t){case"zh-CN":J("lang","zh-CN"),I=D["zh-CN"];break;case"zh-TW":J("lang","zh-TW"),I=D["zh-TW"]}Y()}function et(){for(var t=navigator.userAgent,e=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"),n=!1,a=0;a<e.length;a++)if(t.indexOf(e[a])>0){n=!0;break}return n}window.onload=function(){B(),function(){var t=H("lang");"noStorage"===t&&(t=navigator.language||navigator.userLanguage);if("zh"===t.substr(0,2))switch(t){case"zh-HK":case"zh-TW":case"zh-MO":I=D["zh-TW"],J("lang","zh-TW");break;default:I=D["zh-CN"],J("lang","zh-CN")}else I=D["zh-CN"],J("lang","zh-CN")}(),function(){var t="";t+='<button type="button" class="btn btn-default"id="setTarget_HG" style="margin-right: 5px; margin-bottom: 5px;"></button>',t+='<button type="button" class="btn btn-default"id="setTarget_SMG" style="margin-right: 5px; margin-bottom: 5px;"></button>',t+='<button type="button" class="btn btn-default"id="setTarget_RF" style="margin-right: 5px; margin-bottom: 5px;"></button>',t+='<button type="button" class="btn btn-default"id="setTarget_AR" style="margin-right: 5px; margin-bottom: 5px;"></button>',t+='<button type="button" class="btn btn-default"id="setTarget_MG" style="margin-right: 5px; margin-bottom: 5px;"></button>',t+='<button type="button" class="btn btn-default"id="setTarget_SG" style="margin-right: 5px; margin-bottom: 5px;"></button>',t+='<button type="button" class="btn btn-default"id="setTarget_2221" style="margin-right: 5px; margin-bottom: 5px;"></button>',t+='<button type="button" class="btn btn-danger"id="setTarget_Clear" style="margin-right: 5px; margin-bottom: 5px;"></button>',document.getElementById("setTargetButton").innerHTML=t,t="";for(var e=["Manp","Ammu","Rati","Part","TPro","Equi","QPro","QRes"],n=["MT","AT","RT","PT","TT","ET","QPT","QRT"],a=0;a<4;a++)t+='<div class="form-group input-group"style="margin-bottom: 10px;"><span class="input-group-addon"style="padding-right:10px;padding-left:10px;cursor:default;"',t+="id="+e[a]+">",t+='</span><div class="input-group-btn"><button class="btn btn-default"type="button"id="Target_minus_100_'+n[a]+'"style="padding-right:10px;padding-left:10px;border-radius:0;"tabindex=-1>',t+='<b>&minus;</b></button><button class="btn btn-default"type="button"id="Target_minus_10_'+n[a]+'"style="padding-right:10px;padding-left:10px;border-radius:0;"tabindex=-1>',t+='&minus;</button></div><input type="number" pattern="d*" min="0"class="form-control"id="',t+=n[a],t+='"value=0 onclick="this.select()"style="border-left-width:0"><div class="input-group-btn"><button class="btn btn-default"type="button"id="Target_plus_10_'+n[a]+'"style="padding-right:10px;padding-left:10px;"tabindex=-1>',t+='+</button><button class="btn btn-default"type="button"id="Target_plus_100_'+n[a]+'"style="padding-right:10px;padding-left:10px;"tabindex=-1>',t+="<b>&plus;</b></button></div></div>";for(a=4;a<8;a++)t+='<div class="form-group input-group"style="margin-bottom: 10px;"><span class="input-group-addon"style="padding-right:10px;padding-left:10px;cursor:default;"',t+="id="+e[a]+">",t+='</span><div class="input-group-btn"><button class="btn btn-default"id="Target_minus_1_'+n[a]+'"type="button"style="padding-right:10px;padding-left:10px;border-radius:0;"tabindex=-1>',t+='<b>&minus;</b></button><button class="btn btn-default"type="button"id="Target_minus_0.1_'+n[a]+'"style="padding-right:10px;padding-left:10px;border-radius:0;"tabindex=-1>',t+='&minus;</button></div><input type="number" pattern="d*" min="0" step="0.01" class="form-control"id="',t+=n[a],t+='"value=0 onclick="this.select()"style="border-left-width:0"><div class="input-group-btn"><button class="btn btn-default"type="button"id="Target_plus_0.1_'+n[a]+'"style="padding-right:10px;padding-left:10px;"tabindex=-1>',t+='+</button><button class="btn btn-default"type="button"id="Target_plus_1_'+n[a]+'"style="padding-right:10px;padding-left:10px;"tabindex=-1>',t+="<b>&plus;</b></button></div></div>";document.getElementById("setTargetInput").innerHTML=t}(),V(),wt(_(!0)),Kt(),Yt(),Y(),et()&&(document.getElementById("Saved").style.transition="none",document.getElementById("MissionTable_panel").style.transition="none"),document.getElementById("setTargetInput").clientWidth<=260&&Z()},$(window).resize(function(){document.getElementById("setTargetInput").clientWidth<=260?Z():($("button[id^=Target_plus_10_]").attr("style","padding-right:10px;padding-left:10px;border-radius:0;"),$("button[id^=Target_plus_0]").attr("style","padding-right:10px;padding-left:10px;border-radius:0;"),$("button[id^=Target_minus_10_]").attr("style","padding-right:10px;padding-left:10px;border-radius:0;"),$("button[id^=Target_minus_0]").attr("style","padding-right:10px;padding-left:10px;border-radius:0;"))}),$(function(){$("[data-toggle='tooltip']").tooltip()});var nt=void 0;function at(t){switch(t){case"Anytime":"Anytime"!==nt&&void 0!==nt||(gt=!1),$("[href=#Tab_Anytime]").tab("show");break;case"Timetable":"Timetable"!==nt&&void 0!==nt||(gt=!1),$("[href=#Tab_Timetable]").tab("show")}J("HTML_TAB",nt=t)}function it(){return!!document.getElementById("Display_PerHour").checked}function lt(){J("PerHourOrTotal","PerHour"),$("#Demand").html(I.HTMLJS.Demand_hour);var t=Nt();t.setTime(),Vt=60;for(var e=t.TotalTime,n=h(),a=0;a<8;a++)n[a]=Math.round(n[a]/e*6e3)/100;T(n),Kt();var i=document.getElementById("Plan_Table").innerHTML;""!==i&&i!==I.JS.NoPlan&&Bt(!1,Jt,Vt)}function rt(){J("PerHourOrTotal","Total"),$("#Demand").html(I.HTMLJS.Demand_total);var t=Nt();t.setTime(),Vt=t.TotalTime;for(var e=t.TotalTime,n=h(),a=0;a<8;a++)n[a]=Math.round(n[a]*e*100/60)/100;T(n),Kt();var i=document.getElementById("Plan_Table").innerHTML;""!==i&&i!==I.JS.NoPlan&&Bt(!1,Jt,Vt)}var ot=[];function st(t){ot.push(t);var e=t/S()*100+"%";!function(t,e){var n='<button class="slider-button" id="Tab_Timetable_range_thumb_'+t+'"';n+='style="left:'+e+';" title="'+I.HTMLJS.Timetable_deletePoint+'">',n+='<span class="glyphicon glyphicon-remove-circle" style="font-size: 22px;"></span></button>',$("#Tab_Timetable_range").append(n)}(t,e),function(t,e){var a='<div id="Tab_Timetable_range_tooltip_'+t+'"';ot.indexOf(t)%2==0?(a+='class="tooltip top custom-tooltip"',a+='style="left:'+e+'; top:-32px; margin-left: -15px; cursor: default;">'):(a+='class="tooltip bottom custom-tooltip"',a+='style="left:'+e+'; top:12px; margin-left: -15px; cursor: default;">');a+='<div class="tooltip-arrow"></div><div class="tooltip-inner">',a+=n(t)+"</div></div>",$("#Tab_Timetable_range").append(a)}(t,e)}function ut(t){ot.remove_First(t);var e="Tab_Timetable_range_thumb_"+t,n="Tab_Timetable_range_tooltip_"+t,a=document.getElementById(e),i=document.getElementById(n),l=document.getElementById("Tab_Timetable_range");l.removeChild(a),l.removeChild(i),0===ot.length&&_t()}function dt(){for(var t=ot.length,e=0;e<t;e++)ut(ot[0])}function _t(){$("#Time_Timetable_hours").removeAttr("disabled"),$("#Time_Timetable_minutes").removeAttr("disabled")}function ct(){$("#Time_Timetable_hours").attr("disabled","true"),$("#Time_Timetable_minutes").attr("disabled","true")}function ht(e){var n=t(e),a=e.indexOf(n),i=e.slice(0,a-1),l=parseFloat(t(i));"m"===i.slice(7,8)&&(l*=-1),T(h($("#"+n),!1)+l,$("#"+n))}function Tt(){$("#Time_Anytime_hours").removeAttr("disabled"),$("#Time_Anytime_minutes").removeAttr("disabled"),$("#Tab_Anytime_MinimumIntervalTime_minutes").removeAttr("disabled"),0===ot.length&&($("#Time_Timetable_hours").removeAttr("disabled"),$("#Time_Timetable_minutes").removeAttr("disabled")),$("#tab_Timetable_deleteall").removeAttr("disabled"),$("button[id^=Tab_Timetable_range_thumb_]").removeAttr("disabled"),$("#Tab_Timetable_new_hours").removeAttr("disabled"),$("#Tab_Timetable_new_minutes").removeAttr("disabled"),$("#Tab_Timetable_AddNewTimePoint").removeAttr("disabled"),$("#GreatSuccessRate").removeAttr("disabled"),$("#GreatSuccessRateUp").removeAttr("disabled"),document.getElementById("GreatSuccessRateUp_text").style.cursor="pointer",document.getElementById("GreatSuccessRateUp_label").style.cursor="pointer",$("#ChapterLimit").removeAttr("disabled"),$("#ContractWeight").removeAttr("disabled"),document.getElementById("ContractWeight_thumb").style.backgroundColor="rgb(112, 166, 236)",$("button[id^=setTarget_]").removeAttr("disabled"),$("#MT").removeAttr("disabled"),$("#AT").removeAttr("disabled"),$("#RT").removeAttr("disabled"),$("#PT").removeAttr("disabled"),$("#TT").removeAttr("disabled"),$("#ET").removeAttr("disabled"),$("#QPT").removeAttr("disabled"),$("#QRT").removeAttr("disabled"),$("button[id^=Target_minus_]").removeAttr("disabled"),$("button[id^=Target_plus_]").removeAttr("disabled"),$("#start_sorting").removeAttr("disabled"),$("#clear_sorting").attr("disabled","true")}function mt(t){"ascending"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"descending")?(L(Jt,t),Bt(!1,Jt,Vt)):(E(Jt,t),Bt(!1,Jt,Vt))}function bt(){document.getElementById("start_sorting_html").style.display="",document.getElementById("Plan_Table").innerHTML=""}$(function(){$("#lang-zh-CN").on("click",function(){tt("zh-CN")}),$("#lang-zh-TW").on("click",function(){tt("zh-TW")})}),$(function(){$("#neverShowAgain_description").on("click",function(){J("Description_Display",!1),document.getElementById("description").style.display="none"}),$("#neverShowAgain_localstorageWarning").on("click",function(){J("LocalstorageWarning_Display",!1),document.getElementById("localstorageWarning").style.display="none"})});var gt=!1;function pt(){J("TabAnytimeCustom",(new Rt).Saved_Custom())}function vt(){var t=S();t>4320&&(t=4320,P(4320)),P(t),it()||(Vt=t),Kt(),Yt()}function ft(){J("TabTimetableCustom",(new Et).Saved_Custom())}function yt(){var t=M(),e=S();switch(!0){case 0===t:alert(I.JS.tab_Timetable_alert1);break;case t>e:alert(I.JS.tab_Timetable_alert2);break;case t===e||-1!==ot.indexOf(t):alert(I.JS.tab_Timetable_alert3);break;default:st(t)}0===ot.length?_t():ct(),Kt(),Yt(),ft()}function St(){J("TargetValue",h())}function Pt(e){var n=parseInt(t(e.id));if("success"!=e.className){for(var a=0;a<Jt.length;a++)document.getElementById("print_result_plan_tr_"+a).className="";e.className="success",function(t){for(var e=Xt.length,n=Xt,a=0;a<e;a++)document.getElementById("MissionTable_"+a).className="";for(var i=[],a=0;a<4;a++)i.push(Jt[t][a+1]);jt=i,Yt();for(var a=0;a<4;a++)for(var l=0;l<e;l++)if(n[l][0]===i[a]){document.getElementById("MissionTable_"+l).className="success";break}}(n)}else e.className=""}function $t(e){var n=parseInt(t(e.id));"success"===e.className?function(t){var e=Xt[t][0],n=jt.indexOf(e);jt.splice(n,1),document.getElementById("MissionTable_"+t).className="",Yt()}(n):function(t){if(4===jt.length){var e,n=jt[0];jt.shift();for(var a=0;a<Xt.length;a++)if(n===Xt[a][0]){e=a;break}document.getElementById("MissionTable_"+e).className=""}var i=Xt[t][0];jt.push(i),document.getElementById("MissionTable_"+t).className="success",Yt()}(n)}$(function(){$("[href=#Tab_Anytime]").on("shown.bs.tab",function(){gt?gt=!1:function(){if(J("HTML_TAB",nt="Anytime"),bt(),Tt(),!it()){var t=Nt();t.setTime(!1),Vt=t.TotalTime}Kt(),Yt()}()}),$("[href=#Tab_Timetable]").on("shown.bs.tab",function(){gt?gt=!1:function(){if(J("HTML_TAB",nt="Timetable"),bt(),Tt(),!it()){var t=Nt();t.setTime(!1),Vt=t.TotalTime}Kt(),Yt()}()})}),$(function(){$("input[id^=Display_]").on("click",function(){it()?lt():rt()}),$("#Display_PerHour_text").on("keyup",function(t){13==t.which&&(document.getElementById("Display_PerHour").checked=!0,lt())}),$("#Display_Total_text").on("keyup",function(t){13==t.which&&(document.getElementById("Display_Total").checked=!0,rt())})}),$(function(){$("#GreatSuccessRate").on("input propertychange",function(){var t=o();c(u(),!1),wt(t+d(t)),Kt(),Yt()}),$("#GreatSuccessRate").blur(function(){J("GreatSuccessRate",o())}),$("#GreatSuccessRateUp").on("click",function(){var t=u();c(t),wt(_(!0)),Kt(),Yt(),J("is_GreatSuccessRateUP",t)})}),$(function(){$("#ChapterLimit").on("change",function(){Kt(),Yt(),J("SelectChapter",g())})}),$(function(){$("#Time_Anytime_hours").on("input propertychange",function(){if(v()>4320&&f(4320),!it()){var t=v();Vt=t}Kt(),Yt()}),$("#Time_Anytime_hours").blur(function(){pt()}),$("#Time_Anytime_minutes").on("input propertychange",function(){if(v()>4320&&f(4320),!it()){var t=v();Vt=t}Kt(),Yt()}),$("#Time_Anytime_minutes").blur(function(){pt()}),$("#Tab_Anytime_MinimumIntervalTime_minutes").on("input propertychange",function(){Kt(),Yt()}),$("#Tab_Anytime_MinimumIntervalTime_minutes").blur(function(){pt()})}),$(function(){$("#Time_Timetable_hours").on("input propertychange",function(){vt()}),$("#Time_Timetable_hours").blur(function(){ft()}),$("#Time_Timetable_minutes").on("input propertychange",function(){vt()}),$("#Time_Timetable_minutes").blur(function(){ft()}),$("#Tab_Timetable_new_hours").keyup(function(t){13==t.which&&$("#Tab_Timetable_new_minutes").focus()}),$("#Tab_Timetable_new_minutes").keyup(function(t){13==t.which&&(""!==$("#Tab_Timetable_new_hours").val()&&$("#Tab_Timetable_new_hours").focus(),yt())}),$("#Tab_Timetable_AddNewTimePoint").on("click",function(){yt()}),$("#Tab_Timetable_range").on("click","button[id^=Tab_Timetable_range_thumb_]",function(){ut(parseFloat(t(this.id))),Kt(),Yt(),ft()}),$("#tab_Timetable_deleteall").on("click",function(){dt(),Kt(),Yt(),ft()})}),$(function(){$("#ContractWeight").change(function(){J("ContractWeight",b())})}),$(function(){$("#target").on("click","button[id^=setTarget_]",function(){!function(t){switch(t){case"HG":T([130,130,130,130,0,0,0,0]);break;case"SMG":T([430,430,130,230,0,0,0,0]);break;case"RF":T([430,130,430,230,0,0,0,0]);break;case"AR":T([130,430,430,130,0,0,0,0]);break;case"MG":T([730,630,130,430,0,0,0,0]);break;case"SG":T([800,200,800,400,0,0,0,0]);break;case"2221":T([400,400,400,200,0,0,0,0]);break;case"Clear":T()}}(t(this.id))}),$("#target").on("click","button[id^=Target_minus_]",function(){ht(this.id)}),$("#target").on("click","button[id^=Target_plus_]",function(){ht(this.id)})}),$(function(){$("#target").on("blur","#MT",function(){St()}),$("#target").on("keyup","#MT",function(t){13==t.which&&$("#AT").focus()}),$("#target").on("blur","#AT",function(){St()}),$("#target").on("keyup","#AT",function(t){13==t.which&&$("#RT").focus()}),$("#target").on("blur","#RT",function(){St()}),$("#target").on("keyup","#RT",function(t){13==t.which&&$("#PT").focus()}),$("#target").on("blur","#PT",function(){St()}),$("#target").on("keyup","#PT",function(t){13==t.which&&$("#TT").focus()}),$("#target").on("blur","#TT",function(){St()}),$("#target").on("keyup","#TT",function(t){13==t.which&&$("#ET").focus()}),$("#target").on("blur","#ET",function(){St()}),$("#target").on("keyup","#ET",function(t){13==t.which&&$("#QPT").focus()}),$("#target").on("blur","#QPT",function(){St()}),$("#target").on("keyup","#QPT",function(t){13==t.which&&$("#QRT").focus()}),$("#target").on("blur","#QRT",function(){St()})}),$(function(){$("#start_sorting").on("click",function(){!function(){$("#Time_Anytime_hours").attr("disabled","true"),$("#Time_Anytime_minutes").attr("disabled","true"),$("#Tab_Anytime_MinimumIntervalTime_minutes").attr("disabled","true"),$("#Time_Timetable_hours").attr("disabled","true"),$("#Time_Timetable_minutes").attr("disabled","true"),$("#tab_Timetable_deleteall").attr("disabled","true"),$("button[id^=Tab_Timetable_range_thumb_]").attr("disabled","true"),$("#Tab_Timetable_new_hours").attr("disabled","true"),$("#Tab_Timetable_new_minutes").attr("disabled","true"),$("#Tab_Timetable_AddNewTimePoint").attr("disabled","true"),$("#GreatSuccessRate").attr("disabled","true"),$("#GreatSuccessRateUp").attr("disabled","true"),document.getElementById("GreatSuccessRateUp_text").style.cursor="not-allowed",document.getElementById("GreatSuccessRateUp_label").style.cursor="not-allowed",$("#ChapterLimit").attr("disabled","true"),$("#ContractWeight").attr("disabled","true"),document.getElementById("ContractWeight_thumb").style.backgroundColor="#CCC",$("button[id^=setTarget_]").attr("disabled","true"),$("#MT").attr("disabled","true"),$("#AT").attr("disabled","true"),$("#RT").attr("disabled","true"),$("#PT").attr("disabled","true"),$("#TT").attr("disabled","true"),$("#ET").attr("disabled","true"),$("#QPT").attr("disabled","true"),$("#QRT").attr("disabled","true"),$("button[id^=Target_minus_]").attr("disabled","true"),$("button[id^=Target_plus_]").attr("disabled","true"),$("#start_sorting").attr("disabled","true"),$("#clear_sorting").removeAttr("disabled");var t=Nt();t.setTime();var e=t.setValidQAndReturnLengthAndSetCurrentMax(),n=new Qt(t,8);if(e>38){for(var a=0;a<e-3;a++)for(var i=a+1;i<e-2;i++)for(var l=i+1;l<e-1;l++)for(var r=l+1;r<e;r++)n.CalculateAndPush_Standardization_And_CalculateMissionsValue([a,i,l,r]);for(var o=new Array(e),s=0;s<e;s++)o[s]=[s,t.Qvalid[s][11]];E(o,1),o.splice(0,38),E(o,0);for(var s=0;s<o.length;s++)t.Qvalid.splice(o[s][0],1),e--}else for(var a=0;a<e-3;a++)for(var i=a+1;i<e-2;i++)for(var l=i+1;l<e-1;l++)for(var r=l+1;r<e;r++)n.CalculateAndPush_Standardization([a,i,l,r]);for(var u=function(t){var e=function(t){var e=new Array(8);e.fill(0);var n=new Array(8);n.fill(t.length);for(var a=0;a<8;a++)for(var i=0;i<t.length;i++)e[a]+=t[i][a+4],0==t[i][a+4]&&n[a]--;for(var a=0;a<8;a++)0==n[a]?e[a]=0:e[a]/=n[a];return e}(t.List),n=e.slice(0,4);n.class="Resource";var a=e.slice(4,8);a.class="Contract";for(var i=Ft(n,t),l=Ft(a,t),r=0;r<4;r++)e[r]=0!=i?t.TargetValue_html[r]/i:0;for(var r=4;r<8;r++)e[r]=0!=l?t.TargetValue_html[r]/l:0;return e}(n),s=0;s<8;s++)u[s]/=t.CurrentValue_MAX[s];(function(t){for(var e=0;e<8;e++)Ot[e]=t[e],zt[e]=t[e]})(u),function(t){qt=t}(t),t.normalizedQValid(),n=new Qt(t,16,u);for(var a=0;a<e-3;a++)for(var i=a+1;i<e-2;i++)for(var l=i+1;l<e-1;l++)for(var r=l+1;r<e;r++)n.CalculateAndPush([a,i,l,r]);n.print(!1)}()}),$("#clear_sorting").on("click",function(){bt(),Tt()})}),$(function(){$("#Plan_Table").on("shown.bs.collapse","#FineTuningTool",function(){et()||(document.getElementById("FineTuningTool").style.transition="")})}),$(function(){$("#Plan_Table").on("click","tr[id^=print_result_plan_tr_]",function(){Pt(this)}),$("#Plan_Table").on("keyup","tr[id^=print_result_plan_tr_]",function(t){13==t.which&&Pt(this)})}),$(function(){$("#Plan_Table").on("click","#resultPlan_Mission",function(){Ht="Ranking",mt(0,"ascending")}),$("#Plan_Table").on("keyup","#resultPlan_Mission",function(t){13==t.which&&(Ht="Ranking",mt(0,"ascending"))}),$("#Plan_Table").on("click","#resultPlan_Manp",function(){Ht="Manp",mt(5)}),$("#Plan_Table").on("keyup","#resultPlan_Manp",function(t){13==t.which&&(Ht="Manp",mt(5))}),$("#Plan_Table").on("click","#resultPlan_Ammu",function(){Ht="Ammu",mt(6)}),$("#Plan_Table").on("keyup","#resultPlan_Ammu",function(t){13==t.which&&(Ht="Ammu",mt(6))}),$("#Plan_Table").on("click","#resultPlan_Rati",function(){Ht="Rati",mt(7)}),$("#Plan_Table").on("keyup","#resultPlan_Rati",function(t){13==t.which&&(Ht="Rati",mt(7))}),$("#Plan_Table").on("click","#resultPlan_Part",function(){Ht="Part",mt(8)}),$("#Plan_Table").on("keyup","#resultPlan_Part",function(t){13==t.which&&(Ht="Part",mt(8))}),$("#Plan_Table").on("click","#resultPlan_TPro",function(){Ht="TPro",mt(9)}),$("#Plan_Table").on("keyup","#resultPlan_TPro",function(t){13==t.which&&(Ht="TPro",mt(9))}),$("#Plan_Table").on("click","#resultPlan_Equi",function(){Ht="Equi",mt(10)}),$("#Plan_Table").on("keyup","#resultPlan_Equi",function(t){13==t.which&&(Ht="Equi",mt(10))}),$("#Plan_Table").on("click","#resultPlan_QPro",function(){Ht="QPro",mt(11)}),$("#Plan_Table").on("keyup","#resultPlan_QPro",function(t){13==t.which&&(Ht="QPro",mt(11))}),$("#Plan_Table").on("click","#resultPlan_QRes",function(){Ht="QRes",mt(12)}),$("#Plan_Table").on("keyup","#resultPlan_QRes",function(t){13==t.which&&(Ht="QRes",mt(12))})}),$(function(){$("#Plan_Table").on("click","button[id^=FineTuning_minus_]",function(){Ut(-1,t(this.id))}),$("#Plan_Table").on("click","button[id^=FineTuning_plus_]",function(){Ut(1,t(this.id))})}),$(function(){$("#Saved_heading").on("keyup",function(t){13==t.which&&("false"===$("#Saved_heading").attr("aria-expanded")?($("#MissionTable_panel").collapse("hide"),$("#Saved").collapse("show")):$("#Saved").collapse("hide"))}),$("#Saved_heading").on("click",function(){"false"===$("#Saved_heading").attr("aria-expanded")?($("#MissionTable_panel").collapse("hide"),$("#Saved").collapse("show")):$("#Saved").collapse("hide")}),$("#importSaved_importButton").on("click",function(){!function(t){try{var e=JSON.parse(t),n=md5(JSON.stringify(e.data)),a=n===e.MD5}catch(t){}a?(oe.push(e),J("SAVED",oe),se(oe.length-1)):alert(I.JS.Saved_alert)}($("#importSaved_input").val()),$("#importSaved_input").val("")}),$("#Saved_Body").on("click","button[id^=SavedTable_apply_]",function(){!function(t){var e=oe[t].data,n=e[1];gt=!0,at(n),s(e[2]),c(e[3]),p(e[4]);var a=Nt();a.ApplySaved_Custom(e[5]),jt=e[6].slice(),void 0!==e[7]?x(e[7]):x(0);bt(),Tt(),it()||(a.setTime(!1),Vt=a.TotalTime);Kt(),Yt()}(parseInt(t(this.id)))}),$("#Saved_Body").on("input propertychange","input[id^=SavedTable_name_]",function(){var e,n;e=parseInt(t(this.id)),n=$("#SavedTable_name_"+e).val(),oe[e].data[0]=n,oe[e].MD5=md5(JSON.stringify(oe[e].data)),J("SAVED",oe)}),$("#Saved_Body").on("keyup","input[id^=SavedTable_name_]",function(t){if(13==t.which){var e="#"+this.id;$(e).attr("readOnly",!0)}}),$("#Saved_Body").on("blur","input[id^=SavedTable_name_]",function(){var t="#"+this.id;$(t).attr("readOnly",!0)}),$("#Saved_Body").on("click","button[id^=SavedTable_rename_]",function(){var e="#SavedTable_name_"+parseInt(t(this.id));$(e).attr("readOnly",!1),$(e).focus(),$(e).select()}),$("#Saved_Body").on("click","button[id^=SavedTable_up_]",function(){!function(t){$("#SavedTable_name_"+t).val(oe[t-1].data[0]),$("#SavedTable_name_"+(t-1)).val(oe[t].data[0]);var e=[oe[t-1],oe[t]];oe[t]=e[0],oe[t-1]=e[1],J("SAVED",oe)}(parseInt(t(this.id)))}),$("#Saved_Body").on("click","button[id^=SavedTable_down_]",function(){!function(t){$("#SavedTable_name_"+t).val(oe[t+1].data[0]),$("#SavedTable_name_"+(t+1)).val(oe[t].data[0]);var e=[oe[t+1],oe[t]];oe[t]=e[0],oe[t+1]=e[1],J("SAVED",oe)}(parseInt(t(this.id)))}),$("#Saved_Body").on("click","button[id^=SavedTable_export_]",function(){var e,n;e=parseInt(t(this.id)),n=JSON.stringify(oe[e]),prompt("export",n)}),$("#Saved_Body").on("click","button[id^=SavedTable_delete_]",function(){ue(parseInt(t(this.id)))})}),$(function(){$("#MissionTable_heading").on("keyup",function(t){13==t.which&&("false"===$("#MissionTable_panel").attr("aria-expanded")?($("#MissionTable_panel").collapse("show"),$("#Saved").collapse("hide")):$("#MissionTable_panel").collapse("hide"))}),$("#MissionTable_heading").on("click",function(){"false"===$("#MissionTable_panel").attr("aria-expanded")?($("#MissionTable_panel").collapse("show"),$("#Saved").collapse("hide")):$("#MissionTable_panel").collapse("hide")}),$("#MissionTable_head_Mission").on("click",function(){L(Xt,12),Kt(!1)}),$("#MissionTable_head_Mission").on("keyup",function(t){13==t.which&&(L(Xt,12),Kt(!1))}),$("#MissionTable_head_Manp").on("click",function(){E(Xt,1),Kt(!1)}),$("#MissionTable_head_Manp").on("keyup",function(t){13==t.which&&(E(Xt,1),Kt(!1))}),$("#MissionTable_head_Ammu").on("click",function(){E(Xt,2),Kt(!1)}),$("#MissionTable_head_Ammu").on("keyup",function(t){13==t.which&&(E(Xt,2),Kt(!1))}),$("#MissionTable_head_Rati").on("click",function(){E(Xt,3),Kt(!1)}),$("#MissionTable_head_Rati").on("keyup",function(t){13==t.which&&(E(Xt,3),Kt(!1))}),$("#MissionTable_head_Part").on("click",function(){E(Xt,4),Kt(!1)}),$("#MissionTable_head_Part").on("keyup",function(t){13==t.which&&(E(Xt,4),Kt(!1))}),$("#MissionTable_head_TPro").on("click",function(){E(Xt,5),Kt(!1)}),$("#MissionTable_head_TPro").on("keyup",function(t){13==t.which&&(E(Xt,5),Kt(!1))}),$("#MissionTable_head_Equi").on("click",function(){E(Xt,6),Kt(!1)}),$("#MissionTable_head_Equi").on("keyup",function(t){13==t.which&&(E(Xt,6),Kt(!1))}),$("#MissionTable_head_QPro").on("click",function(){E(Xt,7),Kt(!1)}),$("#MissionTable_head_QPro").on("keyup",function(t){13==t.which&&(E(Xt,7),Kt(!1))}),$("#MissionTable_head_QRes").on("click",function(){E(Xt,8),Kt(!1)}),$("#MissionTable_head_QRes").on("keyup",function(t){13==t.which&&(E(Xt,8),Kt(!1))}),$("#MissionTable_head_Time").on("click",function(){L(Xt,9),Kt(!1)}),$("#MissionTable_head_Time").on("keyup",function(t){13==t.which&&(L(Xt,9),Kt(!1))}),$("#MissionTable_panel").on("click","tr[id^=MissionTable_]",function(){$t(this)}),$("#MissionTable_panel").on("keyup","tr[id^=MissionTable_]",function(t){13==t.which&&$t(this)})}),$(function(){$("#MissionTable_panel").on("shown.bs.collapse",function(){J("IsSavedShow",!1)}),$("#MissionTable_panel").on("hidden.bs.collapse",function(){et()||(document.getElementById("MissionTable_panel").style.transition="")}),$("#Saved").on("shown.bs.collapse",function(){J("IsSavedShow",!0),et()||(document.getElementById("Saved").style.transition="")})}),$(function(){$("#savePlan").on("click",function(){!function(){var t=prompt(I.JS.plzInputPlanName,I.JS.planDefaultName);if(null==t)return;""==t&&(t=I.JS.planDefaultName);var e=o(),n=u(),a=g(),i=[],l=Nt().Saved_Custom(),r=jt.slice(),s=w();i.push(t),i.push(nt),i.push(e),i.push(n),i.push(a),i.push(l),i.push(r),i.push(s);var d={data:[],MD5:""};d.data=i,d.MD5=md5(JSON.stringify(i)),oe.push(d),J("SAVED",oe),se(oe.length-1)}()}),$("#Capture").on("click",function(){html2canvas(document.getElementById("PlanDetails"),{logging:!1,scale:1}).then(function(t){var e=document.createElement("a");e.href=t.toDataURL(),e.download="Capture.png",document.body.appendChild(e),e.click(),document.body.removeChild(e)})}),$("#PlanDetails_InputStartTime").on("input propertychange",function(){if(0!==jt.length){var t=ae(),e=Nt();e.setTime(!1),le(t,e.TotalTime)}}),$("#PlanDetails_InputExecutionTimes").on("input propertychange",function(){ne();var t=ae(),e=Nt();e.setTime(!1),ie(t,e.TotalTime,A())})}),$(function(){$("#Config_export").on("click",function(){!function(){var t=[];t.push(nt),it()?t.push("PerHour"):t.push("Total");var e=new Rt;t.push(e.Saved_Custom()),e=new Et,t.push(e.Saved_Custom()),t.push(o()),t.push(u()),t.push(g()),t.push(b()),t.push(h()),t.push(oe);var n=sha1(JSON.stringify(t)),a={data:[],SHA1:""};a.data=t,a.SHA1=n,prompt("export",JSON.stringify(a))}()}),$("#Config_importButton").on("click",function(){K($("#Config_importInput").val()),$("#Config_importInput").val("")})});var Mt=[["0-1",0,145,145,0,0,0,0,0,50],["0-2",550,0,0,350,0,0,0,0,180],["0-3",900,900,900,250,0,0,0,0,720],["0-4",0,1200,800,750,0,0,0,0,1440],["1-1",10,30,15,0,0,0,0,0,15],["1-2",0,40,60,0,0,0,0,0,30],["1-3",30,0,30,10,0,0,0,0,60],["1-4",160,160,0,0,0,0,0,0,120],["2-1",100,0,0,30,0,0,0,0,40],["2-2",60,200,80,0,0,0,0,0,90],["2-3",10,10,10,230,0,0,0,0,240],["2-4",0,250,600,60,0,0,0,0,360],["3-1",50,0,75,0,0,0,0,0,20],["3-2",0,120,70,30,0,0,0,0,45],["3-3",0,300,0,0,0,0,0,0,90],["3-4",0,0,300,300,0,0,0,0,300],["4-1",0,185,185,0,0,0,0,0,60],["4-2",0,0,0,210,0,0,0,0,120],["4-3",800,550,0,0,0,0,0,0,360],["4-4",400,400,400,150,0,0,0,0,480],["5-1",0,0,100,45,0,0,0,0,30],["5-2",0,600,300,0,0,0,0,0,150],["5-3",800,400,400,0,0,0,0,0,240],["5-4",100,0,0,700,0,0,0,0,420],["6-1",300,300,0,100,0,0,0,0,120],["6-2",0,200,550,100,0,0,0,0,180],["6-3",0,0,200,500,0,0,0,0,300],["6-4",800,800,800,0,0,0,0,0,720],["7-1",650,0,650,0,0,0,0,0,150],["7-2",0,650,0,300,0,0,0,0,240],["7-3",900,600,600,0,0,0,0,0,330],["7-4",250,250,250,600,0,0,0,0,480],["8-1",150,150,150,0,0,0,0,0,60],["8-2",0,0,0,450,0,0,0,0,180],["8-3",400,800,800,0,0,0,0,0,360],["8-4",1500,400,400,100,0,0,0,0,540],["9-1",0,0,100,50,0,0,0,0,30],["9-2",180,0,180,100,0,0,0,0,90],["9-3",750,750,0,0,0,0,0,0,270],["9-4",500,900,900,0,0,0,0,0,420],["10-1",140,200,0,0,0,0,0,0,40],["10-2",0,240,180,0,0,0,0,0,100],["10-3",0,480,480,300,0,0,0,0,320],["10-4",660,660,660,330,0,0,0,0,600],["11-1",350,1050,0,0,0,0,0,0,240],["11-2",360,540,540,0,0,0,0,0,240],["11-3",0,750,1500,250,0,0,0,0,480],["11-4",0,1650,0,900,0,0,0,0,600],["12-1",0,220,220,0,0,0,0,0,60],["12-2",360,0,0,120,0,0,0,0,90],["12-3",800,1200,1200,0,0,0,0,0,540],["12-4",1800,0,1800,0,0,0,0,0,720]];function wt(t){var e=t/100;Mt[1][5]=xt(50,50,e),Mt[7][5]=xt(20,20,e),Mt[11][5]=xt(80,80,e),Mt[15][5]=xt(40,80,e),Mt[18][5]=.7,Mt[23][5]=xt(40,40,e),Mt[29][5]=.6,Mt[35][5]=xt(90,90,e),Mt[38][5]=xt(70,70,e),Mt[41][5]=.75,Mt[44][5]=.5,Mt[45][5]=1,Mt[51][5]=1,Mt[2][6]=xt(40,80,e),Mt[15][6]=xt(40,80,e),Mt[16][6]=xt(20,20,e),Mt[22][6]=xt(50,50,e),Mt[26][6]=xt(60,60,e),Mt[30][6]=xt(70,70,e),Mt[32][6]=xt(40,40,e),Mt[39][6]=1,Mt[43][6]=xt(50,50,e),Mt[44][6]=.5,Mt[48][6]=xt(60,60,e),Mt[0][7]=xt(20,70,e),Mt[10][7]=.5,Mt[14][7]=xt(40,85,e),Mt[17][7]=xt(50,50,e),Mt[19][7]=1,Mt[25][7]=xt(20,70,e),Mt[31][7]=xt(80,80,e),Mt[34][7]=xt(60,90,e),Mt[37][7]=xt(25,25,e),Mt[41][7]=.25,Mt[42][7]=xt(30,80,e),Mt[47][7]=1,Mt[50][7]=1,Mt[0][8]=xt(50,70,e),Mt[2][8]=xt(40,80,e),Mt[6][8]=xt(60,60,e),Mt[9][8]=xt(30,30,e),Mt[10][8]=.5,Mt[14][8]=xt(45,85,e),Mt[18][8]=.3,Mt[21][8]=xt(80,80,e),Mt[25][8]=xt(50,70,e),Mt[29][8]=.4,Mt[33][8]=xt(80,80,e),Mt[34][8]=xt(30,90,e),Mt[42][8]=xt(50,80,e),Mt[46][8]=xt(50,50,e)}function xt(t,e,n){return t/100+(t/e-t/100)*n}var At=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}();function kt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function It(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Ct=function(){function t(){k(this,t),this._title='<thead><tr style="cursor: pointer;"><th style="text-align: center;width:20%;" colspan="4" tabindex="0" id="resultPlan_Mission">'+I.JS.Mission+"</th>",this._titleEnd="</tr></thead>",this.Qvalid=[]}return At(t,[{key:"setTime",value:function(){}},{key:"setValidQAndReturnLengthAndSetCurrentMax",value:function(){}},{key:"_setCurrentMax",value:function(){for(var t=new Array(8),e=0;e<8;e++){for(var n=new Array(this.Qvalid.length),a=0;a<this.Qvalid.length;a++)n[a]=this.Qvalid[a][e+1];R(n),t[e]=n[0]+n[1]+n[2]+n[3]}this.CurrentValue_MAX=t}},{key:"normalizedQValid",value:function(){for(var t=0;t<this.Qvalid.length;t++)for(var e=0;e<8;e++)0!=this.CurrentValue_MAX[e]&&(this.Qvalid[t][e+1]/=this.CurrentValue_MAX[e])}},{key:"_getUnableLogistic",value:function(){var t=function(){var t;switch(g()){case 6:t=["7-1","7-2","7-3","7-4","8-1","8-2","8-3","8-4","9-1","9-2","9-3","9-4","10-1","10-2","10-3","10-4","11-1","11-2","11-3","11-4","12-1","12-2","12-3","12-4"];break;case 7:t=["8-1","8-2","8-3","8-4","9-1","9-2","9-3","9-4","10-1","10-2","10-3","10-4","11-1","11-2","11-3","11-4","12-1","12-2","12-3","12-4"];break;case 8:t=["9-1","9-2","9-3","9-4","10-1","10-2","10-3","10-4","11-1","11-2","11-3","11-4","12-1","12-2","12-3","12-4"];break;case 9:t=["10-1","10-2","10-3","10-4","11-1","11-2","11-3","11-4","12-1","12-2","12-3","12-4"];break;case 10:t=["11-1","11-2","11-3","11-4","12-1","12-2","12-3","12-4"];break;case 11:t=["12-1","12-2","12-3","12-4"];break;case 12:t=[];break;default:t=[]}for(var e=[],n=0;n<Mt.length;n++)-1!=t.indexOf(Mt[n][0])&&e.push(n);return e}();return this._setUnableLogisticCustomize(t)}},{key:"_setUnableLogisticCustomize",value:function(t){for(var e=0;e<Mt.length;e++)Mt[e][9]>this.TotalTime&&-1==t.indexOf(e)&&t.push(e);return t}},{key:"Calculate_Current",value:function(t){for(var e=new Array(8),n=this.Qvalid,a=0;a<8;a++)e[a]=n[t[0]][a+1]+n[t[1]][a+1]+n[t[2]][a+1]+n[t[3]][a+1];return e}},{key:"PrintPlanTableTitle",value:function(){}},{key:"PrintTableCustomize",value:function(t,e){return""}},{key:"Saved_Custom",value:function(){return[]}},{key:"ApplySaved_Custom",value:function(t){}}]),t}();var Rt=function(t){function e(){return k(this,e),kt(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return It(e,Ct),At(e,[{key:"setTime",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.TotalTime=v(t),t&&0===this.TotalTime)throw alert(I.JS.tab_Anytime_alert1),Tt(),"--";this.MinimumIntervalTime=y(t)}},{key:"setValidQAndReturnLengthAndSetCurrentMax",value:function(){for(var t=this._getUnableLogistic(),e=0;e<Mt.length;e++)if(-1==t.indexOf(e)){var n=[];n.push(Mt[e][0]);for(var a=0;(++a+1)*Mt[e][9]<=this.TotalTime;);for(var i=1;i<9;i++)n.push(Mt[e][i]*a/this.TotalTime);n.push(Mt[e][9]);var l=[];for(i=1;i<=a;i++)l.push(Mt[e][9]*i);n.push(l),n.push(0),this.Qvalid.push(n)}return L(this.Qvalid,9),this._setCurrentMax(),this.Qvalid.length}},{key:"_setUnableLogisticCustomize",value:function(t){for(var e=0;e<Mt.length;e++)(Mt[e][9]>this.TotalTime||Mt[e][9]<this.MinimumIntervalTime)&&-1==t.indexOf(e)&&t.push(e);return t}},{key:"Calculate_Current",value:function(t){var e=this.Qvalid;if(this.MinimumIntervalTime){var n=[e[t[0]][9],e[t[1]][9],e[t[2]][9],e[t[3]][9]];if(Math.min(n[1]-n[0]==0?this.MinimumIntervalTime:n[1]-n[0],n[2]-n[1]==0?this.MinimumIntervalTime:n[2]-n[1],n[3]-n[2]==0?this.MinimumIntervalTime:n[3]-n[2])<this.MinimumIntervalTime)return[-1,-1,-1,-1,-1,-1,-1,-1];var a=[this.Qvalid[t[0]][10],this.Qvalid[t[1]][10],this.Qvalid[t[2]][10],this.Qvalid[t[3]][10]];if(this._calculateIntervalTimeMin(a)<this.MinimumIntervalTime)return[-1,-1,-1,-1,-1,-1,-1,-1]}for(var i=new Array(8),l=0;l<8;l++)i[l]=e[t[0]][l+1]+e[t[1]][l+1]+e[t[2]][l+1]+e[t[3]][l+1];return i}},{key:"_calculateIntervalTimeMin",value:function(t){for(var e=t,n=[e[0].length-1,e[1].length-1,e[2].length-1,e[3].length-1],a=0;a<3;a++)e[a][0]==e[a+1][0]&&(n[a+1]=-1);e[3][0]%e[2][0]==0?n[3]=-1:e[3][0]%e[1][0]==0?n[3]=-1:e[3][0]%e[0][0]==0&&(n[3]=-1),e[2][0]%e[1][0]==0?n[2]=-1:e[2][0]%e[0][0]==0&&(n[2]=-1),e[1][0]%e[0][0]==0&&(n[1]=-1);for(var i=e[0][0],l=999999999;-1!==n[0];){for(var r=0,o=0;++o<4;)-1!==n[o]&&(e[r][n[r]]<e[o][n[o]]?r=o:e[r][n[r]]===e[o][n[o]]&&n[o]--);var s=e[r][n[r]];n[r]--,i=Math.min(i,l-s),l=s}return i}},{key:"PrintPlanTableTitle",value:function(){return it()?this._title+'<th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_Manp">'+I.JS.Manp+'/h</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_Ammu">'+I.JS.Ammu+'/h</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_Rati">'+I.JS.Rati+'/h</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_Part">'+I.JS.Part+'/h</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_TPro">'+I.JS.TPro+'/h</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_Equi">'+I.JS.Equi+'/h</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_QPro">'+I.JS.QPro+'/h</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_QRes">'+I.JS.QRes+'/h</th><th style="text-align: center;width:8.88%;">'+I.JS.MinIntervalTime+"</th>"+this._titleEnd:this._title+'<th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_Manp">'+I.JS.Manp+'</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_Ammu">'+I.JS.Ammu+'</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_Rati">'+I.JS.Rati+'</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_Part">'+I.JS.Part+'</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_TPro">'+I.JS.TPro+'</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_Equi">'+I.JS.Equi+'</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_QPro">'+I.JS.QPro+'</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_QRes">'+I.JS.QRes+'</th><th style="text-align: center;width:8.88%;">'+I.JS.MinIntervalTime+"</th>"+this._titleEnd}},{key:"PrintTableCustomize",value:function(t,e){var n=[],a=[t.List[e][0],t.List[e][1],t.List[e][2],t.List[e][3]],i=[this.Qvalid[a[0]][10],this.Qvalid[a[1]][10],this.Qvalid[a[2]][10],this.Qvalid[a[3]][10]];return n.push(this._calculateIntervalTimeMin(i)+"m"),n}},{key:"Saved_Custom",value:function(){var t=[],e=v();t.push(e);var n=y();return t.push(n),t}},{key:"ApplySaved_Custom",value:function(t){var e=t[0],n=t[1];f(e),function(t){$("#Tab_Anytime_MinimumIntervalTime_minutes").val(t)}(n),J("TabAnytimeCustom",t)}}]),e}(),Et=function(t){function e(){k(this,e);var t=kt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.Qvalid=[],t.TimeList=[],t}return It(e,Ct),At(e,[{key:"setTime",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.TimeList=ot.slice().sort(Lt),this.TimeList.unshift(0),this.TotalTime=S(t),t&&0===this.TotalTime)throw alert(I.JS.tab_Timetable_alert4),Tt(),"--";this.TimeList.push(this.TotalTime)}},{key:"setValidQAndReturnLengthAndSetCurrentMax",value:function(){for(var t=this._getUnableLogistic(),e=0;e<Mt.length;e++)if(-1===t.indexOf(e)){var n=[];n.push(Mt[e][0]);for(var a=0,i=[],l=0,r=1;r<this.TimeList.length;r++)Mt[e][9]<=this.TimeList[r]-this.TimeList[l]&&(a++,i.push(this.TimeList[l]+Mt[e][9]),l=r);for(r=1;r<9;r++)n.push(Mt[e][r]*a/this.TotalTime);n.push(Mt[e][9]),n.push(i),n.push(0),this.Qvalid.push(n)}return this._setCurrentMax(),this.Qvalid.length}},{key:"PrintPlanTableTitle",value:function(){return it()?this._title+'<th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_Manp">'+I.JS.Manp+'/h</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_Ammu">'+I.JS.Ammu+'/h</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_Rati">'+I.JS.Rati+'/h</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_Part">'+I.JS.Part+'/h</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_TPro">'+I.JS.TPro+'/h</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_Equi">'+I.JS.Equi+'/h</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_QPro">'+I.JS.QPro+'/h</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_QRes">'+I.JS.QRes+"/h</th>"+this._titleEnd:this._title+'<th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_Manp">'+I.JS.Manp+'</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_Ammu">'+I.JS.Ammu+'</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_Rati">'+I.JS.Rati+'</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_Part">'+I.JS.Part+'</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_TPro">'+I.JS.TPro+'</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_Equi">'+I.JS.Equi+'</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_QPro">'+I.JS.QPro+'</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_QRes">'+I.JS.QRes+"</th>"+this._titleEnd}},{key:"Saved_Custom",value:function(){var t=[],e=S();t.push(e);var n=ot.slice();return t.push(n),t}},{key:"ApplySaved_Custom",value:function(t){P(t[0]),function(t){dt();for(var e=0;e<t.length;e++)st(t[e]);0===ot.length?_t():ct()}(t[1]),J("TabTimetableCustom",t)}}]),e}();function Lt(t,e){return t-e}At=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}();function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Qt=function(){function t(e,n,a){if(k(this,t),this._setResourceIncreasingRate(),this._setList(n),this.ShownTab=e,this.CurrentValue_MAX=e.CurrentValue_MAX,void 0===a)this.TargetValue_html=h(),this.TargetValue=this._CorrectTargetValue();else{this.TargetValue=a,this.TargetValue_half=this.TargetValue.slice();for(var i=0;i<8;i++)this.TargetValue_half[i]=.5*this.TargetValue_half[i]}this._Norm_Target=this._getNorm(this.TargetValue)}return At(t,[{key:"_setResourceIncreasingRate",value:function(){var t=_(!0);this.ResourceIncreasingRate=1+t/200}},{key:"_setList",value:function(t){this.List=new Array(t);for(var e=0;e<t;e++)this.List[e]=new Array(12),this.List[e].Value=0}},{key:"_CorrectTargetValue",value:function(){var t=this._CorrectResourceValue(),e=this._CorrectContractValue(),n=t.concat(e);if("0,0,0,0,0,0,0,0"==n.toString())throw alert(I.JS.TargetValue0_alert),Tt(),"--";return n}},{key:"_CorrectResourceValue",value:function(){var t=this.TargetValue_html.slice(0,4),e=100-b();return this._ValuesNotAll0(t)&&this._CorrectValue(t,e),t}},{key:"_CorrectContractValue",value:function(){var t=this.TargetValue_html.slice(4,8),e=b();return this._ValuesNotAll0(t)&&this._CorrectValue(t,e),t}},{key:"_ValuesNotAll0",value:function(t){for(var e=0;e<t.length;e++)if(0!=t[e])return!0;return!1}},{key:"_CorrectValue",value:function(t,e){for(var n=e/Gt(t),a=0;a<t.length;a++)t[a]*=n}},{key:"_getNorm",value:function(t){for(var e=0,n=0;n<t.length;n++)e+=Math.pow(t[n],2);return Math.pow(e,.5)}},{key:"CalculateAndPush_Standardization_And_CalculateMissionsValue",value:function(t){this._CurrentValue=this.ShownTab.Calculate_Current(t),-1!==this._CurrentValue[0]&&(this._MissionsNumber=t,this._PlanValue=this._calculateValue(),this.ShownTab.Qvalid[t[0]][11]+=this._PlanValue,this.ShownTab.Qvalid[t[1]][11]+=this._PlanValue,this.ShownTab.Qvalid[t[2]][11]+=this._PlanValue,this.ShownTab.Qvalid[t[3]][11]+=this._PlanValue,0 in this.List[this.List.length-1]?this._push():this._push_FirstEmptyRow())}},{key:"CalculateAndPush_Standardization",value:function(t){this._CurrentValue=this.ShownTab.Calculate_Current(t),-1!==this._CurrentValue[0]&&(this._MissionsNumber=t,this._PlanValue=this._calculateValue(),0 in this.List[this.List.length-1]?this._push():this._push_FirstEmptyRow())}},{key:"CalculateAndPush",value:function(t){if(this._CurrentValue=this.ShownTab.Calculate_Current(t),-1!==this._CurrentValue[0]){for(var e=0;e<8;e++)if(this._CurrentValue[e]<this.TargetValue_half[e])return;this._MissionsNumber=t,this._PlanValue=this._calculateValue_2(),0 in this.List[this.List.length-1]?this._push():this._push_FirstEmptyRow()}}},{key:"_push_FirstEmptyRow",value:function(){for(var t=this.List.length-1;0!=t&&!(0 in this.List[t-1]);)t--;this._PushIntoThisRow(t),this._SortListByValue(t)}},{key:"_push",value:function(){this._thisPlanIsBetterThan(this.List.length-1)&&(this._PushIntoThisRow(this.List.length-1),this._SortListByValue(this.List.length-1))}},{key:"_PushIntoThisRow",value:function(t){this.List[t]=this._MissionsNumber.concat(this._CurrentValue),this.List[t].Value=this._PlanValue}},{key:"_SortListByValue",value:function(t){for(var e=t-1;e>=0&&this._thisPlanIsBetterThan(e);e--)this._ExchangeTheseTwoRows(e)}},{key:"_ExchangeTheseTwoRows",value:function(t){this.List[t+1]=this.List[t].slice(),this.List[t+1].Value=this.List[t].Value,this._PushIntoThisRow(t)}},{key:"_thisPlanIsBetterThan",value:function(t){return this._PlanValue>this.List[t].Value}},{key:"_calculateValue",value:function(){var t=[0,0,0,0,0,0,0,0],e=this.TargetValue,n=this._CurrentValue;0!==e[0]&&(t[0]=n[0]),0!==e[1]&&(t[1]=n[1]),0!==e[2]&&(t[2]=n[2]),0!==e[3]&&(t[3]=n[3]),0!==e[4]&&(t[4]=500*n[4]),0!==e[5]&&(t[5]=500*n[5]),0!==e[6]&&(t[6]=500*n[6]),0!==e[7]&&(t[7]=500*n[7]);var a=this._getNorm(t);if(0===a)return 0;var i=this._getDotProduct(t,this.TargetValue)/this._Norm_Target,l=Math.min(1,i/a),r=1-2*Math.acos(l)/Math.PI;return i*Math.pow(r,2)}},{key:"_getDotProduct",value:function(t,e){if(t.length!==e.length)throw"getDotProduct error";for(var n=0,a=0;a<t.length;a++)n+=t[a]*e[a];return n}},{key:"_calculateValue_2",value:function(){return function(t,e){for(var n=0,a=99999999999,i=0;i<8;i++)0!=t[i]&&(a=Math.min(a,e[i]/t[i]));for(var i=0;i<8;i++)n+=Wt(t[i],e[i],a);return n}(this.TargetValue,this._CurrentValue)}},{key:"print",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Ranking";if(!(0 in this.List[0]))throw document.getElementById("Plan_Table").innerHTML=I.JS.NoPlan,Jt=[],"--";for(var n,a=[],i=0;i<this.List.length&&0 in this.List[i];i++){var l=[];l.push(i);for(var r=new Array(4),o=0;o<4;o++)r[o]=this.ShownTab.Qvalid[this.List[i][o]][0];r=r.sort(Dt);for(o=0;o<4;o++)l.push(r[o]);for(o=0;o<4;o++)l.push(this.List[i][o+4]*this.ResourceIncreasingRate*this.CurrentValue_MAX[o]);for(o=4;o<8;o++)l.push(this.List[i][o+4]*this.CurrentValue_MAX[o]);var s=this.ShownTab.PrintTableCustomize(this,i);for(o=0;o<s.length;o++)l.push(s[o]);a.push(l)}switch(n=it()?60:this.ShownTab.TotalTime,e){case"Ranking":Ht="Ranking";break;case"Manp":E(a,5),Ht="Manp";break;case"Ammu":E(a,6),Ht="Ammu";break;case"Rati":E(a,7),Ht="Rati";break;case"Part":E(a,8),Ht="Part";break;case"TPro":E(a,9),Ht="TPro";break;case"Equi":E(a,10),Ht="Equi";break;case"QPro":E(a,11),Ht="QPro";break;case"QRes":E(a,12),Ht="QRes"}Jt=a,Bt(t,a,n)}}]),t}();function Dt(t,e){return parseInt(t.replace(/[^0-9]/gi,""))-parseInt(e.replace(/[^0-9]/gi,""))}function Bt(t,e,n){var a,i,l=document.activeElement.id,r=document.getElementById("Plan_Table"),o=function(){var t=["MT","AT","RT","PT","TT","ET","QPT","QRT"],e=I.JS,n=[e.Manp,e.Ammu,e.Rati,e.Part,e.TPro,e.Equi,e.QPro,e.QRes],a='<div class="panel panel-default" style="margin-bottom:5px">';a+='<div class="panel-heading">',a+='<h4 class="panel-title"><a data-toggle="collapse" href="#FineTuningTool" class="collapsed">'+e.FineTuningTool+"</a></h4></div>",a+='<div id="FineTuningTool" class="panel-collapse collapse">',a+='<div class="panel-body">';for(var i=0;i<8;i++)0===i&&(a+='<div class="col-lg-6 col-md-6 col-sm-6">'),4===i&&(a+='</div> <div class="col-lg-6 col-md-6 col-sm-6">'),a+='<div class="form-group input-group" style="margin-bottom: 10px;">',a+='<span class="input-group-addon" style="cursor:default;" id="FineTuningTool_'+t[i]+'">'+n[i]+"</span>",a+='<div class="input-group-btn">',a+='<button class="btn btn-default col-lg-6 col-md-6 col-sm-6 col-xs-6" type="button" id="FineTuning_minus_'+t[i]+'"',0===Ot[i]?a+='disabled="disabled"':zt[i]-Ot[i]/50<=0?a+='disabled="disabled"':zt[i]-Ot[i]/50<.9*Ot[i]&&(a+='disabled="disabled"'),a+='title="'+I.HTMLJS.FineTuning_minus+'"><b>-</b></button>',a+='<button class="btn btn-default col-lg-6 col-md-6 col-sm-6 col-xs-6" type="button" id="FineTuning_plus_'+t[i]+'"',0===Ot[i]?a+='disabled="disabled"':zt[i]+Ot[i]/50>=1?a+='disabled="disabled"':zt[i]-Ot[i]/50>1.14*Ot[i]&&(a+='disabled="disabled"'),a+='title="'+I.HTMLJS.FineTuning_plus+'"><b>+</b></button>',a+="</div></div>";return a+="</div></div></div></div>"}();o+='<div class="table-responsive">',o+='<table class="table table-striped table-hover table-responsive text-nowrap" style="margin-bottom: 0px; cursor: default;">',o+=Nt().PrintPlanTableTitle()+"<tbody>",4===jt.length?(a=!0,(i=jt.slice()).sort(Dt)):a=!1;for(var s=0;s<e.length;s++){a&&e[s][1]===i[0]&&e[s][2]===i[1]&&e[s][3]===i[2]&&e[s][4]===i[3]?o+="<tr tabindex='0' id='print_result_plan_tr_"+s+"' class='success'>":o+="<tr tabindex='0' id='print_result_plan_tr_"+s+"'>";for(var u=0;u<4;u++)o+="<td style='text-align: center'>",o+=""+e[s][u+1],o+="</td>";for(u=4;u<8;u++)o+="<td style='text-align: center'>",o+=""+Math.round(e[s][u+1]*n*10)/10,o+="</td>";for(u=8;u<12;u++)o+="<td style='text-align: center'>",o+=""+Math.round(e[s][u+1]*n*100)/100,o+="</td>";var d=e[0].length;for(u=13;u<d;u++)o+="<td style='text-align: center'>",o+=e[s][u],o+="</td>";o+="</tr>"}o+="</tbody>",r.innerHTML=o,t&&(document.getElementById("FineTuningTool").style.transition="none",$("#FineTuningTool").collapse("show")),et()&&(document.getElementById("FineTuningTool").style.transition="none"),document.getElementById("start_sorting_html").style.display="none",""!==l&&document.getElementById(l).focus()}var Jt=[],Ht="",Vt=void 0;function Nt(){var t;switch(nt){case"Anytime":t=new Rt;break;case"Timetable":t=new Et}return t}function Ft(t,e){for(var n=function(t,e){var n=new Array(4);n="Resource"===t?e.TargetValue_html.slice(0,4):e.TargetValue_html.slice(4,8);return n}(t.class,e),a=function(t,e){var n=new Array(4);n="Resource"===t?e.CurrentValue_MAX.slice(0,4):e.CurrentValue_MAX.slice(4,8);return n}(t.class,e),i=0,l=t.length,r=0;r<t.length;r++)0!==t[r]?(i+=n[r]/t[r],0===n[r]&&l--):l--;if(0!==i)i/=l;else{for(var o=0,s=(l=t.length,0);s<t.length;s++)0!==a[s]?o+=a[s]:l--;0===l?o=0:o/=l,i=Gt(n)/o}return i}function Gt(t){for(var e=0,n=0;n<t.length;n++)e=Math.max(e,t[n]);return e}function Wt(t,e,n){return 0===t?0:Math.min(e,1.5*t*n)+.5*(Math.min(e,t)-Math.min(e,1.5*t*n))}var Ot=new Array(8),zt=new Array(8);var qt=void 0;function Ut(t,e){var n=["MT","AT","RT","PT","TT","ET","QPT","QRT"].indexOf(e);-1===t?zt[n]-=Ot[n]/50:zt[n]+=Ot[n]/50,function(){for(var t=new Qt(qt,16,zt),e=qt.Qvalid.length,n=e-3,a=e-2,i=e-1,l=e,r=0;r<n;r++)for(var o=r+1;o<a;o++)for(var s=o+1;s<i;s++)for(var u=s+1;u<l;u++)t.CalculateAndPush([r,o,s,u]);t.print(!0,Ht)}()}var Xt=[],jt=[];function Kt(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(Xt=function(){var t=Nt();t.setTime(!1),t.setValidQAndReturnLengthAndSetCurrentMax();for(var e=t.Qvalid,n=e.length,a=0;a<n;a++){var i=e[a][0],l=i.indexOf("-"),r=i.slice(0,l),o=i.slice(l+1),s=4*parseInt(r)+parseInt(o);e[a].push(s)}L(e,12);for(var u=1+_()/200,a=0;a<n;a++)e[a][1]*=u,e[a][2]*=u,e[a][3]*=u,e[a][4]*=u;return e}());for(var t=Xt,a=Vt,i="",l=t.length,r=jt.slice(),o=0;o<l;o++){i+='<tr style="cursor: default;" id="MissionTable_'+o+'" tabindex="0"';for(var s=0;s<r.length;s++)if(r[s]===t[o][0]){r.splice(s,1),i+='class="success"';break}i+='><td style="width: 10%;">'+t[o][0]+"</td>";for(s=1;s<9;s++)i+='<td style="width: 10%;">'+e(t[o][s]*a)+"</td>";i+='<td style="width: 10%;">'+n(t[o][9])+"</td>",i+="<tr>"}for(o=0;o<r.length;o++)jt.remove_First(r[o]);0===l&&(i="<tr><td>"+I.JS.NoMission+"</td></tr>"),document.getElementById("MissionTable_tbody").innerHTML=i}function Yt(){if(Zt(),te(),ee(),ne(),document.getElementById("PlanDetails_Mission_1").innerHTML="",document.getElementById("PlanDetails_Mission_2").innerHTML="",document.getElementById("PlanDetails_Mission_3").innerHTML="",document.getElementById("PlanDetails_Mission_4").innerHTML="",document.getElementById("PlanDetails_PerHour").innerHTML="",document.getElementById("PlanDetails_Total").innerHTML="",echarts.init(document.getElementById("PlanDetails_Chart")).dispose(),document.getElementById("PlanDetails_Chart").style.width=0,document.getElementById("PlanDetails_Chart").style.height=0,0!==jt.length){var t=ae();!function(t){for(var a=["#C5D8FF","#FFBFBE","#B6F4B5","#FFEBC7"],i=0;i<t.length;i++){var l="";l+="<td style='text-align:center; width: 58px;'>"+t[i][0]+"</td>";for(var r=1;r<9;r++)l+="<td style='text-align:center; width: 58px;'>",l+=e(60*t[i][r]),l+="</td>";l+="<td style='text-align:center;'>"+n(t[i][9])+"</td>",document.getElementById("PlanDetails_Mission_"+(i+1)).innerHTML=l,document.getElementById("PlanDetails_Mission_"+(i+1)).style.backgroundColor=a[i]}}(t),function(t){var n="";n+="<td style='text-align:center; width: 58px;'id='PlanDetails_PerHour_title'>"+I.JS.PerHour+"</td>";for(var a=1;a<9;a++){n+="<td style='text-align:center; width: 58px;'>";for(var i=0,l=0;l<t.length;l++)i+=t[l][a];n+=e(60*i),n+="</td>"}n+="Anytime"!==nt?"<td></td>":"<td id='PlanDetails_AnytimeMinIntervalTime'>"+I.JS.MinIntervalTime+"</td>";document.getElementById("PlanDetails_PerHour").innerHTML=n}(t);var a=Nt();a.setTime(!1);var i=a.TotalTime;ie(t,i,A()),le(t,i)}}function Zt(){var t;switch(nt){case"Anytime":t=I.HTML.Tab_Anytime_name;break;case"Timetable":t=I.HTML.Tab_Timetable_name}document.getElementById("PlanDetails_ShownTab").innerHTML=I.JS.PlanDetails_calculateMethod+": "+t}function te(){var t=Nt();t.setTime(!1);var e=t.TotalTime;document.getElementById("PlanDetails_TotalTime").innerHTML=I.JS.total_time+": "+n(e)}function ee(){var t=_();document.getElementById("PlanDetails_GreatSuccessRate").innerHTML=I.JS.total_greatSuccessRate+": "+t+"%"}function ne(){var t=A();document.getElementById("PlanDetails_ExecutionTimes").innerHTML=I.JS.ExecutionTimes+": "+t}function ae(){for(var t=[],e=jt.slice().sort(Dt),n=Xt,a=0;a<e.length;a++){for(var i,l=0;l<n.length;l++)if(e[a]===n[l][0]){i=l;break}t.push(n[i])}return t}function ie(t,a,i){for(var l="<td style='text-align:center; width: 58px;'id='PlanDetails_Total_title'>"+I.JS.Total+"</td>",r=1;r<9;r++){l+="<td style='text-align:center; width: 58px;'>";for(var o=0,s=0;s<t.length;s++)o+=t[s][r];l+=e(o*a*i),l+="</td>"}if("Anytime"!==nt)l+="<td></td>";else{for(var u=[],d=0;d<t.length;d++)u.push(t[d][10]);L(u,0);for(d=u.length;d<4;d++)u.push([u[0][u[0].length-1]]);l+="<td>"+n((new Rt)._calculateIntervalTimeMin(u))+"</td>"}document.getElementById("PlanDetails_Total").innerHTML=l}function le(t,e){if(!(e>4320)){document.getElementById("PlanDetails_Chart").style.width="580px",document.getElementById("PlanDetails_Chart").style.height="120px";for(var n=echarts.init(document.getElementById("PlanDetails_Chart")),i=[],l=[],r=[],o=[],s=[],u=["#A1C0FF","#FF8C8A","#75d874","#FFDA93"],d=t.length-1;d>=0;d--)i.push(t[d][0]),l.push(t[d][9]),r.push(t[d][10]),o.push(t[d][10].length),s.push({name:t[d][0],color:u[d]});var _=[],c=void 0;c=e<=960?60:e<=1920?120:e<=2880?180:e<=3840?240:300;var h=w();echarts.util.each(["0","1","2","3"],function(t,e){for(var n,a=0;a<o[t];a++){var i=s[t],u=l[t];_.push({name:i.name,value:[e,n=r[t][a]-u,n+=u-1,u-1],itemStyle:{normal:{color:i.color}}}),_.push({name:"none",value:[e,n=r[t][a]-1,n+=1,1],itemStyle:{normal:{color:"#000000"}}})}});var T={title:{show:!1},grid:{left:35,right:20,top:5,bottom:20,height:"auto"},xAxis:{min:0,scale:!0,axisLabel:{formatter:function(t){return a(t+h)}},max:e,interval:c},yAxis:{data:i},series:[{type:"custom",renderItem:re,itemStyle:{normal:{opacity:.8}},encode:{x:[1,2],y:0},data:_}],animation:!1,backgroundColor:"#FFFFFF"};n.setOption(T)}}function re(t,e){var n=e.value(0),a=e.coord([e.value(1),n]),i=e.coord([e.value(2),n]),l=.5*e.size([0,1])[1],r=echarts.graphic.clipRectByRect({x:a[0],y:a[1]-l/2,width:i[0]-a[0],height:l},{x:t.coordSys.x,y:t.coordSys.y,width:t.coordSys.width,height:t.coordSys.height});return r&&{type:"rect",shape:r,style:e.style()}}var oe=[];function se(t){0===t&&(document.getElementById("NoSaved").style.display="none");var e="";e+='<tr id="SavedTable_row_'+t+'"',e+='><td><button type="button" class="btn btn-default"id="SavedTable_apply_'+t+'" title="'+I.HTMLJS.SavedTable_apply+'" style="background-color: #88E063;">',e+='<span class="glyphicon glyphicon-ok"style="top: 2px;" /></button></td><td><div class="form-group input-group" style="margin-bottom: 0px;">',e+='<input type="text" class="form-control" style="min-width: 140px;"id="SavedTable_name_'+t+'" placeholder="'+I.HTMLJS.SavedTable_name+'"',e+='value="'+oe[t].data[0]+'"readonly="readonly">',e+='<div class="input-group-btn"><button type="button" class="btn btn-default"id="SavedTable_rename_'+t+'" title="'+I.HTMLJS.SavedTable_rename+'"><span class="glyphicon glyphicon-pencil"style="top: 2px;" /></button></div>',e+="</div></td>",e+='<td><div class="btn-group" style="min-width: 80px;"><button type="button" class="btn btn-default"id="SavedTable_up_'+t+'"" title="'+I.HTMLJS.SavedTable_up+'"',0===t&&(e+='disabled="disabled"'),e+=">",e+='<span class="glyphicon glyphicon-arrow-up"style="top: 2px;" /></button>',e+='<button type="button" class="btn btn-default"id="SavedTable_down_'+t+'" title="'+I.HTMLJS.SavedTable_down+'"',t===oe.length-1&&(e+='disabled="disabled"'),e+='><span class="glyphicon glyphicon-arrow-down"style="top: 2px;" /></button></div></td>',e+='<td><button type="button" class="btn btn-default"id="SavedTable_export_'+t+'" title="'+I.HTMLJS.SavedTable_export+'"><span class="glyphicon glyphicon-export"style="top: 2px;" /></button></td>',e+='<td><button type="button" class="btn btn-default"id="SavedTable_delete_'+t+'" title="'+I.HTMLJS.SavedTable_delete+'" style="background-color: #F48380;"><span class="glyphicon glyphicon-trash"style="top: 2px;" /></button></td></tr>',$("#Saved_Body").append(e),0!==t&&$("#SavedTable_down_"+(t-1)).removeAttr("disabled")}function ue(t){var e=!0;if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]){var n=oe[t].data[0],a=I.JS.deleteSavedWarning_1+'"'+n+'"'+I.JS.deleteSavedWarning_2;e=confirm(a)}if(e){for(var i=t;i<oe.length-1;i++)$("#SavedTable_name_"+i).val(oe[i+1].data[0]);var l=document.getElementById("SavedTable_row_"+(oe.length-1));document.getElementById("Saved_Body").removeChild(l),oe.splice(t,1),J("SAVED",oe),0!==oe.length?($("#SavedTable_up_0").attr("disabled","true"),$("#SavedTable_down_"+(oe.length-1)).attr("disabled","true")):document.getElementById("NoSaved").style.display=""}}