/**
 * [GF_logistics]{@link https://github.com/CHANTXU64/Girls-Frontline}
 *
 * @namespace GF_logistics
 * @author ChantXu64 [chantxu@outlook.com]
 * @copyright ChantXu64
 * @license MIT
 */
 
"use strict";function e(e,t){var a=e.lastIndexOf("_");return void 0===t?e.slice(a+1):e.slice(a+1,t)}function t(e){return e>100?Math.round(e):e>10?Math.round(10*e)/10:Math.round(100*e)/100}function a(e){e=Math.round(e);var t=parseInt(e/60),a=e%60;return(a+"").length<2&&(a="0"+a),t+":"+a}function n(e){return a((e=Math.round(e))%1440)}function i(e){return!!(""===e||isNaN(e)||e<0||"Infinity"===e)}function l(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=void 0;return a=i(e.val())?0:parseFloat(e.val()),t&&e.val(a),a}Array.prototype.remove=function(e){for(var t=0;t<this.length;)this[t]===e?this.splice(t,1):t++},Array.prototype.remove_First=function(e){for(var t=0;t<this.length;){if(this[t]===e){this.splice(t,1);break}t++}};var r=["15","15","15","15","15","15","15","15","15","15","15","15","15","15","15","15 / 16","15 / 16","16","16","16 / 17","17","17 / 18","17 / 18","17 / 18","18 / 19","18 / 19","19","19","19 / 20","20","20 / 21","20 / 21","20 / 21","21 / 22","21 / 22","22","22","22 / 23","23","23 / 24","23 / 24","23 / 24","24 / 25","24 / 25","25","25","25 / 26","26","26 / 27","26 / 27","26 / 27","27 / 28","27 / 28","28","28","28 / 29","29","29 / 30","29 / 30","29 / 30","30 / 31","30 / 31","31","31","31 / 21","32","32 / 33","32 / 33","32","31"];function o(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=$("#GreatSuccessRate"),a=t.val();return a=i(a)||a<15?15:a>69?69:Math.round(a),e&&t.val(a),a}function u(e){$("#GreatSuccessRate").val(e),Be(c()),U("GreatSuccessRate",e)}function s(){return!!document.getElementById("GreatSuccessRateUp").checked}function _(e){return s()?parseInt(r[e].substr(0,2)):0}function c(){var e=o(arguments.length>0&&void 0!==arguments[0]&&arguments[0]);return e+_(e)}function d(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=document.getElementById("GreatSuccessRateUp"),n=document.getElementById("Display_UPRate");if(!1===e)a.checked=!1,n.innerHTML="";else{a.checked=!0;var i=o(t);n.innerHTML="+"+r[i]}Be(c()),U("is_GreatSuccessRateUP",e)}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[$("#MT"),$("#AT"),$("#RT"),$("#PT"),$("#TT"),$("#ET"),$("#QPT"),$("#QRT")],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Array.isArray(e)?m(e,t):l(e,t)}function m(e,t){for(var a=[],n=0;n<e.length;n++)a.push(l(e[n],t));return a}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,0,0,0,0,0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[$("#MT"),$("#AT"),$("#RT"),$("#PT"),$("#TT"),$("#ET"),$("#QPT"),$("#QRT")];Array.isArray(e)?h(e,t):p(e,t),U("TargetValue",T())}function h(e,t){for(var a=0;a<e.length;a++)p(e[a],t[a])}function p(e,t){e<0?t.val(0):t.val(Math.round(100*e)/100)}function b(){return parseInt($("#ContractWeight").val())}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;$("#ContractWeight").val(e);var t=b();document.getElementById("ContractWeight_range").style.right=100-t+"%",document.getElementById("ContractWeight_thumb").style.left=t+"%",U("ContractWeight",t)}function f(){return parseInt($("#ChapterLimit").val())}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;$("#ChapterLimit").val(e),null===$("#ChapterLimit").val()&&$("#ChapterLimit").val(12),U("SelectChapter",f())}function P(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return 60*function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return l($("#Time_Anytime_hours"),e)}(e)+function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return l($("#Time_Anytime_minutes"),e)}(e)}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:960,t=e%60;!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16;$("#Time_Anytime_hours").val(e)}(parseInt(e/60)),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;$("#Time_Anytime_minutes").val(e)}(t)}function M(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return l($("#Tab_Anytime_MinimumIntervalTime_minutes"),e)}function x(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return 60*function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return l($("#Time_Timetable_hours"),e)}(e)+function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return l($("#Time_Timetable_minutes"),e)}(e)}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300;(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(document.getElementById("Tab_Timetable_range_tooltip_0_value").innerHTML=a(e));var t=e%60;!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;$("#Time_Timetable_hours").val(e)}(parseInt(e/60)),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;$("#Time_Timetable_minutes").val(e)}(t)}function R(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return 60*function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=l($("#Tab_Timetable_new_hours"),e);return e&&$("#Tab_Timetable_new_hours").val(""),t}(e)+function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=l($("#Tab_Timetable_new_minutes"),e);return e&&$("#Tab_Timetable_new_minutes").val(""),t}(e)}function A(){var e=$("#PlanDetails_InputStartTime").val(),t=parseFloat(e.substr(0,2));if(isNaN(t))return 0;var a=parseFloat(e.substr(3,2));return isNaN(a)&&(a=0),60*t+a}function w(e){var t=n(e);2!==t.indexOf(":")&&(t="0"+t),$("#PlanDetails_InputStartTime").val(t)}function V(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=$("#PlanDetails_InputExecutionTimes"),a=t.val();return a=i(a)||a<1?1:a>999?999:Math.round(a),e&&t.val(a),a}function E(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return m([$("#calcTargetValueTool_Target_Manp"),$("#calcTargetValueTool_Target_Ammu"),$("#calcTargetValueTool_Target_Rati"),$("#calcTargetValueTool_Target_Part"),$("#calcTargetValueTool_Target_TPro"),$("#calcTargetValueTool_Target_Equi"),$("#calcTargetValueTool_Target_QPro"),$("#calcTargetValueTool_Target_QRes")],e)}function I(){h(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,0,0,0,0,0],[$("#calcTargetValueTool_Target_Manp"),$("#calcTargetValueTool_Target_Ammu"),$("#calcTargetValueTool_Target_Rati"),$("#calcTargetValueTool_Target_Part"),$("#calcTargetValueTool_Target_TPro"),$("#calcTargetValueTool_Target_Equi"),$("#calcTargetValueTool_Target_QPro"),$("#calcTargetValueTool_Target_QRes")]),U("CalcTargetValueTool_Target",E())}function k(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return m([$("#calcTargetValueTool_Current_Manp"),$("#calcTargetValueTool_Current_Ammu"),$("#calcTargetValueTool_Current_Rati"),$("#calcTargetValueTool_Current_Part"),$("#calcTargetValueTool_Current_TPro"),$("#calcTargetValueTool_Current_Equi"),$("#calcTargetValueTool_Current_QPro"),$("#calcTargetValueTool_Current_QRes")],e)}function Q(){h(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,0,0,0,0,0],[$("#calcTargetValueTool_Current_Manp"),$("#calcTargetValueTool_Current_Ammu"),$("#calcTargetValueTool_Current_Rati"),$("#calcTargetValueTool_Current_Part"),$("#calcTargetValueTool_Current_TPro"),$("#calcTargetValueTool_Current_Equi"),$("#calcTargetValueTool_Current_QPro"),$("#calcTargetValueTool_Current_QRes")]),U("CalcTargetValueTool_Current",k())}function D(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=$("#calcTargetValueTool_InputExecutionTimes"),a=t.val();return a=i(a)||a<1?1:a>999?999:Math.round(a),e&&t.val(a),a}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=$("#calcTargetValueTool_InputExecutionTimes");e=Math.round(e),t.val(e),U("CalcTargetValueTool_ExecutionTimes",D())}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var H,J=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;B(this,e),this.start=t,this.end=a};function F(e){var t=new Array(e.length),a=0;for(t[a++]=new J(0,e.length-1);a;){var n=t[--a];if(!(n.start>=n.end)){for(var i=e[n.end],l=n.start,r=n.end-1;l<r;){for(;e[l]>i&&l<r;)l++;for(;e[r]<=i&&l<r;)r--;var o=[e[r],e[l]];e[l]=o[0],e[r]=o[1]}if(e[l]<=e[n.end]){var u=[e[n.end],e[l]];e[l]=u[0],e[n.end]=u[1]}else l++;t[a++]=new J(n.start,l-1),t[a++]=new J(l+1,n.end)}}}function N(e){var t=new Array(e.length),a=0;for(t[a++]=new J(0,e.length-1);a;){var n=t[--a];if(!(n.start>=n.end)){for(var i=e[n.end],l=n.start,r=n.end-1;l<r;){for(;e[l]<i&&l<r;)l++;for(;e[r]>=i&&l<r;)r--;var o=[e[r],e[l]];e[l]=o[0],e[r]=o[1]}if(e[l]>=e[n.end]){var u=[e[n.end],e[l]];e[l]=u[0],e[n.end]=u[1]}else l++;t[a++]=new J(n.start,l-1),t[a++]=new J(l+1,n.end)}}}function W(e,t){var a=new Array(e.length),n=0;for(a[n++]=new J(0,e.length-1);n;){var i=a[--n];if(!(i.start>=i.end)){for(var l=e[i.end][t],r=i.start,o=i.end-1;r<o;){for(;e[r][t]>l&&r<o;)r++;for(;e[o][t]<=l&&r<o;)o--;var u=[e[o],e[r]];e[r]=u[0],e[o]=u[1]}if(e[r][t]<=e[i.end][t]){var s=[e[i.end],e[r]];e[r]=s[0],e[i.end]=s[1]}else r++;a[n++]=new J(i.start,r-1),a[n++]=new J(r+1,i.end)}}}function G(e,t){var a=new Array(e.length),n=0;for(a[n++]=new J(0,e.length-1);n;){var i=a[--n];if(!(i.start>=i.end)){for(var l=e[i.end][t],r=i.start,o=i.end-1;r<o;){for(;e[r][t]<l&&r<o;)r++;for(;e[o][t]>=l&&r<o;)o--;var u=[e[o],e[r]];e[r]=u[0],e[o]=u[1]}if(e[r][t]>=e[i.end][t]){var s=[e[i.end],e[r]];e[r]=s[0],e[i.end]=s[1]}else r++;a[n++]=new J(i.start,r-1),a[n++]=new J(r+1,i.end)}}}var q,O={"zh-CN":{lang:"zh-Hans",title:"少女前线-后勤组合排序器",HTML:{header:"后勤组合排序器 ",Config_text:"全局数据",description_text:"计算结果只和资源（或契约）之间的比例有关。计算结果为均值。",neverShowAgain_description:"[&times;]<u>不再显示</u>",localstorageDoesNotWork:"因某些原因，Web存储无法工作，需要手动导出配置",localstorageWarning_text:"网页使用Web存储，清除浏览器缓存会导致数据清除，请定期手动导出并保存你的数据。",neverShowAgain_localstorageWarning:"[&times;]<u>不再显示</u>",setting:"设置",Tab_Anytime_name:"连续后勤",Tab_Timetable_name:"时间计划表",tab_Anytime_time:"后勤总时长",tab_Anytime_hour:"小时",tab_Anytime_minute:"分钟",tab_Anytime_MinimumIntervalTime:"最短间隔时间",tab_Anytime_MinimumIntervalTime_minute:"分钟",tab_Timetable_time:"后勤总时长",tab_Timetable_hour:"小时",tab_Timetable_minute:"分钟",tab_Timetable_addtimeh5:"新添加一个收取后勤时间点:",tab_Timetable_new_hour:"小时",tab_Timetable_new_minute:"分钟",h4GreatSuccessRate:"后勤队伍平均大成功概率",GreatSuccessRateUp_text:"后勤大成功UP",h4ChapterLimit:"章节解锁",chapter6:"第六战役",chapter7:"第七战役",chapter8:"第八战役",chapter9:"第九战役",chapter10:"第十战役",chapter11:"第十一战役",chapter12:"第十二战役",chapter13:"第十三战役",chapter14:"第十四战役",chapter15:"第十五战役",chapter16:"第十六战役",chapter17:"第十七战役",chapter18:"第十八战役",chapter19:"第十九战役",chapter20:"第二十战役",Display_PerHour_text:"以每小时显示",Display_Total_text:"以总计显示",ContractWeight_notImportant:"契约不重要",ContractWeight_Important:"契约重要",start_sorting:"开始排序",clear_sorting:"清除排序结果",result:"排序结果",Manp:"人力",Ammu:"弹药",Rati:"口粮",Part:"零件",TPro:"人形",Equi:"装备",QPro:"快建",QRes:"快修",setTarget_HG:"手枪HG",setTarget_SMG:"冲锋枪SMG",setTarget_RF:"步枪RF",setTarget_AR:"突击步枪AR",setTarget_MG:"机枪MG",setTarget_SG:"霰弹枪SG",setTarget_2221:"均衡",setTarget_Clear:"清零",MissionTableTitle:"关卡",MissionTable_head_Mission:"关卡",MissionTable_head_Manp:"人力",MissionTable_head_Ammu:"弹药",MissionTable_head_Rati:"口粮",MissionTable_head_Part:"零件",MissionTable_head_TPro:"人形",MissionTable_head_Equi:"装备",MissionTable_head_QPro:"快建",MissionTable_head_QRes:"快修",MissionTable_head_Time:"时间",PlanDetailsTitle:"方案详情",PlanDetails_Mission:"关卡",PlanDetails_Manp:"人力",PlanDetails_Ammu:"弹药",PlanDetails_Rati:"口粮",PlanDetails_Part:"零件",PlanDetails_TPro:"人形",PlanDetails_Equi:"装备",PlanDetails_QPro:"快建",PlanDetails_QRes:"快修",PlanDetails_Time:"时间",savePlan:"保存方案",Capture:"捕获",PlanDetails_InputStartTime_label:"后勤开始时间",PlanDetails_InputExecutionTimes_label:"后勤执行次数",Saved_Title:"已保存的",NoSaved:"空",start_sorting_html:'点击 <span style="color:#165399">开始排序</span> 按钮，排序前十六的结果将在这里显示',permanentAddress:"永久地址: ",calcTargetValueTool_title:"计算需求量工具",calcTargetValueTool_Target_text:"资源契约目标值",calcTargetValueTool_Target_Manp_text:"人力",calcTargetValueTool_Target_Ammu_text:"弹药",calcTargetValueTool_Target_Rati_text:"口粮",calcTargetValueTool_Target_Part_text:"零件",calcTargetValueTool_Target_TPro_text:"人形",calcTargetValueTool_Target_Equi_text:"装备",calcTargetValueTool_Target_QPro_text:"快建",calcTargetValueTool_Target_QRes_text:"快修",calcTargetValueTool_Current_text:"资源契约现值",calcTargetValueTool_Current_Manp_text:"人力",calcTargetValueTool_Current_Ammu_text:"弹药",calcTargetValueTool_Current_Rati_text:"口粮",calcTargetValueTool_Current_Part_text:"零件",calcTargetValueTool_Current_TPro_text:"人形",calcTargetValueTool_Current_Equi_text:"装备",calcTargetValueTool_Current_QPro_text:"快建",calcTargetValueTool_Current_QRes_text:"快修",calcTargetValueTool_InputExecutionTimes_label:"后勤执行次数",calcTargetValueTool_clear:"重置",calcTargetValueTool_startCalc:"计算",calcTargetValueTool_apply_text:"应用",calcTargetValueTool_Result_Manp_text:"人力",calcTargetValueTool_Result_Ammu_text:"弹药",calcTargetValueTool_Result_Rati_text:"口粮",calcTargetValueTool_Result_Part_text:"零件",calcTargetValueTool_Result_TPro_text:"人形",calcTargetValueTool_Result_Equi_text:"装备",calcTargetValueTool_Result_QPro_text:"快建",calcTargetValueTool_Result_QRes_text:"快修"},HTMLJS:{placeholder:{Config_importInput:"要导入的数据",Time_Anytime_hours:"总时长小时数",Time_Anytime_minutes:"总时长分钟数",Tab_Anytime_MinimumIntervalTime_minutes:"最小时间间隔分钟数",Time_Timetable_hours:"总时长小时数",Time_Timetable_minutes:"总时长分钟数",Tab_Timetable_new_hours:"新时间点小时数",Tab_Timetable_new_minutes:"新时间点分钟数",GreatSuccessRate:"大成功基础概率",MT:"人力需求量",AT:"弹药需求量",RT:"口粮需求量",PT:"零件需求量",TT:"人形需求量",ET:"装备需求量",QPT:"快建需求量",QRT:"快修需求量",importSaved_input:"要导入的数据",PlanDetails_InputExecutionTimes:"执行次数"},title:{Config_importButton:"导入全局数据",Config_export:"导出全局数据",tab_Timetable_deleteall:"删除全部时间点",Tab_Timetable_AddNewTimePoint:"添加一个收取后勤时间点",ChapterLimit:"最大已解锁的战役章节",ContractWeight:"契约权重",Target_minus_100_MT:"人力需求量减少100",Target_minus_10_MT:"人力需求量减少10",Target_plus_10_MT:"人力需求量增加10",Target_plus_100_MT:"人力需求量增加100",Target_minus_100_AT:"弹药需求量减少100",Target_minus_10_AT:"弹药需求量减少10",Target_plus_10_AT:"弹药需求量增加10",Target_plus_100_AT:"弹药需求量增加100",Target_minus_100_RT:"口粮需求量减少100",Target_minus_10_RT:"口粮需求量减少10",Target_plus_10_RT:"口粮需求量增加10",Target_plus_100_RT:"口粮需求量增加100",Target_minus_100_PT:"零件需求量减少100",Target_minus_10_PT:"零件需求量减少10",Target_plus_10_PT:"零件需求量增加10",Target_plus_100_PT:"零件需求量增加100",Target_minus_1_TT:"人形需求量减少1","Target_minus_0.1_TT":"人形需求量减少0.1","Target_plus_0.1_TT":"人形需求量增加0.1",Target_plus_1_TT:"人形需求量增加1",Target_minus_1_ET:"装备需求量减少1","Target_minus_0.1_ET":"装备需求量减少0.1","Target_plus_0.1_ET":"装备需求量增加0.1",Target_plus_1_ET:"装备需求量增加1",Target_minus_1_QPT:"快建需求量减少1","Target_minus_0.1_QPT":"快建需求量减少0.1","Target_plus_0.1_QPT":"快建需求量增加0.1",Target_plus_1_QPT:"快建需求量增加1",Target_minus_1_QRT:"快修需求量减少1","Target_minus_0.1_QRT":"快修需求量减少0.1","Target_plus_0.1_QRT":"快修需求量增加0.1",Target_plus_1_QRT:"快修需求量增加1",importSaved_importButton:"导入数据"},Demand_hour:"平均每小时需求量",Demand_total:"总需求量",Timetable_deletePoint:"删除这个时间点",SavedTable_apply:"应用方案",SavedTable_name:"方案名称",SavedTable_rename:"重命名方案",SavedTable_up:"往上移动",SavedTable_down:"往下移动",SavedTable_export:"导出方案",SavedTable_delete:"删除方案",FineTuning_minus:"减小需求量",FineTuning_plus:"增大需求量"},JS:{Manp:"人力",Ammu:"弹药",Rati:"口粮",Part:"零件",TPro:"人形",Equi:"装备",QPro:"快建",QRes:"快修",FineTuningManp:"人力",FineTuningAmmu:"弹药",FineTuningRati:"口粮",FineTuningPart:"零件",FineTuningTPro:"人形",FineTuningEqui:"装备",FineTuningQPro:"快建",FineTuningQRes:"快修",FineTuningTool:"微调工具",TargetValue0_alert:"需求不能全为0！",tab_Anytime_alert1:"总时长不能为0！",tab_Timetable_alert1:"不需要在后勤开始点再添加收取时间点",tab_Timetable_alert2:"添加的收取时间点不能超过最大时限",tab_Timetable_alert3:"已经添加过这个收取时间点",tab_Timetable_alert4:"总时长不能为0！",Mission:"关卡",MinIntervalTime:"最短间隔",NoPlan:"没有合适的方案",NoMission:"没有可用的关卡",PlanDetails_calculateMethod:"计算方式",total_time:"总时长",total_greatSuccessRate:"大成功总概率",PerHour:"平均/h",Total:"总计",ExecutionTimes:"执行次数",plzInputPlanName:"请输入方案名称",planDefaultName:"自定义",deleteSavedWarning_1:"是否要删除这个名为",deleteSavedWarning_2:"的配置？",Saved_alert:"导入的数据有问题！",Saved_alert2:"保存的数量过多，不能再添加",config_alert:"这将会覆盖现有所有的数据，是否要继续？"},CSS:{TargetValueSpan_Width:"55px",FineTuningButton_Width:"60%"}},"zh-TW":{lang:"zh-Hant",title:"少女前線-後勤組合排序器",HTML:{header:"後勤組合排序器 ",Config_text:"全局數據",description_text:"計算結果只和資源（或契約）之間的比例有關。計算結果為期望值。",neverShowAgain_description:"[&times;]<u>不再顯示</u>",localstorageDoesNotWork:"因某些原因，Web存儲無法工作，需要手動導出配置",localstorageWarning_text:"網頁使用Web存儲，清除瀏覽器緩存會導致數據清除，請定期手動導出並保存你的數據。",neverShowAgain_localstorageWarning:"[&times;]<u>不再顯示</u>",setting:"設置",Tab_Anytime_name:"連續後勤",Tab_Timetable_name:"時間計劃表",tab_Anytime_time:"後勤總時長",tab_Anytime_hour:"小時",tab_Anytime_minute:"分鐘",tab_Anytime_MinimumIntervalTime:"最短間隔時間",tab_Anytime_MinimumIntervalTime_minute:"分鐘",tab_Timetable_time:"後勤總時長",tab_Timetable_hour:"小時",tab_Timetable_minute:"分鐘",tab_Timetable_addtimeh5:"新添加一個收取後勤時間點:",tab_Timetable_new_hour:"小時",tab_Timetable_new_minute:"分鐘",h4GreatSuccessRate:"後勤隊伍平均大成功概率",GreatSuccessRateUp_text:"後勤大成功UP",h4ChapterLimit:"章節解鎖",chapter6:"第六戰役",chapter7:"第七戰役",chapter8:"第八戰役",chapter9:"第九戰役",chapter10:"第十戰役",chapter11:"第十一戰役",chapter12:"第十二戰役",chapter13:"第十三戰役",chapter14:"第十四戰役",chapter15:"第十五戰役",chapter16:"第十六戰役",chapter17:"第十七戰役",chapter18:"第十八戰役",chapter19:"第十九戰役",chapter20:"第二十戰役",Display_PerHour_text:"以每小時顯示",Display_Total_text:"以總計顯示",ContractWeight_notImportant:"契約不重要",ContractWeight_Important:"契約重要",start_sorting:"開始排序",clear_sorting:"清除排序結果",result:"排序結果",Manp:"人力",Ammu:"彈藥",Rati:"口糧",Part:"零件",TPro:"人形",Equi:"裝備",QPro:"快建",QRes:"快修",setTarget_HG:"手槍HG",setTarget_SMG:"衝鋒槍SMG",setTarget_RF:"步槍RF",setTarget_AR:"突擊步槍AR",setTarget_MG:"機槍MG",setTarget_SG:"霰彈槍SG",setTarget_2221:"均衡",setTarget_Clear:"清零",MissionTableTitle:"關卡",MissionTable_head_Mission:"關卡",MissionTable_head_Manp:"人力",MissionTable_head_Ammu:"彈藥",MissionTable_head_Rati:"口糧",MissionTable_head_Part:"零件",MissionTable_head_TPro:"人形",MissionTable_head_Equi:"裝備",MissionTable_head_QPro:"快建",MissionTable_head_QRes:"快修",MissionTable_head_Time:"時間",PlanDetailsTitle:"方案詳情",PlanDetails_Mission:"關卡",PlanDetails_Manp:"人力",PlanDetails_Ammu:"彈藥",PlanDetails_Rati:"口糧",PlanDetails_Part:"零件",PlanDetails_TPro:"人形",PlanDetails_Equi:"裝備",PlanDetails_QPro:"快建",PlanDetails_QRes:"快修",PlanDetails_Time:"時間",savePlan:"保存方案",Capture:"捕獲",PlanDetails_InputStartTime_label:"後勤開始時間",PlanDetails_InputExecutionTimes_label:"執行次數",Saved_Title:"已保存的",NoSaved:"空",start_sorting_html:'點擊 <span style="color:#165399">開始排序</span> 按鈕，排序前十六的結果將在這裡顯示',permanentAddress:"永久地址: ",calcTargetValueTool_title:"計算需求量工具",calcTargetValueTool_Target_text:"資源契約目標值",calcTargetValueTool_Target_Manp_text:"人力",calcTargetValueTool_Target_Ammu_text:"彈藥",calcTargetValueTool_Target_Rati_text:"口糧",calcTargetValueTool_Target_Part_text:"零件",calcTargetValueTool_Target_TPro_text:"人形",calcTargetValueTool_Target_Equi_text:"裝備",calcTargetValueTool_Target_QPro_text:"快建",calcTargetValueTool_Target_QRes_text:"快修",calcTargetValueTool_Current_text:"資源契約現值",calcTargetValueTool_Current_Manp_text:"人力",calcTargetValueTool_Current_Ammu_text:"彈藥",calcTargetValueTool_Current_Rati_text:"口糧",calcTargetValueTool_Current_Part_text:"零件",calcTargetValueTool_Current_TPro_text:"人形",calcTargetValueTool_Current_Equi_text:"裝備",calcTargetValueTool_Current_QPro_text:"快建",calcTargetValueTool_Current_QRes_text:"快修",calcTargetValueTool_InputExecutionTimes_label:"後勤執行次數",calcTargetValueTool_clear:"重置",calcTargetValueTool_startCalc:"計算",calcTargetValueTool_apply_text:"應用",calcTargetValueTool_Result_Manp_text:"人力",calcTargetValueTool_Result_Ammu_text:"彈藥",calcTargetValueTool_Result_Rati_text:"口糧",calcTargetValueTool_Result_Part_text:"零件",calcTargetValueTool_Result_TPro_text:"人形",calcTargetValueTool_Result_Equi_text:"裝備",calcTargetValueTool_Result_QPro_text:"快建",calcTargetValueTool_Result_QRes_text:"快修"},HTMLJS:{placeholder:{Config_importInput:"要導入的數據",Time_Anytime_hours:"總時長小時數",Time_Anytime_minutes:"總時長分鐘數",Tab_Anytime_MinimumIntervalTime_minutes:"最小時間間隔分鐘數",Time_Timetable_hours:"總時長小時數",Time_Timetable_minutes:"總時長分鐘數",Tab_Timetable_new_hours:"新時間點小時數",Tab_Timetable_new_minutes:"新時間點分鐘數",GreatSuccessRate:"大成功基礎概率",MT:"人力需求量",AT:"彈藥需求量",RT:"口糧需求量",PT:"零件需求量",TT:"人形需求量",ET:"裝備需求量",QPT:"快建需求量",QRT:"快修需求量",importSaved_input:"要導入的數據",PlanDetails_InputExecutionTimes:"後勤執行次數"},title:{Config_importButton:"導入全局數據",Config_export:"導出全局數據",tab_Timetable_deleteall:"刪除全部時間點",Tab_Timetable_AddNewTimePoint:"添加一個收取後勤時間點",ChapterLimit:"最大已解鎖的戰役章節",ContractWeight:"契約權重",Target_minus_100_MT:"人力需求量減少100",Target_minus_10_MT:"人力需求量減少10",Target_plus_10_MT:"人力需求量增加10",Target_plus_100_MT:"人力需求量增加100",Target_minus_100_AT:"彈藥需求量減少100",Target_minus_10_AT:"彈藥需求量減少10",Target_plus_10_AT:"彈藥需求量增加10",Target_plus_100_AT:"彈藥需求量增加100",Target_minus_100_RT:"口糧需求量減少100",Target_minus_10_RT:"口糧需求量減少10",Target_plus_10_RT:"口糧需求量增加10",Target_plus_100_RT:"口糧需求量增加100",Target_minus_100_PT:"零件需求量減少100",Target_minus_10_PT:"零件需求量減少10",Target_plus_10_PT:"零件需求量增加10",Target_plus_100_PT:"零件需求量增加100",Target_minus_1_TT:"人形需求量減少1","Target_minus_0.1_TT":"人形需求量減少0.1","Target_plus_0.1_TT":"人形需求量增加0.1",Target_plus_1_TT:"人形需求量增加1",Target_minus_1_ET:"裝備需求量減少1","Target_minus_0.1_ET":"裝備需求量減少0.1","Target_plus_0.1_ET":"装备需求量增加0.1",Target_plus_1_ET:"装备需求量增加1",Target_minus_1_QPT:"快建需求量減少1","Target_minus_0.1_QPT":"快建需求量減少0.1","Target_plus_0.1_QPT":"快建需求量增加0.1",Target_plus_1_QPT:"快建需求量增加1",Target_minus_1_QRT:"快修需求量減少1","Target_minus_0.1_QRT":"快修需求量減少0.1","Target_plus_0.1_QRT":"快修需求量增加0.1",Target_plus_1_QRT:"快修需求量增加1",importSaved_importButton:"導入數據"},Demand_hour:"平均每小時需求量",Demand_total:"總需求量",Timetable_deletePoint:"刪除這個時間點",SavedTable_apply:"應用方案",SavedTable_name:"方案名稱",SavedTable_rename:"重命名方案",SavedTable_up:"往上移動",SavedTable_down:"往下移動",SavedTable_export:"導出方案",SavedTable_delete:"刪除方案",FineTuning_minus:"減小需求量",FineTuning_plus:"增大需求量"},JS:{Manp:"人力",Ammu:"彈藥",Rati:"口糧",Part:"零件",TPro:"人形",Equi:"裝備",QPro:"快建",QRes:"快修",FineTuningManp:"人力",FineTuningAmmu:"彈藥",FineTuningRati:"口糧",FineTuningPart:"零件",FineTuningTPro:"人形",FineTuningEqui:"裝備",FineTuningQPro:"快建",FineTuningQRes:"快修",FineTuningTool:"微調工具",TargetValue0_alert:"需求不能全為0！",tab_Anytime_alert1:"總時長不能為0！",tab_Timetable_alert1:"不需要在後勤開始點再添加收取時間點",tab_Timetable_alert2:"添加的收取時間點不能超過最大時限",tab_Timetable_alert3:"已經添加過這個收取時間點",tab_Timetable_alert4:"總時長不能為0！",Mission:"關卡",MinIntervalTime:"最短間隔",NoPlan:"沒有合適的方案",NoMission:"沒有可用的關卡",PlanDetails_calculateMethod:"計算方式",total_time:"總時長",total_greatSuccessRate:"大成功總概率",PerHour:"平均/h",Total:"總計",ExecutionTimes:"執行次數",plzInputPlanName:"請輸入方案名稱",planDefaultName:"自定義",deleteSavedWarning_1:"是否要刪除這個名為",deleteSavedWarning_2:"的配置？",Saved_alert:"導入的數據有問題！",Saved_alert2:"保存的數量過多，不能再添加",config_alert:"這將會覆蓋現有所有的數據，是否要繼續？"},CSS:{TargetValueSpan_Width:"55px",FineTuningButton_Width:"60%"}},en:{lang:"en",title:"Girls' Frontline Logistics Combination Calculator",HTML:{header:"Logistics Combination Calculator ",Config_text:"All configurations",description_text:"The calculation results are only related to the ratio of resources (or contracts). The calculation results are expected value.",neverShowAgain_description:"[&times;] <u>never show again</u>",localstorageDoesNotWork:"For some reason, Web storage doesn't work, you need to manually export the configurations.",localstorageWarning_text:"The pages use Web storage. Clearing the browser cache will cause all data to be cleared. Please manually export and save your data regularly.",neverShowAgain_localstorageWarning:"[&times;] <u>never show again</u>",setting:"Setting",Tab_Anytime_name:"Continuous Logistics",Tab_Timetable_name:"Timetable",tab_Anytime_time:"Total Logistics Time",tab_Anytime_hour:"hr",tab_Anytime_minute:"min",tab_Anytime_MinimumIntervalTime:"Minimum Interval Time",tab_Anytime_MinimumIntervalTime_minute:"min",tab_Timetable_time:"Total Logistics Time",tab_Timetable_hour:"hr",tab_Timetable_minute:"min",tab_Timetable_addtimeh5:"Add a new deployment logistics time point:",tab_Timetable_new_hour:"hr",tab_Timetable_new_minute:"min",h4GreatSuccessRate:"Average Great Success Rate",GreatSuccessRateUp_text:"Great Success rate up",h4ChapterLimit:"Unlocked chapter",chapter6:"Chapter 6",chapter7:"Chapter 7",chapter8:"Chapter 8",chapter9:"Chapter 9",chapter10:"Chapter 10",chapter11:"Chapter 11",chapter12:"Chapter 12",chapter13:"Chapter 13",chapter14:"Chapter 14",chapter15:"Chapter 15",chapter16:"Chapter 16",chapter17:"Chapter 17",chapter18:"Chapter 18",chapter19:"Chapter 19",chapter20:"Chapter 20",Display_PerHour_text:"Hourly",Display_Total_text:"Total",ContractWeight_notImportant:"Contract Weight: 0~100",ContractWeight_Important:"",start_sorting:"Start Sorting",clear_sorting:"Clear Sorting Results",result:"Sorting Results",Manp:"Mpwr",Ammu:"Ammo",Rati:"Ration",Part:"Parts",TPro:"T-Doll",Equi:"Eqpt",QPro:"QProd",QRes:"QRest",setTarget_HG:"Hand Gun",setTarget_SMG:"Sub-Machine Gun",setTarget_RF:"Rifle",setTarget_AR:"Assault Rifle",setTarget_MG:"Machine Gun",setTarget_SG:"Shotgun",setTarget_2221:"Balanced",setTarget_Clear:"Clear",MissionTableTitle:"Missions",MissionTable_head_Mission:"Mission",MissionTable_head_Manp:"Mpwr",MissionTable_head_Ammu:"Ammo",MissionTable_head_Rati:"Ration",MissionTable_head_Part:"Parts",MissionTable_head_TPro:"T-Doll",MissionTable_head_Equi:"Eqpt",MissionTable_head_QPro:"QProd",MissionTable_head_QRes:"QRest",MissionTable_head_Time:"Time",PlanDetailsTitle:"Plan Details",PlanDetails_Mission:"Mission",PlanDetails_Manp:"Mpwr",PlanDetails_Ammu:"Ammo",PlanDetails_Rati:"Ration",PlanDetails_Part:"Parts",PlanDetails_TPro:"T-Doll",PlanDetails_Equi:"Eqpt",PlanDetails_QPro:"QProd",PlanDetails_QRes:"QRest",PlanDetails_Time:"Time",savePlan:"Save Plan",Capture:"Capture",PlanDetails_InputStartTime_label:"Start Time",PlanDetails_InputExecutionTimes_label:"Execution Times",Saved_Title:"Saved Plan",NoSaved:"No Saved Plan",start_sorting_html:'Click <span style="color:#165399">Start Sorting</span> button, top sixteen results will display here',permanentAddress:"Address: ",calcTargetValueTool_title:"Calculate Demand Tool",calcTargetValueTool_Target_text:"Resource and contract target value",calcTargetValueTool_Target_Manp_text:"Mpwr",calcTargetValueTool_Target_Ammu_text:"Ammo",calcTargetValueTool_Target_Rati_text:"Ration",calcTargetValueTool_Target_Part_text:"Parts",calcTargetValueTool_Target_TPro_text:"T-Doll",calcTargetValueTool_Target_Equi_text:"Eqpt",calcTargetValueTool_Target_QPro_text:"QProd",calcTargetValueTool_Target_QRes_text:"QRest",calcTargetValueTool_Current_text:"Resource and contract current value",calcTargetValueTool_Current_Manp_text:"Mpwr",calcTargetValueTool_Current_Ammu_text:"Ammo",calcTargetValueTool_Current_Rati_text:"Ration",calcTargetValueTool_Current_Part_text:"Parts",calcTargetValueTool_Current_TPro_text:"T-Doll",calcTargetValueTool_Current_Equi_text:"Eqpt",calcTargetValueTool_Current_QPro_text:"QProd",calcTargetValueTool_Current_QRes_text:"QRest",calcTargetValueTool_InputExecutionTimes_label:"Execution Times",calcTargetValueTool_clear:"Clear",calcTargetValueTool_startCalc:"Calculate",calcTargetValueTool_apply_text:"Apply",calcTargetValueTool_Result_Manp_text:"Mpwr",calcTargetValueTool_Result_Ammu_text:"Ammo",calcTargetValueTool_Result_Rati_text:"Ration",calcTargetValueTool_Result_Part_text:"Parts",calcTargetValueTool_Result_TPro_text:"T-Doll",calcTargetValueTool_Result_Equi_text:"Eqpt",calcTargetValueTool_Result_QPro_text:"QProd",calcTargetValueTool_Result_QRes_text:"QRest"},HTMLJS:{placeholder:{Config_importInput:"Data to be imported",Time_Anytime_hours:"Hours of total time",Time_Anytime_minutes:"Minutes of total time",Tab_Anytime_MinimumIntervalTime_minutes:"Minutes of minimum interval time",Time_Timetable_hours:"Hours of total time",Time_Timetable_minutes:"Minutes of total time",Tab_Timetable_new_hours:"Hours of new time point",Tab_Timetable_new_minutes:"Minutes of new time point",GreatSuccessRate:"Great Success base rate",MT:"Manpower demand",AT:"Ammunition demand",RT:"Ration demand",PT:"Parts demand",TT:"T-Doll Contract demand",ET:"Equipment Contract demand",QPT:"Quick Production Contract demand",QRT:"Quick Restoration Contract demand",importSaved_input:"Data to be imported",PlanDetails_InputExecutionTimes:"Number of executions"},title:{Config_importButton:"Import configurations",Config_export:"Export configurations",tab_Timetable_deleteall:"Delete all points",Tab_Timetable_AddNewTimePoint:"Add a deployment logistics time point",ChapterLimit:"Maximum unlocked chapter",ContractWeight:"Contract Weight",Target_minus_100_MT:"Reduced Manpower demand by 100",Target_minus_10_MT:"Reduced Manpower demand by 10",Target_plus_10_MT:"Increase Manpower demand by 10",Target_plus_100_MT:"Increase Manpower demand by 100",Target_minus_100_AT:"Reduced Ammunition demand by 100",Target_minus_10_AT:"Reduced Ammunition demand by 10",Target_plus_10_AT:"Increase Ammunition demand by 10",Target_plus_100_AT:"Increase Ammunition demand by 100",Target_minus_100_RT:"Reduced Ration demand by 100",Target_minus_10_RT:"Reduced Ration demand by 10",Target_plus_10_RT:"Increase Ration demand by 10",Target_plus_100_RT:"Increase Ration demand by 100",Target_minus_100_PT:"Reduced Parts demand by 100",Target_minus_10_PT:"Reduced Parts demand by 10",Target_plus_10_PT:"Increase Parts demand by 10",Target_plus_100_PT:"Increase Parts demand by 100",Target_minus_1_TT:"Reduced T-Doll Contract demand by 1","Target_minus_0.1_TT":"Reduced T-Doll Contract demand by 0.1","Target_plus_0.1_TT":"Increase T-Doll Contract demand by 0.1",Target_plus_1_TT:"Increase T-Doll Contract demand by 1",Target_minus_1_ET:"Reduced Equipment Contract demand by 1","Target_minus_0.1_ET":"Reduced Equipment Contract demand by 0.1","Target_plus_0.1_ET":"Increase Equipment Contract demand by 0.1",Target_plus_1_ET:"Increase Equipment Contract demand by 1",Target_minus_1_QPT:"Reduced Quick Production Contract demand by 1","Target_minus_0.1_QPT":"Reduced Quick Production Contract demand by 0.1","Target_plus_0.1_QPT":"Increase Quick Production Contract demand by 0.1",Target_plus_1_QPT:"Increase Quick Production Contract demand by 1",Target_minus_1_QRT:"Reduced Quick Restoration Contract demand by 1","Target_minus_0.1_QRT":"Reduced Quick Restoration Contract demand by 0.1","Target_plus_0.1_QRT":"Increase Quick Restoration Contract demand by 0.1",Target_plus_1_QRT:"Increase Quick Restoration Contract demand by 1",importSaved_importButton:"Import Plan"},Demand_hour:"Hourly demand",Demand_total:"Total demand",Timetable_deletePoint:"Delete this point",SavedTable_apply:"Apply",SavedTable_name:"Plan Name",SavedTable_rename:"Rename",SavedTable_up:"Move Up",SavedTable_down:"Move Down",SavedTable_export:"Export Plan",SavedTable_delete:"Delete Plan",FineTuning_minus:"Reduce demand",FineTuning_plus:"Increase demand"},JS:{Manp:"Mpwr",Ammu:"Ammo",Rati:"Ration",Part:"Parts",TPro:"T-Doll",Equi:"Eqpt",QPro:"QProd",QRes:"QRest",FineTuningManp:"Manpower",FineTuningAmmu:"Ammunition",FineTuningRati:"Ration",FineTuningPart:"Parts",FineTuningTPro:"T-Doll",FineTuningEqui:"Equipment",FineTuningQPro:"Q-Production",FineTuningQRes:"Q-Restoration",FineTuningTool:"Fine Tuning Tool",TargetValue0_alert:"Demand cannot all be 0!",tab_Anytime_alert1:"Total time cannot be 0!",tab_Timetable_alert1:"Cannot add deployment time point at the beginning",tab_Timetable_alert2:"The deployment time point added cannot exceed the total time",tab_Timetable_alert3:"Already added this time point",tab_Timetable_alert4:"Total time cannot be 0!",Mission:"Missions",MinIntervalTime:"Min Intvl",NoPlan:"No suitable plan",NoMission:"No available missions",PlanDetails_calculateMethod:"Mode",total_time:"Total time",total_greatSuccessRate:"Great Success Rate",PerHour:"Hourly",Total:"Total",ExecutionTimes:"Executions",plzInputPlanName:"Please enter the plan name",planDefaultName:"Custom",deleteSavedWarning_1:"Do you want to delete this configuration named ",deleteSavedWarning_2:"?",Saved_alert:"There is a problem with the imported data!",Saved_alert2:"Too many saved plan, cannot add anymore",config_alert:"This operation will overwrite all configurations. Do you want to continue?"},CSS:{TargetValueSpan_Width:"66px",FineTuningButton_Width:"40%"}}};function z(){!0!==(q=function(){try{localStorage.setItem("test_Dlz3bH","KwNYPCpyH7yl2S1K");var e="KwNYPCpyH7yl2S1K"==localStorage.getItem("test_Dlz3bH");return localStorage.removeItem("test_Dlz3bH"),e}catch(e){}}())?(q=!1,document.getElementById("localstorageWarning").style.display="none",document.getElementById("neverShowAgain_description").style.display="none"):document.getElementById("localstorageDoesNotWork").style.display="none"}function U(e,t){if(q){var a=localStorage.getItem("GF_Logistics");null===(a=JSON.parse(a))&&(a={}),a[e]=t,a=JSON.stringify(a),localStorage.setItem("GF_Logistics",a)}}function X(e){if(q){var t=localStorage.getItem("GF_Logistics");if(null===t)return"noStorage";var a=(t=JSON.parse(t))[e];return void 0===a?"noStorage":a}return"noStorage"}function j(){!function(){!1===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:X("Description_Display"))&&(document.getElementById("description").style.display="none")}(),function(){!1===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:X("LocalstorageWarning_Display"))&&(document.getElementById("localstorageWarning").style.display="none")}(),K(),Y(),Z(),ee(),te(),ae(),ne(),ie(),le(),re(),function(){!0===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:X("IsSavedShow"))&&(0===ft.length?U("IsSavedShow",!1):(document.getElementById("MissionTable_panel").style.transition="none",document.getElementById("Saved").style.transition="none",$("#Saved").collapse("show"),$("#MissionTable_panel").collapse("hide")))}(),oe()}function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X("HTML_TAB");"Timetable"===e?(Ae=!0,me(e)):(Ae=!0,me("Anytime"))}function Y(){if("PerHour"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:X("PerHourOrTotal")))U("PerHourOrTotal","PerHour"),Ze=60,document.getElementById("Display_PerHour").checked=!0;else{U("PerHourOrTotal","Total");var e=et();e.setTime(),Ze=e.TotalTime,document.getElementById("Display_Total").checked=!0}}function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X("TabAnytimeCustom");"noStorage"!==e&&(new Ge).ApplySaved_Custom(e)}function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X("TabTimetableCustom");"noStorage"!==e&&(new Oe).ApplySaved_Custom(e)}function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X("GreatSuccessRate");"noStorage"!==e&&u(e)}function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X("is_GreatSuccessRateUP");"noStorage"!==e&&d(e,!1)}function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X("SelectChapter");"noStorage"!==e&&y(e)}function ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X("ContractWeight");"noStorage"!==e&&v(e)}function le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X("TargetValue");"noStorage"!==e&&g(e)}function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X("SAVED");"noStorage"!==e&&function(e){for(;0!==ft.length;)Pt(0,!1);for(var t=0;t<e.length;t++){if(md5(JSON.stringify(e[t].data))!==e[t].MD5)return!1;ft.push(e[t]),U("SAVED",ft),yt(ft.length-1)}}(e)}function oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X("CalcTargetValueTool_Target"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X("CalcTargetValueTool_Current"),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:X("CalcTargetValueTool_ExecutionTimes");"noStorage"!==e&&I(e),"noStorage"!==t&&Q(t),"noStorage"!==a&&L(a)}function ue(e){var t=!0;if(0!==ft.length&&(t=confirm(H.JS.config_alert)),!0===t){try{var a=JSON.parse(e),n=sha1(JSON.stringify(a.data))===a.SHA1}catch(e){}var i;n?(K((i=a.data)[0]),Y(i[1]),Z(i[2]),ee(i[3]),te(i[4]),ae(i[5]),ne(i[6]),ie(i[7]),le(i[8]),re(i[9]),Be(c()),st=[],_t(),ct(),oe(i[10],i[11],i[12])):alert(H.JS.Saved_alert)}}function se(){for(var e in document.documentElement.lang=H.lang,document.title=H.title,H.HTML)$("#"+e).html(H.HTML[e]);for(var t in Ce(),Me(),H.HTMLJS.placeholder)document.getElementById(t).placeholder=H.HTMLJS.placeholder[t];for(var a in H.HTMLJS.title)document.getElementById(a).title=H.HTMLJS.title[a];var n;$("button[id^=Tab_Timetable_range_thumb_]").attr("title",H.HTMLJS.Timetable_deletePoint),$("button[id^=SavedTable_apply_]").attr("title",H.HTMLJS.SavedTable_apply),$("input[id^=SavedTable_name_]").attr("placeholder",H.HTMLJS.SavedTable_name),$("button[id^=SavedTable_rename_]").attr("title",H.HTMLJS.SavedTable_rename),$("button[id^=SavedTable_up_]").attr("title",H.HTMLJS.SavedTable_up),$("button[id^=SavedTable_down_]").attr("title",H.HTMLJS.SavedTable_down),$("button[id^=SavedTable_export_]").attr("title",H.HTMLJS.SavedTable_export),$("button[id^=SavedTable_delete_]").attr("title",H.HTMLJS.SavedTable_delete),dt(),Tt(),mt(),gt(),$("#PlanDetails_PerHour_title").html(H.JS.PerHour),$("#PlanDetails_Total_title").html(H.JS.Total),$("#PlanDetails_AnytimeMinIntervalTime").html(H.JS.MinIntervalTime),ge()?$("#Demand").html(H.HTMLJS.Demand_hour):$("#Demand").html(H.HTMLJS.Demand_total),n=H.CSS,document.getElementById("Manp").style.width=n.TargetValueSpan_Width,document.getElementById("Ammu").style.width=n.TargetValueSpan_Width,document.getElementById("Rati").style.width=n.TargetValueSpan_Width,document.getElementById("Part").style.width=n.TargetValueSpan_Width,document.getElementById("TPro").style.width=n.TargetValueSpan_Width,document.getElementById("Equi").style.width=n.TargetValueSpan_Width,document.getElementById("QPro").style.width=n.TargetValueSpan_Width,document.getElementById("QRes").style.width=n.TargetValueSpan_Width}function _e(){$("button[id^=Target_plus_10_]").attr("style","display:none;"),$("button[id^=Target_plus_0]").attr("style","display:none;"),$("button[id^=Target_minus_10_]").attr("style","display:none;"),$("button[id^=Target_minus_0]").attr("style","display:none;")}function ce(e){switch(e){case"zh-CN":U("lang","zh-CN"),H=O["zh-CN"];break;case"zh-TW":U("lang","zh-TW"),H=O["zh-TW"];break;case"en":U("lang","en"),H=O.en}se()}function de(){for(var e=navigator.userAgent,t=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod","KFAPWI"),a=!1,n=0;n<t.length;n++)if(e.indexOf(t[n])>0){a=!0;break}return a}window.onload=function(){z(),function(){var e=X("lang");"noStorage"===e&&(e=navigator.language||navigator.userLanguage);if("zh"===e.substr(0,2))switch(e){case"zh-HK":case"zh-TW":case"zh-MO":H=O["zh-TW"],U("lang","zh-TW");break;default:H=O["zh-CN"],U("lang","zh-CN")}else H=O.en,U("lang","en")}(),function(){var e="";e+='<button type="button" class="btn btn-default"id="setTarget_HG" style="margin-right: 5px; margin-bottom: 5px;"></button>',e+='<button type="button" class="btn btn-default"id="setTarget_SMG" style="margin-right: 5px; margin-bottom: 5px;"></button>',e+='<button type="button" class="btn btn-default"id="setTarget_RF" style="margin-right: 5px; margin-bottom: 5px;"></button>',e+='<button type="button" class="btn btn-default"id="setTarget_AR" style="margin-right: 5px; margin-bottom: 5px;"></button>',e+='<button type="button" class="btn btn-default"id="setTarget_MG" style="margin-right: 5px; margin-bottom: 5px;"></button>',e+='<button type="button" class="btn btn-default"id="setTarget_SG" style="margin-right: 5px; margin-bottom: 5px;"></button>',e+='<button type="button" class="btn btn-default"id="setTarget_2221" style="margin-right: 5px; margin-bottom: 5px;"></button>',e+='<button type="button" class="btn btn-danger"id="setTarget_Clear" style="margin-right: 5px; margin-bottom: 5px;"></button>',document.getElementById("setTargetButton").innerHTML=e,e="";for(var t=["Manp","Ammu","Rati","Part","TPro","Equi","QPro","QRes"],a=["MT","AT","RT","PT","TT","ET","QPT","QRT"],n=0;n<4;n++)e+='<div class="form-group input-group"style="margin-bottom: 10px;"><span class="input-group-addon"style="padding-right:10px;padding-left:10px;cursor:default;"',e+="id="+t[n]+">",e+='</span><div class="input-group-btn"><button class="btn btn-default"type="button"id="Target_minus_100_'+a[n]+'"style="padding-right:10px;padding-left:10px;border-radius:0;"tabindex=-1>',e+='<b>&minus;</b></button><button class="btn btn-default"type="button"id="Target_minus_10_'+a[n]+'"style="padding-right:10px;padding-left:10px;border-radius:0;"tabindex=-1>',e+='&minus;</button></div><input type="number" min="0"class="form-control"id="',e+=a[n],e+='"value=0 onfocus="this.select();"style="border-left-width:0"><div class="input-group-btn"><button class="btn btn-default"type="button"id="Target_plus_10_'+a[n]+'"style="padding-right:10px;padding-left:10px;"tabindex=-1>',e+='+</button><button class="btn btn-default"type="button"id="Target_plus_100_'+a[n]+'"style="padding-right:10px;padding-left:10px;"tabindex=-1>',e+="<b>&plus;</b></button></div></div>";for(n=4;n<8;n++)e+='<div class="form-group input-group"style="margin-bottom: 10px;"><span class="input-group-addon"style="padding-right:10px;padding-left:10px;cursor:default;"',e+="id="+t[n]+">",e+='</span><div class="input-group-btn"><button class="btn btn-default"id="Target_minus_1_'+a[n]+'"type="button"style="padding-right:10px;padding-left:10px;border-radius:0;"tabindex=-1>',e+='<b>&minus;</b></button><button class="btn btn-default"type="button"id="Target_minus_0.1_'+a[n]+'"style="padding-right:10px;padding-left:10px;border-radius:0;"tabindex=-1>',e+='&minus;</button></div><input type="number" min="0" step="0.01" class="form-control"id="',e+=a[n],e+='"value=0 onfocus="this.select();"style="border-left-width:0"><div class="input-group-btn"><button class="btn btn-default"type="button"id="Target_plus_0.1_'+a[n]+'"style="padding-right:10px;padding-left:10px;"tabindex=-1>',e+='+</button><button class="btn btn-default"type="button"id="Target_plus_1_'+a[n]+'"style="padding-right:10px;padding-left:10px;"tabindex=-1>',e+="<b>&plus;</b></button></div></div>";document.getElementById("setTargetInput").innerHTML=e}(),function(){if(Le.length%4!=0)throw"haha";for(var e=(Le.length-4)/4,t="",a=6;a<=e;a++)t+=a===e?"<option value="+a+' id="chapter'+a+'" selected></option>':"<option value="+a+' id="chapter'+a+'"></option>';document.getElementById("ChapterLimit").innerHTML=t}(),j(),Be(c(!0)),_t(),dt(),Tt(),mt(),gt(),se(),de()&&(document.getElementById("Saved").style.transition="none",document.getElementById("MissionTable_panel").style.transition="none",document.getElementById("calcTargetValueTool_panel").style.transition="none","noStorage"===X("IsSavedShow")&&$("#MissionTable_panel").collapse("hide"),document.getElementById("page-header").style.marginTop="20px",document.getElementById("page-wrapper").style.marginLeft="0",document.getElementById("page-wrapper").style.padding="0",document.getElementById("calcTargetValueTool_apply").innerHTML='<span id="calcTargetValueTool_apply_text">'+H.HTML.calcTargetValueTool_apply_text+"</span> &darr;"),document.getElementById("setTargetInput").getBoundingClientRect().width<=260&&_e(),document.getElementById("wrapper").getBoundingClientRect().width<=1600&&(document.getElementById("page-wrapper").style.marginLeft="0")},$(window).resize(function(){document.getElementById("setTargetInput").getBoundingClientRect().width<=260?_e():($("button[id^=Target_plus_10_]").attr("style","padding-right:10px;padding-left:10px;border-radius:0;"),$("button[id^=Target_plus_0]").attr("style","padding-right:10px;padding-left:10px;border-radius:0;"),$("button[id^=Target_minus_10_]").attr("style","padding-right:10px;padding-left:10px;border-radius:0;"),$("button[id^=Target_minus_0]").attr("style","padding-right:10px;padding-left:10px;border-radius:0;")),document.getElementById("wrapper").getBoundingClientRect().width<=1600?document.getElementById("page-wrapper").style.marginLeft="0":document.getElementById("page-wrapper").style.marginLeft="250px"});var Te=void 0;function me(e){switch(e){case"Anytime":"Anytime"!==Te&&void 0!==Te||(Ae=!1),$("[href=#Tab_Anytime]").tab("show");break;case"Timetable":"Timetable"!==Te&&void 0!==Te||(Ae=!1),$("[href=#Tab_Timetable]").tab("show")}U("HTML_TAB",Te=e)}function ge(){return!!document.getElementById("Display_PerHour").checked}function he(){U("PerHourOrTotal","PerHour"),$("#Demand").html(H.HTMLJS.Demand_hour);var e=et();e.setTime(),Ze=60;for(var t=e.TotalTime,a=T(),n=0;n<8;n++)a[n]=Math.round(a[n]/t*6e3)/100;g(a),_t();var i=document.getElementById("Plan_Table").innerHTML;""!==i&&i!==H.JS.NoPlan&&je(!1,Ke,Ze)}function pe(){U("PerHourOrTotal","Total"),$("#Demand").html(H.HTMLJS.Demand_total);var e=et();e.setTime(),Ze=e.TotalTime;for(var t=e.TotalTime,a=T(),n=0;n<8;n++)a[n]=Math.round(a[n]*t*100/60)/100;g(a),_t();var i=document.getElementById("Plan_Table").innerHTML;""!==i&&i!==H.JS.NoPlan&&je(!1,Ke,Ze)}var be=[];function ve(e){be.push(e);var t=e/x()*100+"%";!function(e,t){var a='<button class="slider-button" id="Tab_Timetable_range_thumb_'+e+'"';a+='style="left:'+t+';" title="'+H.HTMLJS.Timetable_deletePoint+'">',a+='<span class="glyphicon glyphicon-remove-circle" style="font-size: 22px;"></span></button>',$("#Tab_Timetable_range").append(a)}(e,t),function(e,t){var n='<div id="Tab_Timetable_range_tooltip_'+e+'"';be.indexOf(e)%2==0?(n+='class="tooltip top custom-tooltip"',n+='style="left:'+t+'; top:-32px; margin-left: -15px; cursor: default;">'):(n+='class="tooltip bottom custom-tooltip"',n+='style="left:'+t+'; top:12px; margin-left: -15px; cursor: default;">');n+='<div class="tooltip-arrow"></div><div class="tooltip-inner">',n+=a(e)+"</div></div>",$("#Tab_Timetable_range").append(n)}(e,t)}function fe(e){be.remove_First(e);var t="Tab_Timetable_range_thumb_"+e,a="Tab_Timetable_range_tooltip_"+e,n=document.getElementById(t),i=document.getElementById(a),l=document.getElementById("Tab_Timetable_range");l.removeChild(n),l.removeChild(i),0===be.length&&Pe()}function ye(){for(var e=be.length,t=0;t<e;t++)fe(be[0])}function Pe(){$("#Time_Timetable_hours").removeAttr("disabled"),$("#Time_Timetable_minutes").removeAttr("disabled")}function Se(){$("#Time_Timetable_hours").attr("disabled","true"),$("#Time_Timetable_minutes").attr("disabled","true")}function $e(t){var a=e(t),n=t.indexOf(a),i=t.slice(0,n-1),l=parseFloat(e(i));"m"===i.slice(7,8)&&(l*=-1),g(T($("#"+a),!1)+l,$("#"+a))}function Me(){$("#Time_Anytime_hours").removeAttr("disabled"),$("#Time_Anytime_minutes").removeAttr("disabled"),$("#Tab_Anytime_MinimumIntervalTime_minutes").removeAttr("disabled"),0===be.length&&($("#Time_Timetable_hours").removeAttr("disabled"),$("#Time_Timetable_minutes").removeAttr("disabled")),$("#tab_Timetable_deleteall").removeAttr("disabled"),$("button[id^=Tab_Timetable_range_thumb_]").removeAttr("disabled"),$("#Tab_Timetable_new_hours").removeAttr("disabled"),$("#Tab_Timetable_new_minutes").removeAttr("disabled"),$("#Tab_Timetable_AddNewTimePoint").removeAttr("disabled"),$("#GreatSuccessRate").removeAttr("disabled"),$("#GreatSuccessRateUp").removeAttr("disabled"),document.getElementById("GreatSuccessRateUp_text").style.cursor="pointer",document.getElementById("GreatSuccessRateUp_label").style.cursor="pointer",$("#ChapterLimit").removeAttr("disabled"),$("#ContractWeight").removeAttr("disabled"),document.getElementById("ContractWeight_thumb").style.backgroundColor="rgb(112, 166, 236)",$("button[id^=setTarget_]").removeAttr("disabled"),$("#MT").removeAttr("disabled"),$("#AT").removeAttr("disabled"),$("#RT").removeAttr("disabled"),$("#PT").removeAttr("disabled"),$("#TT").removeAttr("disabled"),$("#ET").removeAttr("disabled"),$("#QPT").removeAttr("disabled"),$("#QRT").removeAttr("disabled"),$("button[id^=Target_minus_]").removeAttr("disabled"),$("button[id^=Target_plus_]").removeAttr("disabled"),$("#start_sorting").removeAttr("disabled"),document.getElementById("start_sorting").style.display="",$("#clear_sorting").attr("disabled","true"),document.getElementById("clear_sorting").style.display="none"}function xe(e){"ascending"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"descending")?(G(Ke,e),je("true"===$("[href=#FineTuningTool]").attr("aria-expanded"),Ke,Ze)):(W(Ke,e),je("true"===$("[href=#FineTuningTool]").attr("aria-expanded"),Ke,Ze))}function Ce(){document.getElementById("start_sorting_html").style.display="",document.getElementById("Plan_Table").innerHTML=""}function Re(e){return 13==e.which}$(function(){$("#lang-zh-CN").on("click",function(){ce("zh-CN")}),$("#lang-zh-TW").on("click",function(){ce("zh-TW")}),$("#lang-en").on("click",function(){ce("en")})}),$(function(){$("#neverShowAgain_description").on("click",function(){U("Description_Display",!1),document.getElementById("description").style.display="none"}),$("#neverShowAgain_localstorageWarning").on("click",function(){U("LocalstorageWarning_Display",!1),document.getElementById("localstorageWarning").style.display="none"})});var Ae=!1;function we(){U("TabAnytimeCustom",(new Ge).Saved_Custom())}function Ve(){var e=x();e>4320&&(e=4320,C(4320)),C(e),ge()||(Ze=e),_t(),ct()}function Ee(){U("TabTimetableCustom",(new Oe).Saved_Custom())}function Ie(){var e=R(),t=x();switch(!0){case 0===e:alert(H.JS.tab_Timetable_alert1);break;case e>t:alert(H.JS.tab_Timetable_alert2);break;case e===t||-1!==be.indexOf(e):alert(H.JS.tab_Timetable_alert3);break;default:ve(e)}0===be.length?Pe():Se(),_t(),ct(),Ee()}function ke(){U("TargetValue",T())}function Qe(t){var a=parseInt(e(t.id));if("success"!=t.className){for(var n=0;n<Ke.length;n++)document.getElementById("print_result_plan_tr_"+n).className="";t.className="success",function(e){for(var t=ut.length,a=ut,n=0;n<t;n++)document.getElementById("MissionTable_"+n).className="";for(var i=[],n=0;n<4;n++)i.push(Ke[e][n+1]);st=i,ct();for(var n=0;n<4;n++)for(var l=0;l<t;l++)if(a[l][0]===i[n]){document.getElementById("MissionTable_"+l).className="success";break}}(a)}else t.className=""}function De(t){var a=parseInt(e(t.id));"success"===t.className?function(e){var t=ut[e][0],a=st.indexOf(t);st.splice(a,1),document.getElementById("MissionTable_"+e).className="",ct()}(a):function(e){if(4===st.length){var t,a=st[0];st.shift();for(var n=0;n<ut.length;n++)if(a===ut[n][0]){t=n;break}document.getElementById("MissionTable_"+t).className=""}var i=ut[e][0];st.push(i),document.getElementById("MissionTable_"+e).className="success",ct()}(a)}$(function(){$("[href=#Tab_Anytime]").on("shown.bs.tab",function(){Ae?Ae=!1:function(){if(U("HTML_TAB",Te="Anytime"),Ce(),Me(),!ge()){var e=et();e.setTime(!1),Ze=e.TotalTime}_t(),ct()}()}),$("[href=#Tab_Timetable]").on("shown.bs.tab",function(){Ae?Ae=!1:function(){if(U("HTML_TAB",Te="Timetable"),Ce(),Me(),!ge()){var e=et();e.setTime(!1),Ze=e.TotalTime}_t(),ct()}()})}),$(function(){$("input[id^=Display_]").on("click",function(){ge()?he():pe()}),$("#Display_PerHour_text").on("keyup",function(e){Re(e)&&(document.getElementById("Display_PerHour").checked=!0,he())}),$("#Display_Total_text").on("keyup",function(e){Re(e)&&(document.getElementById("Display_Total").checked=!0,pe())})}),$(function(){$("#GreatSuccessRate").on("input propertychange",function(){var e=o();d(s(),!1),Be(e+_(e)),_t(),ct()}),$("#GreatSuccessRate").blur(function(){U("GreatSuccessRate",o())}),$("#GreatSuccessRateUp").on("click",function(){var e=s();d(e),Be(c(!0)),_t(),ct(),U("is_GreatSuccessRateUP",e)})}),$(function(){$("#ChapterLimit").on("change",function(){_t(),ct(),U("SelectChapter",f())})}),$(function(){$("#Time_Anytime_hours").on("input propertychange",function(){if(P()>4320&&S(4320),!ge()){var e=P();Ze=e}_t(),ct()}),$("#Time_Anytime_hours").blur(function(){we()}),$("#Time_Anytime_minutes").on("input propertychange",function(){if(P()>4320&&S(4320),!ge()){var e=P();Ze=e}_t(),ct()}),$("#Time_Anytime_minutes").blur(function(){we()}),$("#Tab_Anytime_MinimumIntervalTime_minutes").on("input propertychange",function(){_t(),ct()}),$("#Tab_Anytime_MinimumIntervalTime_minutes").blur(function(){we()})}),$(function(){$("#Time_Timetable_hours").on("input propertychange",function(){Ve()}),$("#Time_Timetable_hours").blur(function(){Ee()}),$("#Time_Timetable_minutes").on("input propertychange",function(){Ve()}),$("#Time_Timetable_minutes").blur(function(){Ee()}),$("#Tab_Timetable_new_hours").keyup(function(e){Re(e)&&$("#Tab_Timetable_new_minutes").focus()}),$("#Tab_Timetable_new_minutes").keyup(function(e){Re(e)&&(""!==$("#Tab_Timetable_new_hours").val()&&$("#Tab_Timetable_new_hours").focus(),Ie())}),$("#Tab_Timetable_AddNewTimePoint").on("click",function(){Ie()}),$("#Tab_Timetable_range").on("click","button[id^=Tab_Timetable_range_thumb_]",function(){fe(parseFloat(e(this.id))),_t(),ct(),Ee()}),$("#tab_Timetable_deleteall").on("click",function(){ye(),_t(),ct(),Ee()})}),$(function(){$("#target").on("click","button[id^=setTarget_]",function(){!function(e){switch(e){case"HG":g([130,130,130,130,0,0,0,0]);break;case"SMG":g([430,430,130,230,0,0,0,0]);break;case"RF":g([430,130,430,230,0,0,0,0]);break;case"AR":g([130,430,430,130,0,0,0,0]);break;case"MG":g([730,630,130,430,0,0,0,0]);break;case"SG":g([800,200,800,400,0,0,0,0]);break;case"2221":g([400,400,400,200,0,0,0,0]);break;case"Clear":g(),v()}}(e(this.id))}),$("#ContractWeight").change(function(){U("ContractWeight",b())}),$("#target").on("click","button[id^=Target_minus_]",function(){$e(this.id)}),$("#target").on("click","button[id^=Target_plus_]",function(){$e(this.id)}),$("#target").on("blur","#MT",function(){ke()}),$("#target").on("keyup","#MT",function(e){Re(e)&&$("#AT").focus()}),$("#target").on("blur","#AT",function(){ke()}),$("#target").on("keyup","#AT",function(e){Re(e)&&$("#RT").focus()}),$("#target").on("blur","#RT",function(){ke()}),$("#target").on("keyup","#RT",function(e){Re(e)&&$("#PT").focus()}),$("#target").on("blur","#PT",function(){ke()}),$("#target").on("keyup","#PT",function(e){Re(e)&&$("#TT").focus()}),$("#target").on("blur","#TT",function(){ke()}),$("#target").on("keyup","#TT",function(e){Re(e)&&$("#ET").focus()}),$("#target").on("blur","#ET",function(){ke()}),$("#target").on("keyup","#ET",function(e){Re(e)&&$("#QPT").focus()}),$("#target").on("blur","#QPT",function(){ke()}),$("#target").on("keyup","#QPT",function(e){Re(e)&&$("#QRT").focus()}),$("#target").on("blur","#QRT",function(){ke()})}),$(function(){$("#start_sorting").on("click",function(){!function(){var e=et();e.setTime();var t=e.setValidQAndReturnLengthAndSetCurrentMax(),a=new Ue(e,8);if(t>38){var n=t-3,i=t-2,l=t-1,r=t;for(c=0;c<n;c++)for(d=c+1;d<i;d++)for(T=d+1;T<l;T++)for(m=T+1;m<r;m++)a.CalculateAndPush_Standardization_And_CalculateMissionsValue(c,d,T,m);for(var o=new Array(t),u=0;u<t;u++)o[u]=[u,e.Qvalid[u][11]];W(o,1),o.splice(0,38),W(o,0);for(var u=0;u<o.length;u++)e.Qvalid.splice(o[u][0],1),t--;if("Anytime"===Te){for(var s=[],u=0;u<e.Qvalid.length;u++)s.push(e.Qvalid[u][9]);e.Qvalid_Time=s}}else{var n=t-3,i=t-2,l=t-1,r=t;for(c=0;c<n;c++)for(d=c+1;d<i;d++)for(T=d+1;T<l;T++)for(m=T+1;m<r;m++)a.CalculateAndPush_Standardization(c,d,T,m)}for(var _=function(e){var t=function(e){var t=new Array(8);t.fill(0);var a=new Array(8);a.fill(e.length);for(var n=0;n<8;n++)for(var i=0;i<e.length;i++)t[n]+=e[i][n+4],0==e[i][n+4]&&a[n]--;for(var n=0;n<8;n++)0==a[n]?t[n]=0:t[n]/=a[n];return t}(e.List),a=t.slice(0,4);a.class="Resource";var n=t.slice(4,8);n.class="Contract";for(var i=tt(a,e),l=tt(n,e),r=0;r<4;r++)t[r]=0!=i?e.TargetValue_html[r]/i:0;for(var r=4;r<8;r++)t[r]=0!=l?e.TargetValue_html[r]/l:0;return t}(a),u=0;u<8;u++)_[u]=Math.min(1,_[u]/e.CurrentValue_MAX[u]),_[u]=Math.max(_[u],0);(function(e){for(var t=0;t<8;t++)it[t]=e[t],lt[t]=e[t]})(_),function(e){rt=e}(e),e.normalizedQValid(),a=new Ue(e,16,_);var c,d,T,m,n=t-3,i=t-2,l=t-1,r=t;for(c=0;c<n;c++)for(d=c+1;d<i;d++)for(T=d+1;T<l;T++)for(m=T+1;m<r;m++)a.CalculateAndPush(c,d,T,m);$("#Time_Anytime_hours").attr("disabled","true"),$("#Time_Anytime_minutes").attr("disabled","true"),$("#Tab_Anytime_MinimumIntervalTime_minutes").attr("disabled","true"),$("#Time_Timetable_hours").attr("disabled","true"),$("#Time_Timetable_minutes").attr("disabled","true"),$("#tab_Timetable_deleteall").attr("disabled","true"),$("button[id^=Tab_Timetable_range_thumb_]").attr("disabled","true"),$("#Tab_Timetable_new_hours").attr("disabled","true"),$("#Tab_Timetable_new_minutes").attr("disabled","true"),$("#Tab_Timetable_AddNewTimePoint").attr("disabled","true"),$("#GreatSuccessRate").attr("disabled","true"),$("#GreatSuccessRateUp").attr("disabled","true"),document.getElementById("GreatSuccessRateUp_text").style.cursor="not-allowed",document.getElementById("GreatSuccessRateUp_label").style.cursor="not-allowed",$("#ChapterLimit").attr("disabled","true"),$("#ContractWeight").attr("disabled","true"),document.getElementById("ContractWeight_thumb").style.backgroundColor="#CCC",$("button[id^=setTarget_]").attr("disabled","true"),$("#MT").attr("disabled","true"),$("#AT").attr("disabled","true"),$("#RT").attr("disabled","true"),$("#PT").attr("disabled","true"),$("#TT").attr("disabled","true"),$("#ET").attr("disabled","true"),$("#QPT").attr("disabled","true"),$("#QRT").attr("disabled","true"),$("button[id^=Target_minus_]").attr("disabled","true"),$("button[id^=Target_plus_]").attr("disabled","true"),$("#start_sorting").attr("disabled","true"),document.getElementById("start_sorting").style.display="none",$("#clear_sorting").removeAttr("disabled"),document.getElementById("clear_sorting").style.display="",a.print(!1)}()}),$("#clear_sorting").on("click",function(){Ce(),Me()})}),$(function(){$("#Plan_Table").on("click","tr[id^=print_result_plan_tr_]",function(){Qe(this)}),$("#Plan_Table").on("keyup","tr[id^=print_result_plan_tr_]",function(e){Re(e)&&Qe(this)}),$("#Plan_Table").on("click","#resultPlan_Mission",function(){Ye="Ranking",xe(0,"ascending")}),$("#Plan_Table").on("keyup","#resultPlan_Mission",function(e){Re(e)&&(Ye="Ranking",xe(0,"ascending"))}),$("#Plan_Table").on("click","#resultPlan_Manp",function(){Ye="Manp",xe(5)}),$("#Plan_Table").on("keyup","#resultPlan_Manp",function(e){Re(e)&&(Ye="Manp",xe(5))}),$("#Plan_Table").on("click","#resultPlan_Ammu",function(){Ye="Ammu",xe(6)}),$("#Plan_Table").on("keyup","#resultPlan_Ammu",function(e){Re(e)&&(Ye="Ammu",xe(6))}),$("#Plan_Table").on("click","#resultPlan_Rati",function(){Ye="Rati",xe(7)}),$("#Plan_Table").on("keyup","#resultPlan_Rati",function(e){Re(e)&&(Ye="Rati",xe(7))}),$("#Plan_Table").on("click","#resultPlan_Part",function(){Ye="Part",xe(8)}),$("#Plan_Table").on("keyup","#resultPlan_Part",function(e){Re(e)&&(Ye="Part",xe(8))}),$("#Plan_Table").on("click","#resultPlan_TPro",function(){Ye="TPro",xe(9)}),$("#Plan_Table").on("keyup","#resultPlan_TPro",function(e){Re(e)&&(Ye="TPro",xe(9))}),$("#Plan_Table").on("click","#resultPlan_Equi",function(){Ye="Equi",xe(10)}),$("#Plan_Table").on("keyup","#resultPlan_Equi",function(e){Re(e)&&(Ye="Equi",xe(10))}),$("#Plan_Table").on("click","#resultPlan_QPro",function(){Ye="QPro",xe(11)}),$("#Plan_Table").on("keyup","#resultPlan_QPro",function(e){Re(e)&&(Ye="QPro",xe(11))}),$("#Plan_Table").on("click","#resultPlan_QRes",function(){Ye="QRes",xe(12)}),$("#Plan_Table").on("keyup","#resultPlan_QRes",function(e){Re(e)&&(Ye="QRes",xe(12))})}),$(function(){$("#Plan_Table").on("shown.bs.collapse","#FineTuningTool",function(){de()||(document.getElementById("FineTuningTool").style.transition="")}),$("#Plan_Table").on("click","button[id^=FineTuning_minus_]",function(){ot(-1,e(this.id))}),$("#Plan_Table").on("click","button[id^=FineTuning_plus_]",function(){ot(1,e(this.id))})}),$(function(){$("#Saved_heading").on("keyup",function(e){Re(e)&&("false"===$("#Saved_heading").attr("aria-expanded")?($("#MissionTable_panel").collapse("hide"),$("#Saved").collapse("show")):$("#Saved").collapse("hide"))}),$("#Saved_heading").on("click",function(){"false"===$("#Saved_heading").attr("aria-expanded")?($("#MissionTable_panel").collapse("hide"),$("#Saved").collapse("show")):$("#Saved").collapse("hide")}),$("#importSaved_importButton").on("click",function(){!function(e){try{var t=JSON.parse(e),a=md5(JSON.stringify(t.data)),n=a===t.MD5}catch(e){}n?(ft.push(t),U("SAVED",ft),yt(ft.length-1)):alert(H.JS.Saved_alert)}($("#importSaved_input").val()),$("#importSaved_input").val("")}),$("#Saved_Body").on("click","button[id^=SavedTable_apply_]",function(){!function(e){var t=ft[e].data,a=t[1];Ae=!0,me(a),u(t[2]),d(t[3]),y(t[4]);var n=et();n.ApplySaved_Custom(t[5]),st=t[6].slice(),void 0!==t[7]?w(t[7]):w(0);Ce(),Me(),ge()||(n.setTime(!1),Ze=n.TotalTime);_t(),ct()}(parseInt(e(this.id)))}),$("#Saved_Body").on("input propertychange","input[id^=SavedTable_name_]",function(){var t,a;t=parseInt(e(this.id)),a=$("#SavedTable_name_"+t).val(),ft[t].data[0]=a,ft[t].MD5=md5(JSON.stringify(ft[t].data)),U("SAVED",ft)}),$("#Saved_Body").on("keyup","input[id^=SavedTable_name_]",function(e){if(Re(e)){var t="#"+this.id;$(t).attr("readOnly",!0)}}),$("#Saved_Body").on("blur","input[id^=SavedTable_name_]",function(){var e="#"+this.id;$(e).attr("readOnly",!0)}),$("#Saved_Body").on("click","button[id^=SavedTable_rename_]",function(){var t="#SavedTable_name_"+parseInt(e(this.id));$(t).attr("readOnly",!1),$(t).focus(),$(t).select()}),$("#Saved_Body").on("click","button[id^=SavedTable_up_]",function(){!function(e){$("#SavedTable_name_"+e).val(ft[e-1].data[0]),$("#SavedTable_name_"+(e-1)).val(ft[e].data[0]);var t=[ft[e-1],ft[e]];ft[e]=t[0],ft[e-1]=t[1],U("SAVED",ft)}(parseInt(e(this.id)))}),$("#Saved_Body").on("click","button[id^=SavedTable_down_]",function(){!function(e){$("#SavedTable_name_"+e).val(ft[e+1].data[0]),$("#SavedTable_name_"+(e+1)).val(ft[e].data[0]);var t=[ft[e+1],ft[e]];ft[e]=t[0],ft[e+1]=t[1],U("SAVED",ft)}(parseInt(e(this.id)))}),$("#Saved_Body").on("click","button[id^=SavedTable_export_]",function(){var t,a;t=parseInt(e(this.id)),a=JSON.stringify(ft[t]),prompt("export",a)}),$("#Saved_Body").on("click","button[id^=SavedTable_delete_]",function(){Pt(parseInt(e(this.id)))})}),$(function(){$("#MissionTable_heading").on("keyup",function(e){Re(e)&&("false"===$("#MissionTable_panel").attr("aria-expanded")?($("#MissionTable_panel").collapse("show"),$("#Saved").collapse("hide")):$("#MissionTable_panel").collapse("hide"))}),$("#MissionTable_heading").on("click",function(){"false"===$("#MissionTable_panel").attr("aria-expanded")?($("#MissionTable_panel").collapse("show"),$("#Saved").collapse("hide")):$("#MissionTable_panel").collapse("hide")}),$("#MissionTable_head_Mission").on("click",function(){G(ut,12),_t(!1)}),$("#MissionTable_head_Mission").on("keyup",function(e){Re(e)&&(G(ut,12),_t(!1))}),$("#MissionTable_head_Manp").on("click",function(){W(ut,1),_t(!1)}),$("#MissionTable_head_Manp").on("keyup",function(e){Re(e)&&(W(ut,1),_t(!1))}),$("#MissionTable_head_Ammu").on("click",function(){W(ut,2),_t(!1)}),$("#MissionTable_head_Ammu").on("keyup",function(e){Re(e)&&(W(ut,2),_t(!1))}),$("#MissionTable_head_Rati").on("click",function(){W(ut,3),_t(!1)}),$("#MissionTable_head_Rati").on("keyup",function(e){Re(e)&&(W(ut,3),_t(!1))}),$("#MissionTable_head_Part").on("click",function(){W(ut,4),_t(!1)}),$("#MissionTable_head_Part").on("keyup",function(e){Re(e)&&(W(ut,4),_t(!1))}),$("#MissionTable_head_TPro").on("click",function(){W(ut,5),_t(!1)}),$("#MissionTable_head_TPro").on("keyup",function(e){Re(e)&&(W(ut,5),_t(!1))}),$("#MissionTable_head_Equi").on("click",function(){W(ut,6),_t(!1)}),$("#MissionTable_head_Equi").on("keyup",function(e){Re(e)&&(W(ut,6),_t(!1))}),$("#MissionTable_head_QPro").on("click",function(){W(ut,7),_t(!1)}),$("#MissionTable_head_QPro").on("keyup",function(e){Re(e)&&(W(ut,7),_t(!1))}),$("#MissionTable_head_QRes").on("click",function(){W(ut,8),_t(!1)}),$("#MissionTable_head_QRes").on("keyup",function(e){Re(e)&&(W(ut,8),_t(!1))}),$("#MissionTable_head_Time").on("click",function(){G(ut,9),_t(!1)}),$("#MissionTable_head_Time").on("keyup",function(e){Re(e)&&(G(ut,9),_t(!1))}),$("#MissionTable_panel").on("click","tr[id^=MissionTable_]",function(){De(this)}),$("#MissionTable_panel").on("keyup","tr[id^=MissionTable_]",function(e){Re(e)&&De(this)})}),$(function(){$("#MissionTable_panel").on("shown.bs.collapse",function(){U("IsSavedShow",!1)}),$("#MissionTable_panel").on("hidden.bs.collapse",function(){de()||(document.getElementById("MissionTable_panel").style.transition="")}),$("#Saved").on("shown.bs.collapse",function(){U("IsSavedShow",!0),de()||(document.getElementById("Saved").style.transition="")})}),$(function(){$("#savePlan").on("click",function(){!function(){if(ft.length>=999)return void alert(H.JS.Saved_alert2);var e=prompt(H.JS.plzInputPlanName,H.JS.planDefaultName);if(null==e)return;""==e&&(e=H.JS.planDefaultName);var t=o(),a=s(),n=f(),i=[],l=et().Saved_Custom(),r=st.slice(),u=A();i.push(e),i.push(Te),i.push(t),i.push(a),i.push(n),i.push(l),i.push(r),i.push(u);var _={data:[],MD5:""};_.data=i,_.MD5=md5(JSON.stringify(i)),ft.push(_),U("SAVED",ft),yt(ft.length-1)}()}),$("#Capture").on("click",function(){html2canvas(document.getElementById("PlanDetails"),{logging:!1,scale:1}).then(function(e){var t=document.createElement("a");t.href=e.toDataURL(),t.download="Capture.png",document.body.appendChild(t),t.click(),document.body.removeChild(t)})}),$("#PlanDetails_InputStartTime").on("input propertychange",function(){if(0!==st.length){var e=ht(),t=et();t.setTime(!1),bt(e,t.TotalTime)}}),$("#PlanDetails_InputExecutionTimes").on("input propertychange",function(){if(gt(),0!==st.length){var e=ht(),t=et();t.setTime(!1),pt(e,t.TotalTime,V())}})}),$(function(){$("#Config_export").on("click",function(){!function(){var e=[];e.push(Te),ge()?e.push("PerHour"):e.push("Total");var t=new Ge;e.push(t.Saved_Custom()),t=new Oe,e.push(t.Saved_Custom()),e.push(o()),e.push(s()),e.push(f()),e.push(b()),e.push(T()),e.push(ft),e.push(E()),e.push(k()),e.push(D());var a=sha1(JSON.stringify(e)),n={data:[],SHA1:""};n.data=e,n.SHA1=a,prompt("export",JSON.stringify(n))}()}),$("#Config_importButton").on("click",function(){ue($("#Config_importInput").val()),$("#Config_importInput").val("")})}),$(function(){$("#calcTargetValueTool_clear").on("click",function(){!function(){I(),Q(),L();for(var e=["Manp","Ammu","Rati","Part","TPro","Equi","QPro","QRes"],t=0;t<8;t++)$("#calcTargetValueTool_Result_"+e[t]+"_value").html("")}()}),$("#calcTargetValueTool_startCalc").on("click",function(){St()}),$("#calcTargetValueTool_apply").on("click",function(){!function(){var e=St();if(ge()){var t=et();t.setTime();for(var a=t.TotalTime/60,n=0;n<8;n++)e[n]/=a}g(e)}()}),$("input[id^=calcTargetValueTool_Target_]").on("blur",function(){U("CalcTargetValueTool_Target",E())}),$("input[id^=calcTargetValueTool_Current_]").on("blur",function(){U("CalcTargetValueTool_Current",k())}),$("#calcTargetValueTool_InputExecutionTimes").on("blur",function(){U("CalcTargetValueTool_ExecutionTimes",D())}),$("#calcTargetValueTool_Target_Manp").on("keyup",function(e){Re(e)&&$("#calcTargetValueTool_Target_Ammu").focus()}),$("#calcTargetValueTool_Target_Ammu").on("keyup",function(e){Re(e)&&$("#calcTargetValueTool_Target_Rati").focus()}),$("#calcTargetValueTool_Target_Rati").on("keyup",function(e){Re(e)&&$("#calcTargetValueTool_Target_Part").focus()}),$("#calcTargetValueTool_Target_Part").on("keyup",function(e){Re(e)&&$("#calcTargetValueTool_Target_TPro").focus()}),$("#calcTargetValueTool_Target_TPro").on("keyup",function(e){Re(e)&&$("#calcTargetValueTool_Target_Equi").focus()}),$("#calcTargetValueTool_Target_Equi").on("keyup",function(e){Re(e)&&$("#calcTargetValueTool_Target_QPro").focus()}),$("#calcTargetValueTool_Target_QPro").on("keyup",function(e){Re(e)&&$("#calcTargetValueTool_Target_QRes").focus()}),$("#calcTargetValueTool_Target_QRes").on("keyup",function(e){Re(e)&&$("#calcTargetValueTool_Current_Manp").focus()}),$("#calcTargetValueTool_Current_Manp").on("keyup",function(e){Re(e)&&$("#calcTargetValueTool_Current_Ammu").focus()}),$("#calcTargetValueTool_Current_Ammu").on("keyup",function(e){Re(e)&&$("#calcTargetValueTool_Current_Rati").focus()}),$("#calcTargetValueTool_Current_Rati").on("keyup",function(e){Re(e)&&$("#calcTargetValueTool_Current_Part").focus()}),$("#calcTargetValueTool_Current_Part").on("keyup",function(e){Re(e)&&$("#calcTargetValueTool_Current_TPro").focus()}),$("#calcTargetValueTool_Current_TPro").on("keyup",function(e){Re(e)&&$("#calcTargetValueTool_Current_Equi").focus()}),$("#calcTargetValueTool_Current_Equi").on("keyup",function(e){Re(e)&&$("#calcTargetValueTool_Current_QPro").focus()}),$("#calcTargetValueTool_Current_QPro").on("keyup",function(e){Re(e)&&$("#calcTargetValueTool_Current_QRes").focus()}),$("#calcTargetValueTool_Current_QRes").on("keyup",function(e){Re(e)&&$("#calcTargetValueTool_InputExecutionTimes").focus()})});var Le=[["0-1",0,145,145,0,0,0,0,0,50],["0-2",550,0,0,350,0,0,0,0,180],["0-3",900,900,900,250,0,0,0,0,720],["0-4",0,1200,800,750,0,0,0,0,1440],["1-1",10,30,15,0,0,0,0,0,15],["1-2",0,40,60,0,0,0,0,0,30],["1-3",30,0,30,10,0,0,0,0,60],["1-4",160,160,0,0,0,0,0,0,120],["2-1",100,0,0,30,0,0,0,0,40],["2-2",60,200,80,0,0,0,0,0,90],["2-3",10,10,10,230,0,0,0,0,240],["2-4",0,250,600,60,0,0,0,0,360],["3-1",50,0,75,0,0,0,0,0,20],["3-2",0,120,70,30,0,0,0,0,45],["3-3",0,300,0,0,0,0,0,0,90],["3-4",0,0,300,300,0,0,0,0,300],["4-1",0,185,185,0,0,0,0,0,60],["4-2",0,0,0,210,0,0,0,0,120],["4-3",800,550,0,0,0,0,0,0,360],["4-4",400,400,400,150,0,0,0,0,480],["5-1",0,0,100,45,0,0,0,0,30],["5-2",0,600,300,0,0,0,0,0,150],["5-3",800,400,400,0,0,0,0,0,240],["5-4",100,0,0,700,0,0,0,0,420],["6-1",300,300,0,100,0,0,0,0,120],["6-2",0,200,550,100,0,0,0,0,180],["6-3",0,0,200,500,0,0,0,0,300],["6-4",800,800,800,0,0,0,0,0,720],["7-1",650,0,650,0,0,0,0,0,150],["7-2",0,650,0,300,0,0,0,0,240],["7-3",900,600,600,0,0,0,0,0,330],["7-4",250,250,250,600,0,0,0,0,480],["8-1",150,150,150,0,0,0,0,0,60],["8-2",0,0,0,450,0,0,0,0,180],["8-3",400,800,800,0,0,0,0,0,360],["8-4",1500,400,400,100,0,0,0,0,540],["9-1",0,0,100,50,0,0,0,0,30],["9-2",180,0,180,100,0,0,0,0,90],["9-3",750,750,0,0,0,0,0,0,270],["9-4",500,900,900,0,0,0,0,0,420],["10-1",140,200,0,0,0,0,0,0,40],["10-2",0,240,180,0,0,0,0,0,100],["10-3",0,480,480,300,0,0,0,0,320],["10-4",660,660,660,330,0,0,0,0,600],["11-1",350,1050,0,0,0,0,0,0,240],["11-2",360,540,540,0,0,0,0,0,240],["11-3",0,750,1500,250,0,0,0,0,480],["11-4",0,1650,0,900,0,0,0,0,600],["12-1",0,220,220,0,0,0,0,0,60],["12-2",360,0,0,120,0,0,0,0,90],["12-3",800,1200,1200,0,0,0,0,0,540],["12-4",1800,0,1800,0,0,0,0,0,720]];function Be(e){var t=e/100;Le[1][5]=He(50,50,t),Le[7][5]=He(20,20,t),Le[11][5]=He(80,80,t),Le[15][5]=He(40,80,t),Le[18][5]=.7,Le[23][5]=He(40,40,t),Le[29][5]=.6,Le[35][5]=He(90,90,t),Le[38][5]=He(70,70,t),Le[41][5]=.75,Le[44][5]=.5,Le[45][5]=1,Le[51][5]=1,Le[2][6]=He(40,80,t),Le[15][6]=He(40,80,t),Le[16][6]=He(20,20,t),Le[22][6]=He(50,50,t),Le[26][6]=He(60,60,t),Le[30][6]=He(70,70,t),Le[32][6]=He(40,40,t),Le[39][6]=1,Le[43][6]=He(50,50,t),Le[44][6]=.5,Le[48][6]=He(60,60,t),Le[0][7]=He(20,70,t),Le[10][7]=.5,Le[14][7]=He(40,85,t),Le[17][7]=He(50,50,t),Le[19][7]=1,Le[25][7]=He(20,70,t),Le[31][7]=He(80,80,t),Le[34][7]=He(60,90,t),Le[37][7]=He(25,25,t),Le[41][7]=.25,Le[42][7]=He(30,80,t),Le[47][7]=1,Le[50][7]=1,Le[0][8]=He(50,70,t),Le[2][8]=He(40,80,t),Le[6][8]=He(60,60,t),Le[9][8]=He(30,30,t),Le[10][8]=.5,Le[14][8]=He(45,85,t),Le[18][8]=.3,Le[21][8]=He(80,80,t),Le[25][8]=He(50,70,t),Le[29][8]=.4,Le[33][8]=He(80,80,t),Le[34][8]=He(30,90,t),Le[42][8]=He(50,80,t),Le[46][8]=He(50,50,t)}function He(e,t,a){return e/100+(e/t-e/100)*a}var Je=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function Fe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ne(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var We=function(){function e(){B(this,e),this._title='<thead><tr style="cursor: pointer;"><th style="text-align: center;width:20%;" colspan="4" tabindex="0" id="resultPlan_Mission">'+H.JS.Mission+"</th>",this._titleEnd="</tr></thead>",this.Qvalid=[]}return Je(e,[{key:"setTime",value:function(){}},{key:"setValidQAndReturnLengthAndSetCurrentMax",value:function(){}},{key:"_setCurrentMax",value:function(){for(var e=[0,0,0,0,0,0,0,0],t=0;t<8;t++){for(var a=new Array(this.Qvalid.length),n=0;n<this.Qvalid.length;n++)a[n]=this.Qvalid[n][t+1];F(a),e[t]=a[0]+a[1]+a[2]+a[3]}this.CurrentValue_MAX=e}},{key:"normalizedQValid",value:function(){for(var e=0;e<this.Qvalid.length;e++)for(var t=0;t<8;t++)0!==this.CurrentValue_MAX[t]&&(this.Qvalid[e][t+1]/=this.CurrentValue_MAX[t])}},{key:"_getUnableLogistic",value:function(){var e=function(){var e=f();if(e<6)throw"haha";var t=4*(e+1),a=[],n=Le.length-1;for(;t<=n;)a.push(t++);return a}();return this._setUnableLogisticCustomize(e)}},{key:"_setUnableLogisticCustomize",value:function(e){for(var t=0;t<Le.length;t++)Le[t][9]>this.TotalTime&&-1===e.indexOf(t)&&e.push(t);return e}},{key:"Calculate_Current",value:function(e,t,a,n){for(var i=[0,0,0,0,0,0,0,0],l=this.Qvalid,r=l[e],o=l[t],u=l[a],s=l[n],_=0;_<8;_++)i[_]=r[_+1]+o[_+1]+u[_+1]+s[_+1];return i}},{key:"PrintPlanTableTitle",value:function(){}},{key:"PrintTableCustomize",value:function(e,t){return""}},{key:"Saved_Custom",value:function(){return[]}},{key:"ApplySaved_Custom",value:function(e){}}]),e}();var Ge=function(e){function t(){B(this,t);var e=Fe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.PlanTableResourceAndContractWidth="8.88%",e.Qvalid_Time=[],e}return Ne(t,We),Je(t,[{key:"setTime",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.TotalTime=P(e),e&&0===this.TotalTime)throw alert(H.JS.tab_Anytime_alert1),Me(),"--";this.MinimumIntervalTime=M(e)}},{key:"setValidQAndReturnLengthAndSetCurrentMax",value:function(){for(var e=this._getUnableLogistic(),t=0;t<Le.length;t++)if(-1===e.indexOf(t)){var a=[];a.push(Le[t][0]);for(var n=0;(++n+1)*Le[t][9]<=this.TotalTime;);for(var i=1;i<9;i++)a.push(Le[t][i]*n/this.TotalTime);a.push(Le[t][9]);var l=[];for(i=1;i<=n;i++)l.push(Le[t][9]*i);a.push(l),a.push(0),this.Qvalid.push(a),this.Qvalid_Time.push(Le[t][9])}return G(this.Qvalid,9),N(this.Qvalid_Time),this._setCurrentMax(),this.Qvalid.length}},{key:"_setUnableLogisticCustomize",value:function(e){for(var t=0;t<Le.length;t++){(Le[t][9]>this.TotalTime||Le[t][9]<this.MinimumIntervalTime)&&-1===e.indexOf(t)&&e.push(t);var a=this.TotalTime%Le[t][9];a<this.MinimumIntervalTime&&0!==a&&-1===e.indexOf(t)&&e.push(t)}return e}},{key:"Calculate_Current",value:function(e,t,a,n){var i=this.Qvalid,l=this.Qvalid_Time,r=this.MinimumIntervalTime;if(r){var o=[l[e],l[t],l[a],l[n]],u=Math.min(o[1]-o[0]==0?r:o[1]-o[0],o[2]-o[1]==0?r:o[2]-o[1],o[3]-o[2]==0?r:o[3]-o[2]);if(u<r)return[-1,-1,-1,-1,-1,-1,-1,-1];if((u=qe(o,this.TotalTime))<r)return[-1,-1,-1,-1,-1,-1,-1,-1]}for(var s=[0,0,0,0,0,0,0,0],_=i[e],c=i[t],d=i[a],T=i[n],m=0;m<8;m++)s[m]=_[m+1]+c[m+1]+d[m+1]+T[m+1];return s}},{key:"PrintPlanTableTitle",value:function(){return ge()?this._title+'<th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_Manp">'+H.JS.Manp+'/h</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_Ammu">'+H.JS.Ammu+'/h</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_Rati">'+H.JS.Rati+'/h</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_Part">'+H.JS.Part+'/h</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_TPro">'+H.JS.TPro+'/h</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_Equi">'+H.JS.Equi+'/h</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_QPro">'+H.JS.QPro+'/h</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_QRes">'+H.JS.QRes+'/h</th><th style="text-align: center;width:8.88%;cursor:default;">'+H.JS.MinIntervalTime+"</th>"+this._titleEnd:this._title+'<th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_Manp">'+H.JS.Manp+'</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_Ammu">'+H.JS.Ammu+'</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_Rati">'+H.JS.Rati+'</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_Part">'+H.JS.Part+'</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_TPro">'+H.JS.TPro+'</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_Equi">'+H.JS.Equi+'</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_QPro">'+H.JS.QPro+'</th><th style="text-align: center;width:8.88%;"tabindex="0" id="resultPlan_QRes">'+H.JS.QRes+'</th><th style="text-align: center;width:8.88%;cursor:default;">'+H.JS.MinIntervalTime+"</th>"+this._titleEnd}},{key:"PrintTableCustomize",value:function(e,t){var a=[],n=[e.List[t][0],e.List[t][1],e.List[t][2],e.List[t][3]],i=[this.Qvalid_Time[n[0]],this.Qvalid_Time[n[1]],this.Qvalid_Time[n[2]],this.Qvalid_Time[n[3]]];return a.push(qe(i,this.TotalTime)+"m"),a}},{key:"Saved_Custom",value:function(){var e=[],t=P();e.push(t);var a=M();return e.push(a),e}},{key:"ApplySaved_Custom",value:function(e){var t=e[0],a=e[1];S(t),function(e){$("#Tab_Anytime_MinimumIntervalTime_minutes").val(e)}(a),U("TabAnytimeCustom",e)}}]),t}();function qe(e,t){for(var a=e[0],n=0;n<4;n++){var i=t%e[n];0!==i&&(a=a<i?a:i)}var l=e[0],r=e[1],o=e[2],u=e[3],s=4,_=t;if(u%o!=0&&u%r!=0&&u%l!=0||s--,o%r!=0&&o%l!=0||(3===s?s--:e[2]=_),r%l==0&&(2===s?s--:e[1]=_),1===s)return a;for(var c=l;c<_;){var d=_,T=0;for(n=-1;++n<s;)e[n]<=d&&(d=e[n],T=n);switch(T){case 0:e[0]+=l;break;case 1:e[1]+=r;break;case 2:e[2]+=o;break;case 3:e[3]+=u}var m=d-c;0!==m&&(c=d,a=a<m?a:m)}return a}var Oe=function(e){function t(){B(this,t);var e=Fe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.Qvalid=[],e.TimeList=[],e.PlanTableResourceAndContractWidth="10%",e}return Ne(t,We),Je(t,[{key:"setTime",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.TimeList=be.slice().sort(ze),this.TimeList.unshift(0),this.TotalTime=x(e),e&&0===this.TotalTime)throw alert(H.JS.tab_Timetable_alert4),Me(),"--";this.TimeList.push(this.TotalTime)}},{key:"setValidQAndReturnLengthAndSetCurrentMax",value:function(){for(var e=this._getUnableLogistic(),t=0;t<Le.length;t++)if(-1===e.indexOf(t)){var a=[];a.push(Le[t][0]);for(var n=0,i=[],l=0,r=1;r<this.TimeList.length;r++)Le[t][9]<=this.TimeList[r]-this.TimeList[l]&&(n++,i.push(this.TimeList[l]+Le[t][9]),l=r);for(r=1;r<9;r++)a.push(Le[t][r]*n/this.TotalTime);a.push(Le[t][9]),a.push(i),a.push(0),this.Qvalid.push(a)}return this._setCurrentMax(),this.Qvalid.length}},{key:"PrintPlanTableTitle",value:function(){return ge()?this._title+'<th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_Manp">'+H.JS.Manp+'/h</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_Ammu">'+H.JS.Ammu+'/h</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_Rati">'+H.JS.Rati+'/h</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_Part">'+H.JS.Part+'/h</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_TPro">'+H.JS.TPro+'/h</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_Equi">'+H.JS.Equi+'/h</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_QPro">'+H.JS.QPro+'/h</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_QRes">'+H.JS.QRes+"/h</th>"+this._titleEnd:this._title+'<th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_Manp">'+H.JS.Manp+'</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_Ammu">'+H.JS.Ammu+'</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_Rati">'+H.JS.Rati+'</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_Part">'+H.JS.Part+'</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_TPro">'+H.JS.TPro+'</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_Equi">'+H.JS.Equi+'</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_QPro">'+H.JS.QPro+'</th><th style="text-align: center;width:10%;"tabindex="0" id="resultPlan_QRes">'+H.JS.QRes+"</th>"+this._titleEnd}},{key:"Saved_Custom",value:function(){var e=[],t=x();e.push(t);var a=be.slice();return e.push(a),e}},{key:"ApplySaved_Custom",value:function(e){C(e[0]),function(e){ye();for(var t=0;t<e.length;t++)ve(e[t]);0===be.length?Pe():Se()}(e[1]),U("TabTimetableCustom",e)}}]),t}();function ze(e,t){return e-t}Je=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Ue=function(){function e(t,a,n){if(B(this,e),this._setResourceIncreasingRate(),this._setList(a),this.ShownTab=t,this.CurrentValue_MAX=t.CurrentValue_MAX,void 0===n)this.TargetValue_html=this._CorrectTargetValueHtml(),this.TargetValue=this._CorrectTargetValue();else{this.TargetValue=n,this.TargetValue_half=this.TargetValue.slice();for(var i=0;i<8;i++)this.TargetValue_half[i]=.5*this.TargetValue_half[i]}this._Norm_Target=this._getNorm(this.TargetValue)}return Je(e,[{key:"_setResourceIncreasingRate",value:function(){var e=c(!0);this.ResourceIncreasingRate=1+e/200}},{key:"_setList",value:function(e){this.List=new Array(e);for(var t=0;t<e;t++)this.List[t]=new Array(13)}},{key:"_CorrectTargetValueHtml",value:function(){var e=T(),t=e.slice(0,4),a=e.slice(4,8);return t=this._CorrectTargetValueHtml_main(t),a=this._CorrectTargetValueHtml_main(a),g(e=t.concat(a)),e}},{key:"_CorrectTargetValueHtml_main",value:function(e){for(var t=at(e),a=Math.round(t/5e3*100)/100,n=0;n<4;n++)0!==e[n]&&(e[n]=Math.max(a,e[n]));return e}},{key:"_CorrectTargetValue",value:function(){var e=this._CorrectResourceValue(),t=this._CorrectContractValue(),a=e.concat(t);if("0,0,0,0,0,0,0,0"===a.toString())throw alert(H.JS.TargetValue0_alert),"--";return a}},{key:"_CorrectResourceValue",value:function(){var e=this.TargetValue_html.slice(0,4),t=100-b();return this._ValuesNotAll0(e)&&this._CorrectValue(e,t),e}},{key:"_CorrectContractValue",value:function(){var e=this.TargetValue_html.slice(4,8),t=b();return this._ValuesNotAll0(e)&&this._CorrectValue(e,t),e}},{key:"_ValuesNotAll0",value:function(e){for(var t=0;t<e.length;t++)if(0!==e[t])return!0;return!1}},{key:"_CorrectValue",value:function(e,t){for(var a=t/at(e),n=0;n<e.length;n++)e[n]*=a}},{key:"_getNorm",value:function(e){for(var t=0,a=0;a<e.length;a++)t+=e[a]*e[a];return Math.pow(t,.5)}},{key:"CalculateAndPush_Standardization_And_CalculateMissionsValue",value:function(e,t,a,n){if(this._CurrentValue=this.ShownTab.Calculate_Current(e,t,a,n),-1!==this._CurrentValue[0]){var i=this._calculateValue(),l=this.ShownTab.Qvalid;l[e][11]+=i,l[t][11]+=i,l[a][11]+=i,l[n][11]+=i,0 in this.List[this.List.length-1]?this._push(e,t,a,n,i):this._push_FirstEmptyRow(e,t,a,n,i)}}},{key:"CalculateAndPush_Standardization",value:function(e,t,a,n){if(this._CurrentValue=this.ShownTab.Calculate_Current(e,t,a,n),-1!==this._CurrentValue[0]){var i=this._calculateValue();0 in this.List[this.List.length-1]?this._push(e,t,a,n,i):this._push_FirstEmptyRow(e,t,a,n,i)}}},{key:"CalculateAndPush",value:function(e,t,a,n){if(this._CurrentValue=this.ShownTab.Calculate_Current(e,t,a,n),-1!==this._CurrentValue[0]){for(var i=0;i<8;i++)if(this._CurrentValue[i]<this.TargetValue_half[i])return;var l=this._calculateValue_2();0 in this.List[this.List.length-1]?this._push(e,t,a,n,l):this._push_FirstEmptyRow(e,t,a,n,l)}}},{key:"_push_FirstEmptyRow",value:function(e,t,a,n,i){for(var l=this.List.length-1;0!==l&&!(0 in this.List[l-1]);)l--;this._PushIntoThisRow(l,e,t,a,n,i),this._SortListByValue(l,i)}},{key:"_push",value:function(e,t,a,n,i){var l=this.List.length-1;i<=this.List[l][12]||(this._PushIntoThisRow(l,e,t,a,n,i),this._SortListByValue(l,i))}},{key:"_PushIntoThisRow",value:function(e,t,a,n,i,l){var r=this._CurrentValue;this.List[e]=[t,a,n,i,r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],l]}},{key:"_SortListByValue",value:function(e,t){for(var a=e-1;a>=0&&t>this.List[a][12];a--){var n=[this.List[a],this.List[a+1]];this.List[a+1]=n[0],this.List[a]=n[1]}}},{key:"_calculateValue",value:function(){var e=[0,0,0,0,0,0,0,0],t=this.TargetValue,a=this._CurrentValue;0!==t[0]&&(e[0]=a[0]),0!==t[1]&&(e[1]=a[1]),0!==t[2]&&(e[2]=a[2]),0!==t[3]&&(e[3]=a[3]),0!==t[4]&&(e[4]=500*a[4]),0!==t[5]&&(e[5]=500*a[5]),0!==t[6]&&(e[6]=500*a[6]),0!==t[7]&&(e[7]=500*a[7]);var n=this._getNorm(e);if(0===n)return 0;var i=this._getDotProduct(e,this.TargetValue)/this._Norm_Target,l=i/n,r=(-.698131700797732*l*l-.872664625997164)*l+1.57079632679489,o=1-.5*(0<r?r:0);return i*(o*o)}},{key:"_getDotProduct",value:function(e,t){for(var a=0,n=0;n<8;n++)a+=e[n]*t[n];return a}},{key:"_calculateValue_2",value:function(){return function(e,t){for(var a=0,n=99999999999,i=0;i<8;i++)0!=e[i]&&(n=Math.min(n,t[i]/e[i]));for(var i=0;i<8;i++)a+=nt(e[i],t[i],n);return a}(this.TargetValue,this._CurrentValue)}},{key:"print",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Ranking";if(!(0 in this.List[0]))throw document.getElementById("Plan_Table").innerHTML=H.JS.NoPlan,Ke=[],"--";for(var a,n=[],i=0;i<this.List.length&&0 in this.List[i];i++){var l=[];l.push(i);for(var r=new Array(4),o=0;o<4;o++)r[o]=this.ShownTab.Qvalid[this.List[i][o]][0];r=r.sort(Xe);for(o=0;o<4;o++)l.push(r[o]);for(o=0;o<4;o++)l.push(this.List[i][o+4]*this.ResourceIncreasingRate*this.CurrentValue_MAX[o]);for(o=4;o<8;o++)l.push(this.List[i][o+4]*this.CurrentValue_MAX[o]);var u=this.ShownTab.PrintTableCustomize(this,i);for(o=0;o<u.length;o++)l.push(u[o]);n.push(l)}switch(a=ge()?60:this.ShownTab.TotalTime,t){case"Ranking":Ye="Ranking";break;case"Manp":W(n,5),Ye="Manp";break;case"Ammu":W(n,6),Ye="Ammu";break;case"Rati":W(n,7),Ye="Rati";break;case"Part":W(n,8),Ye="Part";break;case"TPro":W(n,9),Ye="TPro";break;case"Equi":W(n,10),Ye="Equi";break;case"QPro":W(n,11),Ye="QPro";break;case"QRes":W(n,12),Ye="QRes"}Ke=n,je(e,n,a)}}]),e}();function Xe(e,t){return parseInt(e.replace(/[^0-9]/gi,""))-parseInt(t.replace(/[^0-9]/gi,""))}function je(e,t,a){var n=0;null!==document.getElementById("result_plan_table")&&(n=document.getElementById("result_plan_table").scrollLeft);var i=document.activeElement.id,l=document.getElementById("Plan_Table"),r=function(){var e=["MT","AT","RT","PT","TT","ET","QPT","QRT"],t=H.JS,a=[t.FineTuningManp,t.FineTuningAmmu,t.FineTuningRati,t.FineTuningPart,t.FineTuningTPro,t.FineTuningEqui,t.FineTuningQPro,t.FineTuningQRes],n='<div class="panel panel-default" style="margin-bottom:5px">';n+='<div class="panel-heading">',n+='<h4 class="panel-title"><a data-toggle="collapse" href="#FineTuningTool" class="collapsed">'+t.FineTuningTool+"</a></h4></div>",n+='<div id="FineTuningTool" class="panel-collapse collapse">',n+='<div class="panel-body" style="padding-left: 5px; padding-right: 5px;">';for(var i=0;i<8;i++)0===i&&(n+='<div class="col-lg-6 col-md-6 col-sm-6" style="padding-left: 5px; padding-right: 5px;">'),4===i&&(n+='</div> <div class="col-lg-6 col-md-6 col-sm-6" style="padding-left: 5px; padding-right: 5px;">'),n+='<div class="form-group input-group" style="margin-bottom: 10px; width: 100%;">',n+='<span class="input-group-addon" style="cursor:default; width:auto;" id="FineTuningTool_'+e[i]+'">'+a[i]+"</span>",n+='<div class="input-group-btn" style="width: '+H.CSS.FineTuningButton_Width+';">',n+='<button class="btn btn-default" style="width: 50%;" type="button" id="FineTuning_minus_'+e[i]+'"',0===it[i]?n+='disabled="disabled"':lt[i]-it[i]/50<=0?n+='disabled="disabled"':lt[i]-it[i]/50<.9*it[i]&&(n+='disabled="disabled"'),n+='title="'+H.HTMLJS.FineTuning_minus+'"><b>-</b></button>',n+='<button class="btn btn-default" style="width: 50%;" type="button" id="FineTuning_plus_'+e[i]+'"',0===it[i]?n+='disabled="disabled"':lt[i]+it[i]/50>=1?n+='disabled="disabled"':lt[i]-it[i]/50>1.14*it[i]&&(n+='disabled="disabled"'),n+='title="'+H.HTMLJS.FineTuning_plus+'"><b>+</b></button>',n+="</div></div>";return n+="</div></div></div></div>"}();r+='<div class="table-responsive" id="result_plan_table">',r+='<table class="table table-striped table-hover table-responsive text-nowrap" style="margin-bottom: 0px; cursor: default;">';var o,u,s=et();r+=s.PrintPlanTableTitle()+"<tbody>",4===st.length?(o=!0,(u=st.slice()).sort(Xe)):o=!1;for(var _=0;_<t.length;_++){o&&t[_][1]===u[0]&&t[_][2]===u[1]&&t[_][3]===u[2]&&t[_][4]===u[3]?r+="<tr tabindex='0' id='print_result_plan_tr_"+_+"' class='success'>":r+="<tr tabindex='0' id='print_result_plan_tr_"+_+"'>";for(var c=0;c<4;c++)r+="<td style='text-align: center; width: 5%;'>",r+=""+t[_][c+1],r+="</td>";for(c=4;c<8;c++)r+="<td style='text-align: center; width:"+s.PlanTableResourceAndContractWidth+"'>",r+=""+Math.round(t[_][c+1]*a*10)/10,r+="</td>";for(c=8;c<12;c++)r+="<td style='text-align: center; width:"+s.PlanTableResourceAndContractWidth+";'>",r+=""+Math.round(t[_][c+1]*a*100)/100,r+="</td>";var d=t[0].length;for(c=13;c<d;c++)r+="<td style='text-align: center; width:"+s.PlanTableResourceAndContractWidth+";'>",r+=t[_][c],r+="</td>";r+="</tr>"}r+="</tbody>",l.innerHTML=r,e&&(document.getElementById("FineTuningTool").style.transition="none",$("#FineTuningTool").collapse("show")),de()&&(document.getElementById("FineTuningTool").style.transition="none"),document.getElementById("start_sorting_html").style.display="none",""!==i&&document.getElementById(i).focus(),document.getElementById("result_plan_table").scrollLeft=n}var Ke=[],Ye="",Ze=void 0;function et(){var e;switch(Te){case"Anytime":e=new Ge;break;case"Timetable":e=new Oe}return e}function tt(e,t){for(var a=function(e,t){var a=new Array(4);a="Resource"===e?t.TargetValue_html.slice(0,4):t.TargetValue_html.slice(4,8);return a}(e.class,t),n=function(e,t){var a=new Array(4);a="Resource"===e?t.CurrentValue_MAX.slice(0,4):t.CurrentValue_MAX.slice(4,8);return a}(e.class,t),i=0,l=e.length,r=0;r<e.length;r++)0!==e[r]?(i+=a[r]/e[r],0===a[r]&&l--):l--;if(0!==i)i/=l;else{for(var o=0,u=(l=e.length,0);u<e.length;u++)0!==n[u]?o+=n[u]:l--;0===l?o=0:o/=l,i=at(a)/o}return i}function at(e){for(var t=0,a=0;a<e.length;a++)t=Math.max(t,e[a]);return t}function nt(e,t,a){return 0===e?0:Math.min(t,1.5*e*a)+.5*(Math.min(t,e)-Math.min(t,1.5*e*a))}var it=new Array(8),lt=new Array(8);var rt=void 0;function ot(e,t){var a=["MT","AT","RT","PT","TT","ET","QPT","QRT"].indexOf(t);-1===e?lt[a]-=it[a]/50:lt[a]+=it[a]/50,function(){for(var e=new Ue(rt,16,lt),t=rt.Qvalid.length,a=t-3,n=t-2,i=t-1,l=t,r=0;r<a;r++)for(var o=r+1;o<n;o++)for(var u=o+1;u<i;u++)for(var s=u+1;s<l;s++)e.CalculateAndPush(r,o,u,s);e.print(!0,Ye)}()}var ut=[],st=[];function _t(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(ut=function(){var e=et();e.setTime(!1),e.setValidQAndReturnLengthAndSetCurrentMax();for(var t=e.Qvalid,a=t.length,n=0;n<a;n++){var i=t[n][0],l=i.indexOf("-"),r=i.slice(0,l),o=i.slice(l+1),u=4*parseInt(r)+parseInt(o);t[n].push(u)}G(t,12);for(var s=1+c()/200,n=0;n<a;n++)t[n][1]*=s,t[n][2]*=s,t[n][3]*=s,t[n][4]*=s;return t}());for(var e=ut,n=Ze,i="",l=e.length,r=st.slice(),o=0;o<l;o++){i+='<tr style="cursor: default;" id="MissionTable_'+o+'" tabindex="0"';for(var u=0;u<r.length;u++)if(r[u]===e[o][0]){r.splice(u,1),i+='class="success"';break}i+='><td style="width: 10%;">'+e[o][0]+"</td>";for(u=1;u<9;u++)i+='<td style="width: 10%;">'+t(e[o][u]*n)+"</td>";i+='<td style="width: 10%;">'+a(e[o][9])+"</td>",i+="<tr>"}for(o=0;o<r.length;o++)st.remove_First(r[o]);0===l&&(i="<tr><td>"+H.JS.NoMission+"</td></tr>"),document.getElementById("MissionTable_tbody").innerHTML=i}function ct(){if(dt(),Tt(),mt(),gt(),document.getElementById("PlanDetails_Mission_1").innerHTML="",document.getElementById("PlanDetails_Mission_2").innerHTML="",document.getElementById("PlanDetails_Mission_3").innerHTML="",document.getElementById("PlanDetails_Mission_4").innerHTML="",document.getElementById("PlanDetails_PerHour").innerHTML="",document.getElementById("PlanDetails_Total").innerHTML="",echarts.init(document.getElementById("PlanDetails_Chart")).dispose(),document.getElementById("PlanDetails_Chart").style.width=0,document.getElementById("PlanDetails_Chart").style.height=0,0!==st.length){var e=ht();!function(e){for(var n=["#C5D8FF","#FFBFBE","#B6F4B5","#FFEBC7"],i=0;i<e.length;i++){var l="";l+="<td style='text-align:center; width: 61px;'>"+e[i][0]+"</td>";for(var r=1;r<9;r++)l+="<td style='text-align:center; width: 61px;'>",l+=t(60*e[i][r]),l+="</td>";l+="<td style='text-align:center;'>"+a(e[i][9])+"</td>",document.getElementById("PlanDetails_Mission_"+(i+1)).innerHTML=l,document.getElementById("PlanDetails_Mission_"+(i+1)).style.backgroundColor=n[i]}}(e),function(e){var a="";a+="<td style='text-align:center; width: 61px;'id='PlanDetails_PerHour_title'>"+H.JS.PerHour+"</td>";for(var n=1;n<9;n++){a+="<td style='text-align:center; width: 61px;'>";for(var i=0,l=0;l<e.length;l++)i+=e[l][n];a+=t(60*i),a+="</td>"}a+="Anytime"!==Te?"<td></td>":"<td id='PlanDetails_AnytimeMinIntervalTime'>"+H.JS.MinIntervalTime+"</td>";document.getElementById("PlanDetails_PerHour").innerHTML=a}(e);var n=et();n.setTime(!1);var i=n.TotalTime;pt(e,i,V()),bt(e,i)}}function dt(){var e;switch(Te){case"Anytime":e=H.HTML.Tab_Anytime_name;break;case"Timetable":e=H.HTML.Tab_Timetable_name}document.getElementById("PlanDetails_ShownTab").innerHTML=H.JS.PlanDetails_calculateMethod+": "+e}function Tt(){var e=et();e.setTime(!1);var t=e.TotalTime;document.getElementById("PlanDetails_TotalTime").innerHTML=H.JS.total_time+": "+a(t)}function mt(){var e=c();document.getElementById("PlanDetails_GreatSuccessRate").innerHTML=H.JS.total_greatSuccessRate+": "+e+"%"}function gt(){var e=V();document.getElementById("PlanDetails_ExecutionTimes").innerHTML=H.JS.ExecutionTimes+": "+e}function ht(){for(var e=[],t=st.slice().sort(Xe),a=ut,n=0;n<t.length;n++){for(var i,l=0;l<a.length;l++)if(t[n]===a[l][0]){i=l;break}e.push(a[i])}return e}function pt(e,n,i){for(var l="<td style='text-align:center; width: 61px;'id='PlanDetails_Total_title'>"+H.JS.Total+"</td>",r=1;r<9;r++){l+="<td style='text-align:center; width: 61px;'>";for(var o=0,u=0;u<e.length;u++)o+=e[u][r];l+=t(o*n*i),l+="</td>"}if("Anytime"!==Te)l+="<td></td>";else{for(var s=[],_=0;_<e.length;_++)s.push(e[_][9]);for(_=e.length;_<4;_++)s.push(n);N(s),l+="<td>"+a(qe(s,n))+"</td>"}document.getElementById("PlanDetails_Total").innerHTML=l}function bt(e,t){if(!(t>4320)){document.getElementById("PlanDetails_Chart").style.width="610px",document.getElementById("PlanDetails_Chart").style.height="120px";for(var a=echarts.init(document.getElementById("PlanDetails_Chart")),i=[],l=[],r=[],o=[],u=[],s=["#A1C0FF","#FF8C8A","#75d874","#FFDA93"],_=e.length-1;_>=0;_--)i.push(e[_][0]),l.push(e[_][9]),r.push(e[_][10]),o.push(e[_][10].length),u.push({name:e[_][0],color:s[_]});var c=[],d=void 0;d=t<=960?60:t<=1920?120:t<=2880?180:t<=3840?240:300;var T=A();echarts.util.each(["0","1","2","3"],function(e,t){for(var a,n=0;n<o[e];n++){var i=u[e],s=l[e];c.push({name:i.name,value:[t,a=r[e][n]-s,a+=s-1,s-1],itemStyle:{normal:{color:i.color}}}),c.push({name:"none",value:[t,a=r[e][n]-1,a+=1,1],itemStyle:{normal:{color:"#000000"}}})}});var m={title:{show:!1},grid:{left:35,right:20,top:5,bottom:20,height:"auto"},xAxis:{min:0,scale:!0,axisLabel:{formatter:function(e){return n(e+T)}},max:t,interval:d},yAxis:{data:i},series:[{type:"custom",renderItem:vt,itemStyle:{normal:{opacity:.8}},encode:{x:[1,2],y:0},data:c}],animation:!1,backgroundColor:"#FFFFFF"};a.setOption(m)}}function vt(e,t){var a=t.value(0),n=t.coord([t.value(1),a]),i=t.coord([t.value(2),a]),l=.5*t.size([0,1])[1],r=echarts.graphic.clipRectByRect({x:n[0],y:n[1]-l/2,width:i[0]-n[0],height:l},{x:e.coordSys.x,y:e.coordSys.y,width:e.coordSys.width,height:e.coordSys.height});return r&&{type:"rect",shape:r,style:t.style()}}var ft=[];function yt(e){0===e&&(document.getElementById("NoSaved").style.display="none");var t="";t+='<tr id="SavedTable_row_'+e+'"',t+='><td><button type="button" class="btn btn-default"id="SavedTable_apply_'+e+'" title="'+H.HTMLJS.SavedTable_apply+'" style="background-color: #88E063;">',t+='<span class="glyphicon glyphicon-ok"style="top: 2px;" /></button></td><td><div class="form-group input-group" style="margin-bottom: 0px;">',t+='<input type="text" class="form-control" style="min-width: 140px;"id="SavedTable_name_'+e+'" placeholder="'+H.HTMLJS.SavedTable_name+'"',t+='value="'+ft[e].data[0]+'"readonly="readonly">',t+='<div class="input-group-btn"><button type="button" class="btn btn-default"id="SavedTable_rename_'+e+'" title="'+H.HTMLJS.SavedTable_rename+'"><span class="glyphicon glyphicon-pencil"style="top: 2px;" /></button></div>',t+="</div></td>",t+='<td><div class="btn-group" style="min-width: 80px;"><button type="button" class="btn btn-default"id="SavedTable_up_'+e+'"" title="'+H.HTMLJS.SavedTable_up+'"',0===e&&(t+='disabled="disabled"'),t+=">",t+='<span class="glyphicon glyphicon-arrow-up"style="top: 2px;" /></button>',t+='<button type="button" class="btn btn-default"id="SavedTable_down_'+e+'" title="'+H.HTMLJS.SavedTable_down+'"',e===ft.length-1&&(t+='disabled="disabled"'),t+='><span class="glyphicon glyphicon-arrow-down"style="top: 2px;" /></button></div></td>',t+='<td><button type="button" class="btn btn-default"id="SavedTable_export_'+e+'" title="'+H.HTMLJS.SavedTable_export+'"><span class="glyphicon glyphicon-export"style="top: 2px;" /></button></td>',t+='<td><button type="button" class="btn btn-default"id="SavedTable_delete_'+e+'" title="'+H.HTMLJS.SavedTable_delete+'" style="background-color: #F48380;"><span class="glyphicon glyphicon-trash"style="top: 2px;" /></button></td></tr>',$("#Saved_Body").append(t),0!==e&&$("#SavedTable_down_"+(e-1)).removeAttr("disabled")}function Pt(e){var t=!0;if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]){var a=ft[e].data[0],n=H.JS.deleteSavedWarning_1+'"'+a+'"'+H.JS.deleteSavedWarning_2;t=confirm(n)}if(t){for(var i=e;i<ft.length-1;i++)$("#SavedTable_name_"+i).val(ft[i+1].data[0]);var l=document.getElementById("SavedTable_row_"+(ft.length-1));document.getElementById("Saved_Body").removeChild(l),ft.splice(e,1),U("SAVED",ft),0!==ft.length?($("#SavedTable_up_0").attr("disabled","true"),$("#SavedTable_down_"+(ft.length-1)).attr("disabled","true")):document.getElementById("NoSaved").style.display=""}}function St(){for(var e=[0,0,0,0,0,0,0,0],a=E(!0),n=k(!0),i=D(!0),l=0;l<8;l++)e[l]=Math.max(0,(a[l]-n[l])/i);var r=["Manp","Ammu","Rati","Part","TPro","Equi","QPro","QRes"];for(l=0;l<8;l++)$("#calcTargetValueTool_Result_"+r[l]+"_value").html(t(e[l]));return e}